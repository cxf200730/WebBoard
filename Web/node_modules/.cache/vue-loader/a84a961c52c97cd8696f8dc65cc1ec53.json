{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/test2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/test2.vue","mtime":1629786102817},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcKZXhwb3J0IGRlZmF1bHQgewpjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWydsaW5lczEnLCdsaW5lczInLCJ0ZWFjaGVyTGluZXMiXSksCiAgICBmdW4yKCl7CiAgICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUubGluZXMyKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUubGluZXMyCiAgICB9LAogICAgLi4ubWFwR2V0dGVycyhbJ2lzR2FtZVN0YXJ0ZWQnLCAnaXNHYW1lSG9sZGVyJ10pLAp9LAptb3VudGVkKCl7CiAgICB0aGlzLmdldFhiID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkMScpLmNsaWVudFdpZHRoCiAgICB0aGlzLmdldFliID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkMScpLmNsaWVudEhlaWdodAogICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykudHJhbnNsYXRlKDAuNSwwLjUpCiAgICB0aGlzLnN0YWdlQ29uZmlnLndpZHRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50V2lkdGgKICAgIHRoaXMuc3RhZ2VDb25maWcuaGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50SGVpZ2h0CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luaXRYYicsIHRoaXMuZ2V0WGIpCiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luaXRZYicsIHRoaXMuZ2V0WWIpCiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmdldFhiICsgIiAiICsgdGhpcy5nZXRZYik7Cn0sCmRhdGEoKXsKICAgIHJldHVybnsKICAgICAgICBjbGFzc0NvZGU6MTEwMSwKICAgICAgICAvLyDnlLvluIPphY3nva4KICAgICAgc3RhZ2VDb25maWc6IHsKICAgICAgICB3aWR0aDogMTMwMCwKICAgICAgICBoZWlnaHQ6IDQ1MAogICAgICB9LAogICAgICAvLyDnu5jnlLvnirbmgIEKICAgICAgcGFpbnRpbmc6IGZhbHNlLAogICAgICBzdHJva2U6ICcjZDQyZDFmJywKICAgICAgc3Ryb2tlV2lkdGg6IDIuMSwKICAgICAgZ2V0WGI6MSwKICAgICAgZ2V0WWI6MSwKICAgIH0KfSwKbWV0aG9kczogewogICAgLy8g6byg5qCH5oyJ5LiLCiAgICBtb3VzZWRvd25IYW5kbGVyKGUpIHsKICAgICAgdGhpcy5wYWludGluZyA9IHRydWUKICAgICAgY29uc29sZS5sb2coZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkKTsKICAgICAgLy8gYWxlcnQoZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkKQogICAgICBpZihlLmN1cnJlbnRUYXJnZXQuYXR0cnMuaWQgPT09ICJzdGFnZSIpewogICAgICAgIGNvbnN0IG5ld0xpbmUgPSB7CiAgICAgICAgc3Ryb2tlOiB0aGlzLnN0cm9rZSwKICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5zdHJva2VXaWR0aCwKICAgICAgICBwb2ludHM6IFtlLmV2dC5sYXllclggLyB0aGlzLmdldFhiLCBlLmV2dC5sYXllclkgLyB0aGlzLmdldFliXQogICAgICB9CgogICAgICAgIC8vIOivt+axguacjeWKoeWZqAogICAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0ZWFjaGVyc2VuZERyYXdOZXdMaW5lJywgbmV3TGluZSkKICAgICAgICAvLyDmnKzlnLDnlLvnur8sIOWtmOWIsHZ1ZXjkuK0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJkcmF3TmV3TGluZScsIG5ld0xpbmUpCiAgICAgIH1lbHNlewogICAgICAgIGNvbnN0IG5ld0xpbmUgPSB7CiAgICAgICAgc3Ryb2tlOiB0aGlzLnN0cm9rZSwKICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5zdHJva2VXaWR0aCwKICAgICAgICBwb2ludHM6IFtlLmV2dC5sYXllclggLyB0aGlzLmdldFhiLCBlLmV2dC5sYXllclkgLyB0aGlzLmdldFliXQogICAgICB9CiAgICAgICAgLy8g6K+35rGC5pyN5Yqh5ZmoCiAgICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RlYWNoZXJzZW5kRHJhd05ld0xpbmUyJywgbmV3TGluZSkKICAgICAgICAvLyDmnKzlnLDnlLvnur8sIOWtmOWIsHZ1ZXjkuK0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJkcmF3TmV3TGluZTInLCBuZXdMaW5lKQogICAgICB9CiAgICB9LAoKICAgIC8vIOm8oOagh+aLluWKqAogICAgbW91c2Vtb3ZlSGFuZGxlcihlKSB7CiAgICAgIGlmICghdGhpcy5wYWludGluZykgcmV0dXJuCiAgICAgIGlmKGUuY3VycmVudFRhcmdldC5hdHRycy5pZCA9PT0gInN0YWdlIil7CiAgICAgICAgY29uc3QgbGFzdExpbmUgPSB0aGlzLmxpbmVzMVt0aGlzLmxpbmVzMS5sZW5ndGggLSAxXQogICAgICAgIGxhc3RMaW5lLnBvaW50cyA9IGxhc3RMaW5lLnBvaW50cy5jb25jYXQoW2UuZXZ0LmxheWVyWCAvIHRoaXMuZ2V0WGIsIGUuZXZ0LmxheWVyWSAvIHRoaXMuZ2V0WWJdKSAKICAgICAgICAvLyDor7fmsYLmnI3liqHlmagKICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVhY2hlcnNlbmRVcGRhdGVOZXdMaW5lJywgbGFzdExpbmUpCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVydXBkYXRlTmV3TGluZTEnLCBsYXN0TGluZSkKICAgICAgfWVsc2V7CiAgICAgICAgY29uc3QgbGFzdExpbmUgPSB0aGlzLmxpbmVzMlt0aGlzLmxpbmVzMi5sZW5ndGggLSAxXQogICAgICAgIGxhc3RMaW5lLnBvaW50cyA9IGxhc3RMaW5lLnBvaW50cy5jb25jYXQoW2UuZXZ0LmxheWVyWCAvIHRoaXMuZ2V0WGIsIGUuZXZ0LmxheWVyWSAvIHRoaXMuZ2V0WWJdKSAKICAgICAgICAgLy8g6K+35rGC5pyN5Yqh5ZmoCiAgICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RlYWNoZXJzZW5kVXBkYXRlTmV3TGluZTInLCBsYXN0TGluZSkKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJ1cGRhdGVOZXdMaW5lMicsIGxhc3RMaW5lKQogICAgICB9CiAgICB9LAoKICAgIC8vIOm8oOagh+mHiuaUvgogICAgbW91c2V1cEhhbmRsZXIoKSB7CiAgICAgIHRoaXMucGFpbnRpbmcgPSBmYWxzZQogICAgfSwKfQoKfQo="},{"version":3,"sources":["test2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"test2.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<el-container>\n    <el-header>\n        <el-tag>房间号：{{classCode}}</el-tag> \n    </el-header>\n    <el-main>\n        <el-row :gutter=\"20\" v-for=\"i in 5\" :key=\"i\">\n            <el-col :span=\"6\" v-for=\"j in 4\" :key=\"j\">\n                <div class=\"grid-content bg-purple\">\n                    <div class=\"userinfo\">{{(i-1)*4 + j}}</div>\n                        <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card1\">\n                            {{(i-1)*4 + j}} + {{i}}\n                            <v-stage\n                            :id=\"'stage' + ((i-1)*4 + j)\"\n                            :config=\"stageConfig\"\n                            @mousedown=\"mousedownHandler\"\n                            @mouseup=\"mouseupHandler\"\n                            @mousemove=\"mousemoveHandler\"\n                            >\n                            <v-layer>\n                                <v-line\n                                v-for=\"(line, index) in teacherLines[(i-1)*4 + j - 1]\"\n                                :key=\"index\"\n                                :config=\"line\"\n                                />\n                            </v-layer>\n                        </v-stage>\n                    </el-card>\n                </div>\n            </el-col>\n        </el-row>     \n    </el-main>\n</el-container>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\ncomputed: {\n    ...mapState(['lines1','lines2',\"teacherLines\"]),\n    fun2(){\n        console.log(this.$store.state.lines2);\n        \n        return this.$store.state.lines2\n    },\n    ...mapGetters(['isGameStarted', 'isGameHolder']),\n},\nmounted(){\n    this.getXb =  document.getElementById('card1').clientWidth\n    this.getYb =  document.getElementById('card1').clientHeight\n    // document.getElementById('card1').translate(0.5,0.5)\n    this.stageConfig.width = document.getElementById('card1').clientWidth\n    this.stageConfig.height = document.getElementById('card1').clientHeight\n    this.$store.commit('initXb', this.getXb)\n    this.$store.commit('initYb', this.getYb)\n    // console.log(this.getXb + \" \" + this.getYb);\n},\ndata(){\n    return{\n        classCode:1101,\n        // 画布配置\n      stageConfig: {\n        width: 1300,\n        height: 450\n      },\n      // 绘画状态\n      painting: false,\n      stroke: '#d42d1f',\n      strokeWidth: 2.1,\n      getXb:1,\n      getYb:1,\n    }\n},\nmethods: {\n    // 鼠标按下\n    mousedownHandler(e) {\n      this.painting = true\n      console.log(e.currentTarget.attrs.id);\n      // alert(e.currentTarget.attrs.id)\n      if(e.currentTarget.attrs.id === \"stage\"){\n        const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]\n      }\n\n        // 请求服务器\n        // this.$store.dispatch('teachersendDrawNewLine', newLine)\n        // 本地画线, 存到vuex中\n        this.$store.commit('teacherdrawNewLine', newLine)\n      }else{\n        const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]\n      }\n        // 请求服务器\n        // this.$store.dispatch('teachersendDrawNewLine2', newLine)\n        // 本地画线, 存到vuex中\n        this.$store.commit('teacherdrawNewLine2', newLine)\n      }\n    },\n\n    // 鼠标拖动\n    mousemoveHandler(e) {\n      if (!this.painting) return\n      if(e.currentTarget.attrs.id === \"stage\"){\n        const lastLine = this.lines1[this.lines1.length - 1]\n        lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]) \n        // 请求服务器\n        // this.$store.dispatch('teachersendUpdateNewLine', lastLine)\n        this.$store.commit('teacherupdateNewLine1', lastLine)\n      }else{\n        const lastLine = this.lines2[this.lines2.length - 1]\n        lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]) \n         // 请求服务器\n        // this.$store.dispatch('teachersendUpdateNewLine2', lastLine)\n        this.$store.commit('teacherupdateNewLine2', lastLine)\n      }\n    },\n\n    // 鼠标释放\n    mouseupHandler() {\n      this.painting = false\n    },\n}\n\n}\n</script>\n<style lang = \"less\" scoped>\n.el-container{\n    width: 100%;\n    height: 100%;\n    background-color: aqua;\n\n    .el-header{\n        line-height: 60px;\n    }\n\n    .el-main{\n        background-color: aquamarine;\n        /* overflow: hidden; */\n        .el-row {\n            margin-bottom: 20px;\n            height: 50%;\n        } \n        .el-col {\n            border-radius: 4px;\n            height: 90%;\n\n            .bg-purple {\n                background: #d3dce6;\n            }\n            .grid-content {\n                border-radius: 4px;\n                height: 100%;\n                display: flex;\n                flex-flow: column;\n\n                .userinfo{\n                    background-color: black;\n                    color: #FFFFFF;\n                    font-weight: bold;\n                    height: 40px;\n                    line-height: 40px;\n                    padding-left: 10px;\n                    letter-spacing: 3px;\n                }\n            }\n        }\n    }\n}\n.el-card{\n    width: 100%;\n    height: 100%;\n}\n</style>"]}]}