{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/Teacher/components/app-side-panel.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/Teacher/components/app-side-panel.vue","mtime":1629601198129},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdWx0RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGV4cGVjdEltYWdlTmFtZTogJycsCiAgICAgIGFuc3dlckRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBpbnB1dEltYWdlTmFtZTogJycKICAgIH0KICB9LAoKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWyd0ZWFjaGVycGhvbmUnLCAndGVhY2hlcnBob25lcycsICdob2xkZXInXSksCiAgICAuLi5tYXBHZXR0ZXJzKFsnaXNHYW1lU3RhcnRlZCddKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIHN0YXJ0R2FtZUhhbmRsZXIoKSB7CiAgICAgIC8vIOW8gOWni+a4uOaIjwogICAgICAvLyAxLiDmmL7npLrlvLnmoYYKICAgICAgdGhpcy5yZXN1bHREaWFsb2dWaXNpYmxlID0gdHJ1ZQogICAgICAvLyAyLiDmuIXnqbrovpPlhaXmoYblhoXlrrkKICAgICAgdGhpcy5leHBlY3RJbWFnZU5hbWUgPSAnJwogICAgfSwKCiAgICBzdG9wR2FtZUhhbmRsZXIoKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+ehruWumuimgee7iOatoua4uOaIj+WQlz8nLCAn5rip6aao5o+Q56S6JykudGhlbigoKSA9PiB7CiAgICAgICAgLy8g5Y+R6YCB5ri45oiP57uI5q2i55Sz6K+3CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlbmRTdG9wR2FtZScpCiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgIH0pCiAgICB9LAoKICAgIGFuc3dlckdhbWVIYW5kbGVyKCkgewogICAgICB0aGlzLmFuc3dlckRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIHRoaXMuaW5wdXRJbWFnZU5hbWUgPSAnJwogICAgfSwKCiAgICBzYXZlRGlhbG9nSGFuZGxlcigpIHsKICAgICAgLy8gMS4g5qCh6aqM562U5qGI5piv5ZCm5Li656m6CiAgICAgIGlmICghdGhpcy5leHBlY3RJbWFnZU5hbWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfnrZTmoYjkuI3og73kuLrnqbrlk6YhJykKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAvLyAyLiDlj5HpgIHlvIDlp4vmuLjmiI/nmoTnlLPor7cKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlbmRTdGFydEdhbWUnLCB0aGlzLmV4cGVjdEltYWdlTmFtZSkKCiAgICAgIC8vIDMuIOWFs+mXreW8ueahhgogICAgICB0aGlzLnJlc3VsdERpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgfSwKCiAgICBzYXZlQW5zd2VyRGlhbG9nSGFuZGxlcigpIHsKICAgICAgLy8gMS4g5qOA5p+l562U5qGI5piv5ZCm5Li656m6CiAgICAgIGlmICghdGhpcy5pbnB1dEltYWdlTmFtZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+etlOahiOS4jeiDveS4uuepuicpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgLy8gMi4g5bCG562U5qGI5Y+R6YCB5Yiw5pyN5Yqh5ZmoCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZW5kQW5zd2VyR2FtZScsIHRoaXMuaW5wdXRJbWFnZU5hbWUpCiAgICAgIC8vIDMuIOWFs+mXreW8ueWHuuahhgogICAgICB0aGlzLmFuc3dlckRpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgfSwKCiAgICBleGl0SGFuZGxlcigpIHsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm6YCA5Ye65ri45oiPJywgJ+a4qemmqOaPkOekuicpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZW5kVXNlckxlYXZlJykKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL2xvZ2luJykKICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["app-side-panel.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app-side-panel.vue","sourceRoot":"src/views/Game/components","sourcesContent":["<template>\n  <el-card>\n    <!-- 玩家列表 -->\n    <div class=\"panel-area\">\n      <ul class=\"participants\">\n        <li v-for=\"item in teacherphones\" :key=\"item\">\n          <span>{{ item }} {{ item === teacherphone ? '（我）' : '' }}</span>\n          <el-tag v-if=\"item === holder\" size=\"mini\">老师</el-tag>\n        </li>\n      </ul>\n    </div>\n\n    <!-- 按钮工具栏 -->\n    <div class=\"panel-area button-area\">\n      <el-button\n        v-if=\"!isGameStarted\"\n        type=\"primary\"\n        size=\"small\"\n        icon=\"el-icon-edit\"\n        @click=\"startGameHandler\"\n      >开始上课</el-button>\n\n      <el-button\n        v-if=\"isGameStarted && teacherphone === holder\"\n        type=\"warning\"\n        size=\"small\"\n        icon=\"el-icon-delete\"\n        @click=\"stopGameHandler\"\n      >结束上课</el-button>\n\n      <el-button\n        v-if=\"isGameStarted && teacherphone !== holder\"\n        type=\"success\"\n        size=\"small\"\n        icon=\"el-icon-magic-stick\"\n        @click=\"answerGameHandler\"\n        style=\"margin-top:20px\"\n      >回答问题</el-button>\n\n      <el-button\n        type=\"danger\"\n        size=\"small\"\n        icon=\"el-icon-switch-button\"\n        @click=\"exitHandler\"\n        style=\"margin-top:5px;margin-left:0\"\n      >退出课堂</el-button>\n    </div>\n\n    <!-- 弹出框：主持人设置答案 -->\n    <el-dialog\n      title=\"请设置答案\"\n      :visible.sync=\"resultDialogVisible\"\n      width=\"30%\"\n    >\n      <el-input v-model=\"expectImageName\" placeholder=\"请输入您的答案\" />\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"resultDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveDialogHandler\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 弹出框：答题人设置答案 -->\n    <el-dialog\n      title=\"请填写答案\"\n      :visible.sync=\"answerDialogVisible\"\n      width=\"30%\"\n    >\n      <el-input v-model=\"inputImageName\" placeholder=\"请输入您的答案\" />\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"answerDialogVisible = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"saveAnswerDialogHandler\"\n        >确 定</el-button>\n      </span>\n    </el-dialog>\n  </el-card>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      resultDialogVisible: false,\n      expectImageName: '',\n      answerDialogVisible: false,\n      inputImageName: ''\n    }\n  },\n\n  computed: {\n    ...mapState(['teacherphone', 'teacherphones', 'holder']),\n    ...mapGetters(['isGameStarted'])\n  },\n\n  methods: {\n    startGameHandler() {\n      // 开始游戏\n      // 1. 显示弹框\n      this.resultDialogVisible = true\n      // 2. 清空输入框内容\n      this.expectImageName = ''\n    },\n\n    stopGameHandler() {\n      this.$confirm('确定要终止游戏吗?', '温馨提示').then(() => {\n        // 发送游戏终止申请\n        this.$store.dispatch('sendStopGame')\n      }).catch(e => {\n        console.log(e)\n      })\n    },\n\n    answerGameHandler() {\n      this.answerDialogVisible = true\n      this.inputImageName = ''\n    },\n\n    saveDialogHandler() {\n      // 1. 校验答案是否为空\n      if (!this.expectImageName) {\n        this.$message.error('答案不能为空哦!')\n        return\n      }\n      // 2. 发送开始游戏的申请\n      this.$store.dispatch('sendStartGame', this.expectImageName)\n\n      // 3. 关闭弹框\n      this.resultDialogVisible = false\n    },\n\n    saveAnswerDialogHandler() {\n      // 1. 检查答案是否为空\n      if (!this.inputImageName) {\n        this.$message.error('答案不能为空')\n        return\n      }\n      // 2. 将答案发送到服务器\n      this.$store.dispatch('sendAnswerGame', this.inputImageName)\n      // 3. 关闭弹出框\n      this.answerDialogVisible = false\n    },\n\n    exitHandler() {\n      this.$confirm('是否退出游戏', '温馨提示').then(() => {\n        this.$store.dispatch('sendUserLeave')\n        this.$router.replace('/login')\n      }).catch(e => {\n        console.log(e)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.panel-area {\n  margin: 10px 0;\n}\n</style>\n"]}]}