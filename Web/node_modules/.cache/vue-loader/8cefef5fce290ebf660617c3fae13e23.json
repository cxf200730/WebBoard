{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/views/Login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/views/Login/index.vue","mtime":1628753135638},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IE1lc3NhZ2VCb3ggfSBmcm9tICdlbGVtZW50LXVpJwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOihqOWNleS/oeaBrwogICAgICBmb3JtRGF0YTogewogICAgICAgIHBob25lOiAnMTgxNzI2NDI5OTQnLAogICAgICAgIHBhc3N3b3JkOicxMjM0NTYnCiAgICAgIH0sCgogICAgICAvLyDmoKHpqozop4TliJkKICAgICAgcnVsZXM6IHsKICAgICAgICBwaG9uZTogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXmgqjnmoTmiYvmnLrlj7cnIH1dLAogICAgICAgIHBhc3N3b3JkOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeaCqOeahOWvhueggScgfV0KICAgICAgfQogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGxvZ2luKCkgewogICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZShhc3luYyBmbGFnID0+IHsKICAgICAgICBpZiAoIWZsYWcpIHJldHVybgoKICAgICAgICB0aGF0LmF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC90ZWFjaGVyL2xvZ2luJyxudWxsLHsKICAgICAgICAgICAgcGFyYW1zOnsKICAgICAgICAgICAgICAgIC8vIHBhcmFtc+WwseaYr3F1ZXJ55Y+CCiAgICAgICAgICAgICAgICBwaG9uZTp0aGF0LmZvcm1EYXRhLnBob25lLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6dGhhdC5mb3JtRGF0YS5wYXNzd29yZAogICAgICAgICAgICB9CiAgICAgICAgfSkudGhlbiggKHJlcykgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YS5tZXNzYWdlKQogICAgICAgICAgICBpZihyZXMuZGF0YS5tZXNzYWdlLmxlbmd0aCAhPSAwKXsKICAgICAgICAgICAgICBhbGVydCgi55m76ZmG5oiQ5YqfIikKICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGVhY2hlcnBob25lJywgdGhhdC5mb3JtRGF0YS5waG9uZSkKICAgICAgICAgICAgICB0aGF0LiRyb3V0ZXIucHVzaCgnaG9tZScpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIGFsZXJ0KCLlr4bnoIHplJnor6/vvIEiKQogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIC8vIGNvbnN0IG5pY2tuYW1lID0gdGhpcy5mb3JtRGF0YS5uaWNrbmFtZQogICAgICAgIC8vIGNvbnN0IGlzRXhpc3QgPSBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnY2hlY2tVc2VyRXhpc3QnLCBuaWNrbmFtZSkKCiAgICAgICAgLy8gaWYgKGlzRXhpc3QpIHsKICAgICAgICAvLyAgIE1lc3NhZ2VCb3guYWxlcnQoJ+ivpeaYteensOW3suiiq+S6uuS9v+eUqOWVpiEnKQogICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgLy8gICAvLyDlsIbmmLXnp7DlrZjlhaXmnKzlnLAsIOi3s+i9rOWIsOS4u+mhtQogICAgICAgIC8vICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25pY2tuYW1lJywgbmlja25hbWUpCiAgICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKQogICAgICAgIC8vIH0KICAgICAgfSkKICAgIH0sCgogICAgdGVzdCgpIHsKICAgICAgLy8gYWxlcnQoMTIzKQogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZShhc3luYyBmbGFnID0+IHsKICAgICAgICBpZiAoIWZsYWcpIHJldHVybgogICAgICAgICBjb25zdCB0ZXN0ID0gdGhpcy5mb3JtRGF0YS50ZXN0CiAgICAgICAgY29uc3QgaXNFeGlzdCA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0ZXN0JywgdGVzdCkKICAgICAgICBpZiAoaXNFeGlzdCkgewogICAgICAgICAgICAgICAgICBhbGVydCgnb2snKQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy8g5bCG5pi156ew5a2Y5YWl5pys5ZywLCDot7PovazliLDkuLvpobUKICAgICAgICAgICAgICAgICAgYWxlcnQoIuS4jeihjCIpCiAgICAgICAgICAgICAgICB9CiAgICAvLyAgICAgaWYgKGlzRXhpc3QpIHsKICAgIC8vICAgICAgIE1lc3NhZ2VCb3guYWxlcnQoJ+ivpeaYteensOW3suiiq+S6uuS9v+eUqOWVpiEnKQogICAgLy8gICAgIH0gZWxzZSB7CiAgICAvLyAgICAgICAvLyDlsIbmmLXnp7DlrZjlhaXmnKzlnLAsIOi3s+i9rOWIsOS4u+mhtQogICAgLy8gICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25pY2tuYW1lJywgbmlja25hbWUpCiAgICAvLyAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKQogICAgLy8gICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\n  <div>\n    <el-card\n      class=\"login-card\"\n      :body-style=\"{ display: 'flex', justifyContent: 'center', alignItems: 'center', padding: '60px'}\"\n    >\n      <el-form ref=\"loginForm\"  :model=\"formData\" :rules=\"rules\">\n        <el-form-item prop=\"phone\" label = \"手机号\">\n          <el-input v-model=\"formData.phone\" placeholder=\"请输入您的昵称\" />\n        </el-form-item>\n        \n          <el-form-item prop=\"password\" label = \"密码\">\n            <el-input v-model=\"formData.password\" placeholder=\"测试\" />\n          </el-form-item>\n       \n          <el-form-item>\n            <el-button type=\"primary\" @click=\"login\">登录</el-button>\n            <el-button @click=\"test\">取消</el-button>\n          </el-form-item>\n      \n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { MessageBox } from 'element-ui'\nexport default {\n  data() {\n    return {\n      // 表单信息\n      formData: {\n        phone: '18172642994',\n        password:'123456'\n      },\n\n      // 校验规则\n      rules: {\n        phone: [{ required: true, message: '请输入您的手机号' }],\n        password: [{ required: true, message: '请输入您的密码' }]\n      }\n    }\n  },\n\n  methods: {\n    login() {\n      const that = this\n      this.$refs.loginForm.validate(async flag => {\n        if (!flag) return\n\n        that.axios.post('http://localhost:3000/teacher/login',null,{\n            params:{\n                // params就是query参\n                phone:that.formData.phone,\n                password:that.formData.password\n            }\n        }).then( (res) => {\n            console.log(res.data.message)\n            if(res.data.message.length != 0){\n              alert(\"登陆成功\")\n              localStorage.setItem('teacherphone', that.formData.phone)\n              that.$router.push('home')\n            }else{\n              alert(\"密码错误！\")\n            }\n          })\n        // const nickname = this.formData.nickname\n        // const isExist = await this.$store.dispatch('checkUserExist', nickname)\n\n        // if (isExist) {\n        //   MessageBox.alert('该昵称已被人使用啦!')\n        // } else {\n        //   // 将昵称存入本地, 跳转到主页\n        //   localStorage.setItem('nickname', nickname)\n        //   this.$router.push('/home')\n        // }\n      })\n    },\n\n    test() {\n      // alert(123)\n      this.$refs.loginForm.validate(async flag => {\n        if (!flag) return\n         const test = this.formData.test\n        const isExist = await this.$store.dispatch('test', test)\n        if (isExist) {\n                  alert('ok')\n                } else {\n                  // 将昵称存入本地, 跳转到主页\n                  alert(\"不行\")\n                }\n    //     if (isExist) {\n    //       MessageBox.alert('该昵称已被人使用啦!')\n    //     } else {\n    //       // 将昵称存入本地, 跳转到主页\n    //       localStorage.setItem('nickname', nickname)\n    //       this.$router.push('/home')\n    //     }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-card {\n  width: 50%;\n  margin: 0 auto;\n  margin-top: 200px;\n}\n</style>\n"]}]}