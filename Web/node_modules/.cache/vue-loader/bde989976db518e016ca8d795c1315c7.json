{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/test2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/test2.vue","mtime":1630396755625},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCcKZXhwb3J0IGRlZmF1bHQgewogICAgY3JlYXRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzZW5kVXNlckVudGVyJykKICAgIGNvbnN0IHRoYXQgPSB0aGlzCiAgICBsZXQgZXhhbSA9IFtdCiAgICAgIHRoaXMuYXhpb3MuZ2V0KCdodHRwOi8vMTkyLjE2OC41MS4xMDk6MzAwMC9leGFtJyx7CiAgICAgIH0pLnRoZW4oKHJlcyk9PnsKICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJlcy5kYXRhLm1lc3NhZ2UubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGNvbnN0IGNvdW50ID0gSlNPTi5wYXJzZShyZXMuZGF0YS5tZXNzYWdlW2tdLnRvcGljX2NvbnRlbnQpCiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY291bnRbaV0ucG9pbnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgaWYoaiAlIDIgPT0gMCl7CiAgICAgICAgICAgICAgICBjb3VudFtpXS5wb2ludHNbal0gKj0gdGhhdC5nZXRYYgogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgY291bnRbaV0ucG9pbnRzW2pdICo9IHRoYXQuZ2V0WWIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGV4YW1ba10gPSBjb3VudAogICAgICAgIH0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luaXRleGFtJywgZXhhbSkKICAgICAgfSkKCgogICAgICB0aGlzLmF4aW9zLmdldCgnaHR0cDovLzE5Mi4xNjguNTEuMTA5OjMwMDAvdGVhY2hlci9nZXR0b3BpYycpLnRoZW4oKHJlcyk9PnsKICAgICAgbGV0IHRvcGljID0gQXJyYXkuYXBwbHkobnVsbCxBcnJheSgyMCkpLm1hcCgoKSA9PiBbXSkKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXMuZGF0YS5tZXNzYWdlLmxlbmd0aDsgaSsrKSB7CiAgICAgICBsZXQgY29kZSA9IHBhcnNlSW50KHJlcy5kYXRhLm1lc3NhZ2VbaV0uc3R1Y29kZS5zbGljZSg2LHJlcy5kYXRhLm1lc3NhZ2VbaV0uc3R1Y29kZS5sZW5ndGgpKQogICAgICAgdG9waWNbY29kZSAtIDFdLnB1c2gocmVzLmRhdGEubWVzc2FnZVtpXSkKICAgICAgfQoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b3BpYy5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdG9waWNbaV0ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGxldCBjb3VudDIgPSBKU09OLnBhcnNlKHRvcGljW2ldW2pdLnN0dWFuc3dlcikKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgY291bnQyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIGZvciAobGV0IG0gPSAwOyBtIDwgY291bnQyW2tdLnBvaW50cy5sZW5ndGg7IG0rKykgewogICAgICAgICAgICAgIGlmKG0gJSAyID09IDApewogICAgICAgICAgICAgICAgY291bnQyW2tdLnBvaW50c1ttXSAqPSB0aGF0LmdldFhiCiAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBjb3VudDJba10ucG9pbnRzW21dICo9IHRoYXQuZ2V0WWIKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdG9waWNbaV1bal0gPSBjb3VudDIKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpbml0c3R1VG9waWMnLCB0b3BpYykKICAgIH0pCiAgfSwKY29tcHV0ZWQ6IHsKICAgIC4uLm1hcFN0YXRlKFsidGVhY2hlckxpbmVzIiwidGVhY2hlckxpbmVzMiIsImluaXRleGFtIl0pLAogICAgLi4ubWFwR2V0dGVycyhbJ2lzR2FtZVN0YXJ0ZWQnLCAnaXNHYW1lSG9sZGVyJ10pLAogICAgLi4ubWFwU3RhdGUoWyd0ZWFjaGVycGhvbmUnLCAnbWVzc2FnZXMnLCAnaG9sZGVyJ10pLAogICAgaW5kZXhUb3BpYygpewogICAgICAvLyBjb25zb2xlLmxvZygxKTsKICAgICAgY29uc3QgdGhhdCA9IHRoaXMKICAgICAgdGhpcy5heGlvcy5nZXQoJ2h0dHA6Ly8xOTIuMTY4LjUxLjEwOTozMDAwL3RlYWNoZXIvZ2V0dG9waWMnKS50aGVuKChyZXMpPT57CiAgICAgIGxldCB0b3BpYyA9IEFycmF5LmFwcGx5KG51bGwsQXJyYXkoMjApKS5tYXAoKCkgPT4gW10pCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzLmRhdGEubWVzc2FnZS5sZW5ndGg7IGkrKykgewogICAgICAgbGV0IGNvZGUgPSBwYXJzZUludChyZXMuZGF0YS5tZXNzYWdlW2ldLnN0dWNvZGUuc2xpY2UoNixyZXMuZGF0YS5tZXNzYWdlW2ldLnN0dWNvZGUubGVuZ3RoKSkKICAgICAgIHRvcGljW2NvZGUgLSAxXS5wdXNoKHJlcy5kYXRhLm1lc3NhZ2VbaV0pCiAgICAgIH0KCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9waWMubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRvcGljW2ldLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBsZXQgY291bnQyID0gSlNPTi5wYXJzZSh0b3BpY1tpXVtqXS5zdHVhbnN3ZXIpCiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGNvdW50Mi5sZW5ndGg7IGsrKykgewogICAgICAgICAgICBmb3IgKGxldCBtID0gMDsgbSA8IGNvdW50MltrXS5wb2ludHMubGVuZ3RoOyBtKyspIHsKICAgICAgICAgICAgICBpZihtICUgMiA9PSAwKXsKICAgICAgICAgICAgICAgIGNvdW50MltrXS5wb2ludHNbbV0gKj0gdGhhdC5nZXRYYgogICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgY291bnQyW2tdLnBvaW50c1ttXSAqPSB0aGF0LmdldFliCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRvcGljW2ldW2pdID0gY291bnQyCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaW5pdHN0dVRvcGljJywgdG9waWMpCiAgICB9KQoKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmluZGV4VG9waWMKICAgIH0sCiAgICBzdHVUb3BpYygpewogICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS5zdHVUb3BpY1swXSA9PT0gdW5kZWZpbmVkKXsKICAgICAgICBjb25zdCBhcnIgPSBBcnJheS5hcHBseShudWxsLEFycmF5KDIwKSkubWFwKCgpID0+IFtbXV0pCiAgICAgICAgcmV0dXJuIGFycjsKICAgICAgfWVsc2V7CiAgICAgICAgLy8gY29uc29sZS5sb2coMSk7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnN0dVRvcGljCiAgICAgIH0KICAgICAgCiAgICB9Cn0sCm1vdW50ZWQoKXsKLy8gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50V2lkdGggKiAxLjEgKyAicHgiCiAgICB0aGlzLmdldFhiID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkMScpLmNsaWVudFdpZHRoCiAgICB0aGlzLmdldFliID0gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkMScpLmNsaWVudEhlaWdodAogICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykudHJhbnNsYXRlKDAuNSwwLjUpCiAgICB0aGlzLnN0YWdlQ29uZmlnLndpZHRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50V2lkdGgKICAgIHRoaXMuc3RhZ2VDb25maWcuaGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50SGVpZ2h0CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luaXRYYicsIHRoaXMuZ2V0WGIpCiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luaXRZYicsIHRoaXMuZ2V0WWIpCiAKICAgIAp9LApkYXRhKCl7CiAgICByZXR1cm57CiAgICAgICAgY2xhc3NDb2RlOjExMDEsCiAgICAgICAgLy8g55S75biD6YWN572uCiAgICAgIHN0YWdlQ29uZmlnOiB7CiAgICAgICAgd2lkdGg6IDEzMDAsCiAgICAgICAgaGVpZ2h0OiA0NTAKICAgICAgfSwKICAgICAgLy8g57uY55S754q25oCBCiAgICAgIHBhaW50aW5nOiBmYWxzZSwKICAgICAgc3Ryb2tlOiAnI2Q0MmQxZicsCiAgICAgIHN0cm9rZVdpZHRoOiAyLjEsCiAgICAgIGdldFhiOjEsCiAgICAgIGdldFliOjEsCiAgICAgIGV4YW06W10sCiAgICB9Cn0sCm1ldGhvZHM6IHsKICB0ZXN0KCl7CnRoaXMuJHN0b3JlLmNvbW1pdCgndGVzdCcpCiAgfSwKICBjbGVhcigpewp0aGlzLiRzdG9yZS5jb21taXQoJ2NsZWFyJykKICB9LAogICAgLy8g6byg5qCH5oyJ5LiLCiAgICBtb3VzZWRvd25IYW5kbGVyKGUpIHsKICAgICAgdGhpcy5wYWludGluZyA9IHRydWUKICAgICAgICBjb25zdCBuZXdMaW5lID0gewogICAgICAgIHN0cm9rZTogdGhpcy5zdHJva2UsCiAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMuc3Ryb2tlV2lkdGgsCiAgICAgICAgcG9pbnRzOiBbZS5ldnQubGF5ZXJYIC8gdGhpcy5nZXRYYiwgZS5ldnQubGF5ZXJZIC8gdGhpcy5nZXRZYl0KICAgICAgfQogICAgICBjb25zdCBpZCA9IGUuY3VycmVudFRhcmdldC5hdHRycy5pZC5zbGljZSg1LGUuY3VycmVudFRhcmdldC5hdHRycy5pZC5sZW5ndGgpCiAgICAgIC8vIOivt+axguacjeWKoeWZqAogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVhY2hlcnNlbmREcmF3TmV3TGluZScsIHtuZXdMaW5lOm5ld0xpbmUsaWQ6aWR9KQogICAgICAvLyDmnKzlnLDnlLvnur8sIOWtmOWIsHZ1ZXjkuK0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJkcmF3TmV3TGluZScsIHtuZXdMaW5lOm5ld0xpbmUsYTplLmN1cnJlbnRUYXJnZXQuYXR0cnMuaWR9KQogICAgfSwKCiAgICAvLyDpvKDmoIfmi5bliqgKICAgIG1vdXNlbW92ZUhhbmRsZXIoZSkgewogICAgICBpZiAoIXRoaXMucGFpbnRpbmcpIHJldHVybgogICAgICBsZXQgbGFzdExpbmU7CiAgICAgIGxldCBhID0gZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkLnNsaWNlKDUsZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkLmxlbmd0aCkKICAgICAgY29uc3QgaWQgPSBlLmN1cnJlbnRUYXJnZXQuYXR0cnMuaWQuc2xpY2UoNSxlLmN1cnJlbnRUYXJnZXQuYXR0cnMuaWQubGVuZ3RoKQogICAgICBsYXN0TGluZSA9IHRoaXMudGVhY2hlckxpbmVzMlthIC0gMV1bdGhpcy50ZWFjaGVyTGluZXMyW2EgLSAxXS5sZW5ndGggLSAxXQogICAgICBsYXN0TGluZS5wb2ludHMgPSBsYXN0TGluZS5wb2ludHMuY29uY2F0KFtlLmV2dC5sYXllclggLyB0aGlzLmdldFhiLCBlLmV2dC5sYXllclkgLyB0aGlzLmdldFliXSkgCiAgICAgIC8vIOivt+axguacjeWKoeWZqAogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGVhY2hlcnNlbmRVcGRhdGVOZXdMaW5lJywge2xhc3RMaW5lOmxhc3RMaW5lLGlkOmlkfSkKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVydXBkYXRlTmV3TGluZTEnLCB7bGFzdExpbmU6bGFzdExpbmUsYTplLmN1cnJlbnRUYXJnZXQuYXR0cnMuaWR9KQogICAgICAKICAgIH0sCgogICAgLy8g6byg5qCH6YeK5pS+CiAgICBtb3VzZXVwSGFuZGxlcigpIHsKICAgICAgdGhpcy5wYWludGluZyA9IGZhbHNlCiAgICB9LAp9Cgp9Cg=="},{"version":3,"sources":["test2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"test2.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<el-container>\n    <el-header>\n        <el-tag>房间号：{{classCode}}</el-tag> \n        <!-- <el-button @click = \"test\">test</el-button>\n        <el-button @click = \"clear\">clear</el-button> -->\n    </el-header>\n    <el-main>\n        <el-row :gutter=\"20\" v-for=\"i in 4\" :key=\"i\">\n            <el-col :span=\"4\" v-for=\"j in 6\" :key=\"j\">\n                <div class=\"grid-content bg-purple\">\n                    <div class=\"userinfo\">{{(i-1)*6 + j}}</div>\n                        <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card1\">\n                            <!-- {{(i-1)*6 + j}} -->\n                            {{6 * i - 6 + j}}\n                            <v-stage\n                            :id=\"'stage' + ((i-1)*6 + j)\"\n                            :config=\"stageConfig\"\n                            @mousedown=\"mousedownHandler\"\n                            @mouseup=\"mouseupHandler\"\n                            @mousemove=\"mousemoveHandler\"\n                            >\n                            <v-layer>\n                                <v-line\n                                v-for=\"(line, index) in initexam[indexTopic[6 * i - 7 + j]]\"\n                                :key=\"index\"\n                                :config=\"{\n                                    stroke: '#FFF111',\n                                    strokeWidth:1.5,\n                                    points:line.points,\n                                    lineCap: line.lineCap,\n                                    lineJoin: line.lineJoin,\n                                    bezier:line.bezier,\n                                    rotation:line.rotation,}\"\n                                />\n                            </v-layer>\n                            <v-layer>\n                                <v-line\n                                v-for=\"(line, index) in stuTopic[6 * i - 7 + j][indexTopic[6 * i - 7 + j]]\"\n                                :key=\"index\"\n                                :config=\"{\n                                    stroke: '#FFFFFF',\n                                    strokeWidth:1.5,\n                                    points:line.points,\n                                    lineCap: line.lineCap,\n                                    lineJoin: line.lineJoin,\n                                    bezier:line.bezier,\n                                    rotation:line.rotation,}\"\n                                />\n                            </v-layer>\n                            <v-layer>\n                                <v-line\n                                v-for=\"(line, index) in teacherLines[(i-1)*6 + j - 1]\"\n                                :key=\"index\"\n                                :config=\"line\"\n                                />\n                            </v-layer>\n                            <v-layer>\n                                <v-line\n                                v-for=\"(line, index) in teacherLines2[(i-1)*6 + j - 1]\"\n                                :key=\"index\"\n                                :config=\"line\"\n                                />\n                            </v-layer>\n                        </v-stage>\n                    </el-card>\n                </div>\n            </el-col>\n        </el-row>     \n    </el-main>\n</el-container>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n    created() {\n    this.$store.dispatch('sendUserEnter')\n    const that = this\n    let exam = []\n      this.axios.get('http://192.168.51.109:3000/exam',{\n      }).then((res)=>{\n        for (let k = 0; k < res.data.message.length; k++) {\n          const count = JSON.parse(res.data.message[k].topic_content)\n          for (let i = 0; i < count.length; i++) {\n            for (let j = 0; j < count[i].points.length; j++) {\n              if(j % 2 == 0){\n                count[i].points[j] *= that.getXb\n              }else{\n                count[i].points[j] *= that.getYb\n              }\n            }\n          }\n          exam[k] = count\n        }\n        this.$store.commit('initexam', exam)\n      })\n\n\n      this.axios.get('http://192.168.51.109:3000/teacher/gettopic').then((res)=>{\n      let topic = Array.apply(null,Array(20)).map(() => [])\n      for (let i = 0; i < res.data.message.length; i++) {\n       let code = parseInt(res.data.message[i].stucode.slice(6,res.data.message[i].stucode.length))\n       topic[code - 1].push(res.data.message[i])\n      }\n\n      for (let i = 0; i < topic.length; i++) {\n        for (let j = 0; j < topic[i].length; j++) {\n          let count2 = JSON.parse(topic[i][j].stuanswer)\n          for (let k = 0; k < count2.length; k++) {\n            for (let m = 0; m < count2[k].points.length; m++) {\n              if(m % 2 == 0){\n                count2[k].points[m] *= that.getXb\n              }else{\n                count2[k].points[m] *= that.getYb\n              }\n            }\n            topic[i][j] = count2\n          }\n        }\n      }\n      this.$store.commit('initstuTopic', topic)\n    })\n  },\ncomputed: {\n    ...mapState([\"teacherLines\",\"teacherLines2\",\"initexam\"]),\n    ...mapGetters(['isGameStarted', 'isGameHolder']),\n    ...mapState(['teacherphone', 'messages', 'holder']),\n    indexTopic(){\n      // console.log(1);\n      const that = this\n      this.axios.get('http://192.168.51.109:3000/teacher/gettopic').then((res)=>{\n      let topic = Array.apply(null,Array(20)).map(() => [])\n      for (let i = 0; i < res.data.message.length; i++) {\n       let code = parseInt(res.data.message[i].stucode.slice(6,res.data.message[i].stucode.length))\n       topic[code - 1].push(res.data.message[i])\n      }\n\n      for (let i = 0; i < topic.length; i++) {\n        for (let j = 0; j < topic[i].length; j++) {\n          let count2 = JSON.parse(topic[i][j].stuanswer)\n          for (let k = 0; k < count2.length; k++) {\n            for (let m = 0; m < count2[k].points.length; m++) {\n              if(m % 2 == 0){\n                count2[k].points[m] *= that.getXb\n              }else{\n                count2[k].points[m] *= that.getYb\n              }\n            }\n            topic[i][j] = count2\n          }\n        }\n      }\n      this.$store.commit('initstuTopic', topic)\n    })\n\n      return this.$store.state.indexTopic\n    },\n    stuTopic(){\n      if(this.$store.state.stuTopic[0] === undefined){\n        const arr = Array.apply(null,Array(20)).map(() => [[]])\n        return arr;\n      }else{\n        // console.log(1);\n        return this.$store.state.stuTopic\n      }\n      \n    }\n},\nmounted(){\n//    document.getElementById('card1').style.height = document.getElementById('card1').clientWidth * 1.1 + \"px\"\n    this.getXb =  document.getElementById('card1').clientWidth\n    this.getYb =  document.getElementById('card1').clientHeight\n    // document.getElementById('card1').translate(0.5,0.5)\n    this.stageConfig.width = document.getElementById('card1').clientWidth\n    this.stageConfig.height = document.getElementById('card1').clientHeight\n    this.$store.commit('initXb', this.getXb)\n    this.$store.commit('initYb', this.getYb)\n \n    \n},\ndata(){\n    return{\n        classCode:1101,\n        // 画布配置\n      stageConfig: {\n        width: 1300,\n        height: 450\n      },\n      // 绘画状态\n      painting: false,\n      stroke: '#d42d1f',\n      strokeWidth: 2.1,\n      getXb:1,\n      getYb:1,\n      exam:[],\n    }\n},\nmethods: {\n  test(){\nthis.$store.commit('test')\n  },\n  clear(){\nthis.$store.commit('clear')\n  },\n    // 鼠标按下\n    mousedownHandler(e) {\n      this.painting = true\n        const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]\n      }\n      const id = e.currentTarget.attrs.id.slice(5,e.currentTarget.attrs.id.length)\n      // 请求服务器\n      this.$store.dispatch('teachersendDrawNewLine', {newLine:newLine,id:id})\n      // 本地画线, 存到vuex中\n        this.$store.commit('teacherdrawNewLine', {newLine:newLine,a:e.currentTarget.attrs.id})\n    },\n\n    // 鼠标拖动\n    mousemoveHandler(e) {\n      if (!this.painting) return\n      let lastLine;\n      let a = e.currentTarget.attrs.id.slice(5,e.currentTarget.attrs.id.length)\n      const id = e.currentTarget.attrs.id.slice(5,e.currentTarget.attrs.id.length)\n      lastLine = this.teacherLines2[a - 1][this.teacherLines2[a - 1].length - 1]\n      lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]) \n      // 请求服务器\n      this.$store.dispatch('teachersendUpdateNewLine', {lastLine:lastLine,id:id})\n      this.$store.commit('teacherupdateNewLine1', {lastLine:lastLine,a:e.currentTarget.attrs.id})\n      \n    },\n\n    // 鼠标释放\n    mouseupHandler() {\n      this.painting = false\n    },\n}\n\n}\n</script>\n<style lang = \"less\" scoped>\n.el-container{\n    width: 100%;\n    height: 100%;\n    background-color: aqua;\n    /* overflow: auto; */\n    .el-header{\n        line-height: 60px;\n    }\n\n    .el-main{\n        background-color: aquamarine;\n        overflow: auto;\n        .el-row {\n            margin-bottom: 20px;\n            height: 50%;\n        } \n        .el-col {\n            border-radius: 4px;\n            height: 90%;\n\n            .bg-purple {\n                background: #d3dce6;\n            }\n            .grid-content {\n                border-radius: 4px;\n                height: 100%;\n                display: flex;\n                flex-flow: column;\n\n                .userinfo{\n                    background-color: black;\n                    color: #FFFFFF;\n                    font-weight: bold;\n                    height: 40px;\n                    line-height: 40px;\n                    padding-left: 10px;\n                    letter-spacing: 3px;\n                }\n            }\n        }\n    }\n}\n.el-card{\n    width: 100%;\n    height: 300px;\n    background-color: rgb(33, 33, 33);\n    color: #FFFFFF;\n}\n</style>"]}]}