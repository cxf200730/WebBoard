{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/views/test.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/views/test.vue","mtime":1629037024967},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKZXhwb3J0IGRlZmF1bHQgKHsKICAgIHNldHVwKCkgewogICAgICAgIGxldCBwYWdlWSA9IDgxOTE7IC8vIOiuvuWkh+WDj+e0oFnovbTmnIDlpKflgLwKbGV0IHBhZ2VYID0gMTQzMzU7IC8vIOiuvuWkh+WDj+e0oFjovbTmnIDlpKflgLwKbGV0IHBvcnQgOyAgICAgICAgICAgLy8g6YCa5L+h5a+56LGhCmxldCBlZGl0b3JFeHRlbnNpb25JZD0nZGpra2hjbmxwbHBjaGZiZGdrZGdnY21sY2xnZ2VmYmcnOyAgLy8g6YCa5L+hSUQKCmxldCB3aWR0aCA9IDY0MDsKbGV0IGhlaWdodCA9IDk2MDsKbGV0IG9mZnNldFggPSAwLjU7CmxldCBvZmZzZXRZID0gMC41OwpsZXQgcmF0aW9YID0gMSwgCiAgICByYXRpb1kgPSAxOwpsZXQgeDEsIHkxLCB4MiwgeTIsIHJlcyA9IDI7CmxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlDYW52YXMnKTsKbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKbGV0IGlzU3RhcnQgPSAwOwpjb250ZXh0LnRyYW5zbGF0ZShvZmZzZXRYLCBvZmZzZXRZKTsKCi8q5Yid5aeL5YyW55S75biD55qE5a695ZKM6auYKi8KJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7CiAgICAkKCIuYnRuX2NvbmZpcm0iKS5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgJCgiLm1vZGVsX2lkIikuaGlkZSgpOwogICAgICAgICQoIi5tYXNrIikuaGlkZSgpOwoJCQkJaW5pdENhbnZhcygkKCIjcGlkIikudmFsKCkpCiAgICB9KTsKfSk7CgpmdW5jdGlvbiBpbml0Q2FudmFzKHBpZCkgewoJaWYgKHBpZCA9PSAyNDY3MiB8fCBwaWQgPT0gMjQ2ODIpIHsKCQkvLyBUOFkg772c772cIFQ4QwoJCXBhZ2VZID0gMjEwMDAKCQlwYWdlWCA9IDI5NzAwCgl9CgkKCWhlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSA+IGhlaWdodCA/IGhlaWdodCA6ICQod2luZG93KS5oZWlnaHQoKSAtIDIwOwoJd2lkdGggPSBwYXJzZUludChoZWlnaHQgKiBwYWdlWCAvIHBhZ2VZKTsKCWlmKHdpZHRoID4gJCh3aW5kb3cpLndpZHRoKCkgKiAwLjY4KXsKCSAgICB3aWR0aCA9IHBhcnNlSW50KCQod2luZG93KS53aWR0aCgpICogMC42OCk7CgkgICAgaGVpZ2h0ID0gcGFyc2VJbnQod2lkdGggKiBwYWdlWSAvIHBhZ2VYKTsKCX0KCQoJcmF0aW9YID0gd2lkdGggLyBwYWdlWDsKCXJhdGlvWSA9IGhlaWdodCAvIHBhZ2VZOwoJJChjYW52YXMpLmF0dHIoIndpZHRoIiwgd2lkdGgpOwoJJChjYW52YXMpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7Cn0KCi8q5bu656uL5o+S5Lu26YCa5L+h44CB5re75Yqg5ZON5bqU5Ye95pWwKi8KJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXsKICAgIHBvcnQgPSBjaHJvbWUucnVudGltZS5jb25uZWN0KGVkaXRvckV4dGVuc2lvbklkKTsKICAgIHBvcnQub25NZXNzYWdlLmFkZExpc3RlbmVyKCBmdW5jdGlvbihtc2cpewogICAgICAgIHJlY01lc3NhZ2UobXNnKQogICAgfSkKfSk7CgovKuWTjeW6lOWHveaVsCovCmZ1bmN0aW9uIHJlY01lc3NhZ2UobXNnKSB7CiAgICBzd2l0Y2ggKG1zZy5zdGF0dXMpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICQoJyNoZWhlJykuaHRtbCgn6K6+5aSH6L+e5o6l5oiQ5YqfJyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMToKICAgICAgICAgICAgbGluZVRvKG1zZy54LCBtc2cueSwgbXNnLnMsIG1zZy5wKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAkKCcjaGVoZScpLmh0bWwoJ3VzYuaTjeS9nOadg+mZkOiOt+WPluWksei0pScpOwogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICQoJyNoZWhlJykuaHRtbCgn5oyH5a6a55qEdXNi6K6+5aSH5pyq5om+5YiwJyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgJCgnI2hlaGUnKS5odG1sKCd1c2Lorr7lpIfov57mjqXlpLHotKXlj4rmiZPlvIDorr7lpIflpLHotKUnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA1OiAKICAgICAgICAgICAgJCgnI2hlaGUnKS5odG1sKCflrZjlnKjmiZPlvIDnmoTorr7lpIcnKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBpZiAobXNnLm1vZGUgPT0gJ21vdXNlJykgewogICAgICAgICAgICAgICAgJCgnI2hlaGUnKS5odG1sKCflvZPliY3mqKHlvI/kuLrpvKDmoIfmqKHlvI8nKTsKICAgICAgICAgICAgfWVsc2UgaWYgKG1zZy5tb2RlID09ICdwZW4nKSB7CiAgICAgICAgICAgICAgICAkKCcjaGVoZScpLmh0bWwoJ+W9k+WJjeaooeW8j+S4uueslOaooeW8jycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICQoJyNoZWhlJykuaHRtbChtc2cuZG9uZ2xlX3N0YXR1cyk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICQoJyNCTEVEZXZpY2VzJykuYXBwZW5kKCI8bGk+Iittc2cuZGV2aWNlX25hbWUrIjxidXR0b24gIG9uY2xpY2s9J2Nvbm5lY3RCTEUoIittc2cubnVtKyIpJz7ov57mjqU8L2J1dHRvbj48L2xpPiIpOwogICAgICAgICAgICBicmVhazsKCQkJCWNhc2UgMzI6CgkJCQkJd2luZG93LmFsZXJ0KCflt6bplK7ljZXlh7snKQoJCQkJCWJyZWFrOwoJCQkJY2FzZSAzMzoKCQkJCQl3aW5kb3cuYWxlcnQoJ+W3pumUruWPjOWHuycpCgkJCQkJYnJlYWs7CgkJCQljYXNlIDM0OgoJCQkJCXdpbmRvdy5hbGVydCgn5bem6ZSu6ZW/5oyJJykKCQkJCQlicmVhazsKCQkJCWNhc2UgMzU6CgkJCQkJd2luZG93LmFsZXJ0KCflj7PplK7ljZXlh7snKQoJCQkJCWJyZWFrOwoJCQkJY2FzZSAzNjoKCQkJCQl3aW5kb3cuYWxlcnQoJ+WPs+mUruWPjOWHuycpCgkJCQkJYnJlYWs7CgkJCQljYXNlIDM3OgoJCQkJCXdpbmRvdy5hbGVydCgn5Y+z6ZSu6ZW/5oyJJykKCQkJCQlicmVhazsKICAgICAgICBjYXNlIDEwMDoKICAgICAgICAgICAgbGV0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlDYW52YXMnKTsKICAgICAgICAgICAgYy5oZWlnaHQgPSBjLmhlaWdodDsKICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn0KLy/miZPlvIBVU0Lorr7lpIcKZnVuY3Rpb24gb3BlblVTQigpewogICAgbGV0IFZJRCA9ICQoIiN2aWQiKS52YWwoKTsKICAgIGxldCBQSUQgPSAkKCIjcGlkIikudmFsKCk7CiAgICBwb3J0LnBvc3RNZXNzYWdlKHtjbWQ6J29wZW5VU0InLHBpZDogUElELHZpZDogVklEfSk7Cn07Ci8v5YWz6ZetVVNC6K6+5aSHCmZ1bmN0aW9uIGNsb3NlVVNCKCl7CiAgICBwb3J0LnBvc3RNZXNzYWdlKHtjbWQ6J2Nsb3NlVVNCJ30pOwp9Ci8v6I635Y+WZG9uZ2xl54q25oCBCmZ1bmN0aW9uIGdldERvbmdsZVN0YXR1cygpIHsKICAgIHBvcnQucG9zdE1lc3NhZ2Uoe2NtZDonZG9uZ2xlU3RhdHVzJ30pOwp9Ci8v5omr5o+P6JOd54mZCmZ1bmN0aW9uIHNjYW5CTEUoKXsKICAgIHBvcnQucG9zdE1lc3NhZ2Uoe2NtZDonc2NhbkJMRSd9KTsKfQovL+i/nuaOpeiTneeJmeiuvuWkhwpmdW5jdGlvbiBjb25uZWN0QkxFKG51bSkgewogICAgcG9ydC5wb3N0TWVzc2FnZSh7Y21kOidjb25uZWN0QkxFJyxudW06IG51bX0pOwp9Ci8v5pat5byA6JOd54mZCmZ1bmN0aW9uIGRpc2Nvbm5lY3RCTEUoKSB7CiAgICBwb3J0LnBvc3RNZXNzYWdlKHtjbWQ6J2Nsb3NlQkxFJ30pOwp9Ci8vIOWIh+aNoueslOaooeW8jwpmdW5jdGlvbiBjaGFuZ2VNb2RlKCkgewogICAgcG9ydC5wb3N0TWVzc2FnZSh7Y21kOidjaGFuZ2VNb2RlJ30pOwp9Ci8vIGNsZWFyIGNhbnZhcwpmdW5jdGlvbiBjbGVhckNhbnZhcygpewogICAgbGV0IGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlDYW52YXMnKTsKICAgIGMuaGVpZ2h0ID0gYy5oZWlnaHQ7CiAgICBwb3J0LnBvc3RNZXNzYWdlKHtjbWQ6J2NsZWFyQ2FudmFzJ30pOwp9CgpmdW5jdGlvbiBsaW5lVG8oeCwgeSwgcywgcCl7CiAgICBsZXQgdHggPSByYXRpb1ggKiB4OwogICAgbGV0IHR5ID0gcmF0aW9ZICogeTsKICAgIGxldCB0dyA9IDEuMjsKICAgIGxldCBjb24gPSAneD0nK3grJyx5PScreSsnLHM9JytzKycscD0nK3A7CiAgICAkKCcjY29udGVudCcpLnRleHQoY29uKTsKICAgIGlmIChzID09IDE2IHx8IHMgPT0gMCkgewogICAgICAgIGlzU3RhcnQgPSAwOwogICAgICAgIHJldHVybjsKICAgIH0KICAgIGlmKGlzU3RhcnQgPiAwKXsKICAgICAgICB4MiA9IE1hdGguZmxvb3IocmF0aW9YICogeCk7CiAgICAgICAgeTIgPSBNYXRoLmZsb29yKHJhdGlvWSAqIHkpOwogICAgICAgIGxldCBkID0gTWF0aC5zcXJ0KE1hdGgucG93KHgxIC0geDIsIDIpICsgTWF0aC5wb3coeTEgLSB5MiwgMikpOwogICAgICAgIGlmKGQgPiByZXMpewogICAgICAgICAgICB0eCA9IE1hdGgucm91bmQoKHgxICsgeDIpIC8gMiAqIDEwMCkgLyAxMDA7CiAgICAgICAgICAgIHR5ID0gTWF0aC5yb3VuZCgoeTEgKyB5MikgLyAyICogMTAwKSAvIDEwMDsKICAgICAgICAgICAgaWYgKGlzU3RhcnQgPT0gMSkgewogICAgICAgICAgICAgICAgY29udGV4dC5saW5lVG8odHgsIHR5KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGNvbnRleHQucXVhZHJhdGljQ3VydmVUbyh4MSwgeTEsIHR4LCB0eSk7CiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IHR3OwogICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh0eCx0eSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgeDEgPSB4MjsKICAgICAgICAgICAgeTEgPSB5MjsKICAgICAgICB9CiAgICAgICAgaXNTdGFydCsrOwogICAgfWVsc2V7CiAgICAgICAgLyog5Yid5aeL5YyW55S754K5Ki8KICAgICAgICBpc1N0YXJ0ID0gMTsKICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICAgIGNvbnRleHQubGluZUNhcCA9ICJyb3VuZCI7CiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICIjMDAwIjsvL+aWsOWingogICAgICAgIHgxID0gdHg7CiAgICAgICAgeTEgPSB0eTsKICAgICAgICBjb250ZXh0Lm1vdmVUbyh0eCwgdHkpOy8v6LW354K5CiAgICAgICAgaXNTdGFydCsrOwogICAgfQp9CgogICAgfSwKfSkK"},{"version":3,"sources":["test.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"test.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <canvas id=\"myCanvas\" class=\"board\" width=\"100%\" height=\"960\" style=\"border:1px solid black;\"></canvas><br/>\n<div class=\"btn_list\">\n    <input type=\"button\" value=\"打开USB设备\"  onclick=\"openUSB()\"/>\n    <input type=\"button\" value=\"关闭USB设备\" onclick=\"closeUSB()\"/>\n    <input type=\"button\" value=\"clear canvas\" onclick=\"clearCanvas()\"/>\n    <input type=\"button\" value=\"切换模式\" onclick=\"changeMode()\"/>\n</div>\n<div class=\"btn_list\" style=\"margin-top: 10px\">\n    <input type=\"button\" value=\"获取Dongle状态\"  onclick=\"getDongleStatus()\"/>\n    <input type=\"button\" value=\"搜索蓝牙设备\" onclick=\"scanBLE()\"/>\n    <input type=\"button\" value=\"断开蓝牙设备\" onclick=\"disconnectBLE()\"/>\n    <br/>\n\n</div>\n\n<div class=\"model_id\">\n    <input type=\"text\" placeholder=\"请填入设备VID\" id=\"vid\" value=\"1155\">\n    <input type=\"text\" placeholder=\"请填入设备PID\" id=\"pid\"  value=\"24672\">\n    <a class=\"btn_confirm\">确定</a>\n</div>\n<div class=\"mask\"></div>\n    </div>\n</template>\n\n<script lang = \"ts\">\nexport default ({\n    setup() {\n        let pageY = 8191; // 设备像素Y轴最大值\nlet pageX = 14335; // 设备像素X轴最大值\nlet port ;           // 通信对象\nlet editorExtensionId='djkkhcnlplpchfbdgkdggcmlclggefbg';  // 通信ID\n\nlet width = 640;\nlet height = 960;\nlet offsetX = 0.5;\nlet offsetY = 0.5;\nlet ratioX = 1, \n    ratioY = 1;\nlet x1, y1, x2, y2, res = 2;\nlet canvas = document.getElementById('myCanvas');\nlet context = canvas.getContext('2d');\nlet isStart = 0;\ncontext.translate(offsetX, offsetY);\n\n/*初始化画布的宽和高*/\n$(document).ready(function() {\n    $(\".btn_confirm\").click(function () {\n        $(\".model_id\").hide();\n        $(\".mask\").hide();\n\t\t\t\tinitCanvas($(\"#pid\").val())\n    });\n});\n\nfunction initCanvas(pid) {\n\tif (pid == 24672 || pid == 24682) {\n\t\t// T8Y ｜｜ T8C\n\t\tpageY = 21000\n\t\tpageX = 29700\n\t}\n\t\n\theight = $(window).height() > height ? height : $(window).height() - 20;\n\twidth = parseInt(height * pageX / pageY);\n\tif(width > $(window).width() * 0.68){\n\t    width = parseInt($(window).width() * 0.68);\n\t    height = parseInt(width * pageY / pageX);\n\t}\n\t\n\tratioX = width / pageX;\n\tratioY = height / pageY;\n\t$(canvas).attr(\"width\", width);\n\t$(canvas).attr(\"height\", height);\n}\n\n/*建立插件通信、添加响应函数*/\n$(document).ready(function(){\n    port = chrome.runtime.connect(editorExtensionId);\n    port.onMessage.addListener( function(msg){\n        recMessage(msg)\n    })\n});\n\n/*响应函数*/\nfunction recMessage(msg) {\n    switch (msg.status) {\n        case 0:\n            $('#hehe').html('设备连接成功');\n            break;\n        case 1:\n            lineTo(msg.x, msg.y, msg.s, msg.p);\n            break;\n        case 2:\n            $('#hehe').html('usb操作权限获取失败');\n            break;\n        case 3:\n            $('#hehe').html('指定的usb设备未找到');\n            break;\n        case 4:\n            $('#hehe').html('usb设备连接失败及打开设备失败');\n            break;\n        case 5: \n            $('#hehe').html('存在打开的设备');\n            break;\n        case 6:\n            if (msg.mode == 'mouse') {\n                $('#hehe').html('当前模式为鼠标模式');\n            }else if (msg.mode == 'pen') {\n                $('#hehe').html('当前模式为笔模式');\n            }\n            break;\n        case 20:\n            $('#hehe').html(msg.dongle_status);\n            break;\n        case 21:\n            $('#BLEDevices').append(\"<li>\"+msg.device_name+\"<button  onclick='connectBLE(\"+msg.num+\")'>连接</button></li>\");\n            break;\n\t\t\t\tcase 32:\n\t\t\t\t\twindow.alert('左键单击')\n\t\t\t\t\tbreak;\n\t\t\t\tcase 33:\n\t\t\t\t\twindow.alert('左键双击')\n\t\t\t\t\tbreak;\n\t\t\t\tcase 34:\n\t\t\t\t\twindow.alert('左键长按')\n\t\t\t\t\tbreak;\n\t\t\t\tcase 35:\n\t\t\t\t\twindow.alert('右键单击')\n\t\t\t\t\tbreak;\n\t\t\t\tcase 36:\n\t\t\t\t\twindow.alert('右键双击')\n\t\t\t\t\tbreak;\n\t\t\t\tcase 37:\n\t\t\t\t\twindow.alert('右键长按')\n\t\t\t\t\tbreak;\n        case 100:\n            let c = document.getElementById('myCanvas');\n            c.height = c.height;\n            break;\n    }\n}\n//打开USB设备\nfunction openUSB(){\n    let VID = $(\"#vid\").val();\n    let PID = $(\"#pid\").val();\n    port.postMessage({cmd:'openUSB',pid: PID,vid: VID});\n};\n//关闭USB设备\nfunction closeUSB(){\n    port.postMessage({cmd:'closeUSB'});\n}\n//获取dongle状态\nfunction getDongleStatus() {\n    port.postMessage({cmd:'dongleStatus'});\n}\n//扫描蓝牙\nfunction scanBLE(){\n    port.postMessage({cmd:'scanBLE'});\n}\n//连接蓝牙设备\nfunction connectBLE(num) {\n    port.postMessage({cmd:'connectBLE',num: num});\n}\n//断开蓝牙\nfunction disconnectBLE() {\n    port.postMessage({cmd:'closeBLE'});\n}\n// 切换笔模式\nfunction changeMode() {\n    port.postMessage({cmd:'changeMode'});\n}\n// clear canvas\nfunction clearCanvas(){\n    let c = document.getElementById('myCanvas');\n    c.height = c.height;\n    port.postMessage({cmd:'clearCanvas'});\n}\n\nfunction lineTo(x, y, s, p){\n    let tx = ratioX * x;\n    let ty = ratioY * y;\n    let tw = 1.2;\n    let con = 'x='+x+',y='+y+',s='+s+',p='+p;\n    $('#content').text(con);\n    if (s == 16 || s == 0) {\n        isStart = 0;\n        return;\n    }\n    if(isStart > 0){\n        x2 = Math.floor(ratioX * x);\n        y2 = Math.floor(ratioY * y);\n        let d = Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\n        if(d > res){\n            tx = Math.round((x1 + x2) / 2 * 100) / 100;\n            ty = Math.round((y1 + y2) / 2 * 100) / 100;\n            if (isStart == 1) {\n                context.lineTo(tx, ty);\n            } else {\n                context.quadraticCurveTo(x1, y1, tx, ty);\n                context.lineWidth = tw;\n                context.stroke();\n                context.beginPath();\n                context.moveTo(tx,ty);\n            }\n            x1 = x2;\n            y1 = y2;\n        }\n        isStart++;\n    }else{\n        /* 初始化画点*/\n        isStart = 1;\n        context.beginPath();\n        context.lineCap = \"round\";\n        context.strokeStyle = \"#000\";//新增\n        x1 = tx;\n        y1 = ty;\n        context.moveTo(tx, ty);//起点\n        isStart++;\n    }\n}\n\n    },\n})\n</script>\n<style scoped>\nbody {\n            padding:0;margin:0; font-size:12px; line-height:20px;\n        }\n        ul{\n            margin: 0;\n            padding: 0;\n        }\n        .board {\n            box-shadow: 0px 0px 10px #333;\n            -webkit-box-shadow: 0px 0px 10px #333;\n            border-radius: 3px;\n            color: white;\n            background-color: #fffbcf;\n        }\n        .mask{\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: #fff;\n            z-index: 99;\n        }\n        .model_id{\n            width: 217px;\n            position: absolute;\n            margin: auto;\n            left: 0;\n            top: 30%;\n            right: 0;\n            bottom: 0;\n            z-index: 100;\n        }\n        .model_id input{\n            display: block;\n            border: 1px solid #707070;\n            outline: none;\n            padding: 10px;\n            font-size: 16px;\n            border-radius: 4px;\n            margin: 15px 0;\n        }\n        .model_id .btn_confirm{\n            display: block;\n            background: #3574ce;\n            padding: 10px 0;\n            border-radius: 5px;\n            color: #fff;\n            font-size: 16px;\n            text-align: center;\n            cursor: pointer;\n        }\n        #myCanvas{\n            display: block;\n            margin: 0 auto;\n        }\n        .btn_list{\n            text-align: center;\n        }\n        .btn_list input{\n            background: #fff;\n            border-radius: 3px;\n            border: 1px solid #e5e5e5;\n            color: #333;\n            padding: 10px 15px;\n        }\n        .message{\n            position: fixed;\n            left: 20px;\n            top: 50px;\n            background: #e5e5e5;\n        }\n        #chrome_app{\n            display: inline-block;\n            background: #3574ce;\n            color: #fff;\n            padding: 6px 20px;\n            border-radius: 5px;\n            margin: 10px;\n        }\n</style>\n"]}]}