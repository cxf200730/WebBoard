{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/babel-loader/lib/index.js!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/store/index.js","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/store/index.js","mtime":1629542138501},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHNvY2tldCBmcm9tICdAL3NvY2tldCc7ClZ1ZS51c2UoVnVleCk7CnZhciBzdGF0ZSA9IHsKICBjb25uZWN0ZWQ6IGZhbHNlLAogIC8vIOi/nuaOpeeKtuaAgQogIHRlYWNoZXJwaG9uZTogJycsCiAgLy8g5b2T5YmN55So5oi35pi156ewCiAgdGVhY2hlcnBob25lczogW10sCiAgLy8g5oi/6Ze055So5oi35pi156ew5YiX6KGoCiAgaG9sZGVyOiAnJywKICAvLyDmuLjmiI/kuLvmjIHkuroKICBsaW5lczogW10sCiAgLy8g5oi/6Ze055qE57uY5Zu+5L+h5oGvICjnlLvkuoblpJrlsJHmoLnnur8pCiAgcGljdHVyZXM6IFtdLAogIG1lc3NhZ2VzOiBbXSwKICBnZXRYYjogMQp9Owp2YXIgbXV0YXRpb25zID0gewogIHVwZGF0ZUNvbm5lY3RlZDogZnVuY3Rpb24gdXBkYXRlQ29ubmVjdGVkKHN0YXRlLCBjb25uZWN0ZWQpIHsKICAgIHN0YXRlLmNvbm5lY3RlZCA9IGNvbm5lY3RlZDsKICB9LAogIHVwZGF0ZXRlYWNoZXJwaG9uZTogZnVuY3Rpb24gdXBkYXRldGVhY2hlcnBob25lKHN0YXRlLCB0ZWFjaGVycGhvbmUpIHsKICAgIHN0YXRlLnRlYWNoZXJwaG9uZSA9IHRlYWNoZXJwaG9uZSB8fCAnJzsKICB9LAogIHVwZGF0ZXRlYWNoZXJwaG9uZXM6IGZ1bmN0aW9uIHVwZGF0ZXRlYWNoZXJwaG9uZXMoc3RhdGUsIHRlYWNoZXJwaG9uZXMpIHsKICAgIHN0YXRlLnRlYWNoZXJwaG9uZXMgPSB0ZWFjaGVycGhvbmVzIHx8IFtdOwogIH0sCiAgdXBkYXRlSG9sZGVyOiBmdW5jdGlvbiB1cGRhdGVIb2xkZXIoc3RhdGUsIGhvbGRlcikgewogICAgc3RhdGUuaG9sZGVyID0gaG9sZGVyIHx8ICcnOwogIH0sCiAgdXBkYXRlTGluZXM6IGZ1bmN0aW9uIHVwZGF0ZUxpbmVzKHN0YXRlLCBsaW5lcykgewogICAgc3RhdGUubGluZXMgPSBsaW5lcyB8fCBbXTsKICB9LAogIHVwZGF0ZW1lc3NhZ2VzOiBmdW5jdGlvbiB1cGRhdGVtZXNzYWdlcyhzdGF0ZSwgbWVzc2FnZXMpIHsKICAgIHN0YXRlLm1lc3NhZ2VzID0gbWVzc2FnZXMgfHwgW107CiAgfSwKICBhZGRUb21lc3NhZ2VzOiBmdW5jdGlvbiBhZGRUb21lc3NhZ2VzKHN0YXRlLCBtZXNzYWdlKSB7CiAgICBzdGF0ZS5tZXNzYWdlcy5wdXNoKG1lc3NhZ2UpOwogIH0sCiAgYWRkcGljdHVyZTogZnVuY3Rpb24gYWRkcGljdHVyZShzdGF0ZSwgbGluZXMpIHsKICAgIHN0YXRlLnBpY3R1cmVzLnB1c2gobGluZXMpOwogIH0sCiAgYWRkVG90ZWFjaGVycGhvbmVzOiBmdW5jdGlvbiBhZGRUb3RlYWNoZXJwaG9uZXMoc3RhdGUsIHRlYWNoZXJwaG9uZSkgewogICAgaWYgKCFzdGF0ZS50ZWFjaGVycGhvbmVzLmluY2x1ZGVzKHRlYWNoZXJwaG9uZSkpIHsKICAgICAgc3RhdGUudGVhY2hlcnBob25lcy5wdXNoKHRlYWNoZXJwaG9uZSk7CiAgICB9CiAgfSwKICBpbml0WGI6IGZ1bmN0aW9uIGluaXRYYihzdGF0ZSwgZ2V0eGIpIHsKICAgIHN0YXRlLmdldFhiID0gZ2V0eGI7CiAgfSwKICBkcmF3TmV3TGluZTogZnVuY3Rpb24gZHJhd05ld0xpbmUoc3RhdGUsIG5ld0xpbmUpIHsKICAgIC8vY29uc29sZS5sb2coIuWIneWni+eUu+adv+Wkp+WwjyIrc3RhdGUuZ2V0WGIpOwogICAgbmV3TGluZS5wb2ludHNbMF0gKj0gc3RhdGUuZ2V0WGI7CiAgICBzdGF0ZS5saW5lcy5wdXNoKG5ld0xpbmUpOyAvL25ld0xpbmUucG9pbnRzWzBdIC89IHN0YXRlLmdldFhiCiAgfSwKICB1cGRhdGVOZXdMaW5lOiBmdW5jdGlvbiB1cGRhdGVOZXdMaW5lKHN0YXRlLCBsYXN0TGluZSkgewogICAgdmFyIGxpbmUgPSBzdGF0ZS5saW5lc1tzdGF0ZS5saW5lcy5sZW5ndGggLSAxXTsKICAgIHZhciB4ID0gbGFzdExpbmUucG9pbnRzW2xhc3RMaW5lLnBvaW50cy5sZW5ndGggLSAyXTsKICAgIHZhciB5ID0gbGFzdExpbmUucG9pbnRzW2xhc3RMaW5lLnBvaW50cy5sZW5ndGggLSAxXTsgLy9jb25zb2xlLmxvZygi6L+Z5piv5pys55S75p2/55qE5a69IitzdGF0ZS5nZXRYYiArICIgLOWPmOaNouWJjSIgK3ggKyAiLi4uIiArIGxhc3RMaW5lLnBvaW50c1tsYXN0TGluZS5wb2ludHMubGVuZ3RoLTJdKTsKCiAgICB4ID0geCAqIHN0YXRlLmdldFhiOyAvL2NvbnNvbGUubG9nKCIrKysiK2xpbmUucG9pbnRzW2xpbmUucG9pbnRzLmxlbmd0aC0xXSk7CiAgICAvL3RlbXBMaW5lLnBvaW50c1t0ZW1wTGluZS5wb2ludHMubGVuZ3RoLTJdICo9IHN0YXRlLmdldFhiCiAgICAvL2NvbnNvbGUubG9nKCLov5nmmK/mnKznlLvmnb/nmoTlrr0iK3N0YXRlLmdldFhiICsgIiAs5Y+Y5o2i5ZCOIiAreCArICIuLi4iICsgbGFzdExpbmUucG9pbnRzW2xhc3RMaW5lLnBvaW50cy5sZW5ndGgtMl0pOwoKICAgIGxpbmUucG9pbnRzID0gbGluZS5wb2ludHMuY29uY2F0KFt4LCB5XSk7IC8vY29uc29sZS5sb2coIui/meaYr+WPmHdhbmhvdeeahOe6vyIrbGluZS5wb2ludHMubGVuZ3RoKTsKICB9LAogIGRlbEZyb210ZWFjaGVycGhvbmVzOiBmdW5jdGlvbiBkZWxGcm9tdGVhY2hlcnBob25lcyhzdGF0ZSwgdGVhY2hlcnBob25lKSB7CiAgICBzdGF0ZS50ZWFjaGVycGhvbmVzID0gc3RhdGUudGVhY2hlcnBob25lcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0gIT09IHRlYWNoZXJwaG9uZTsKICAgIH0pOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8g5rWL6K+VCiAgc2VuZE1lc3NhZ2U6IGZ1bmN0aW9uIHNlbmRNZXNzYWdlKGNvbnRleHQsIG1lc3NhZ2UpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHNvY2tldC5lbWl0KCdzZW5kTWVzc2FnZScsIG1lc3NhZ2UsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgcmVzb2x2ZShyZXMpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8g56Gu6K6k55So5oi35ZCN5piv5ZCm5a2Y5ZyoCiAgY2hlY2tVc2VyRXhpc3Q6IGZ1bmN0aW9uIGNoZWNrVXNlckV4aXN0KGNvbnRleHQsIHRlYWNoZXJwaG9uZSkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgc29ja2V0LmVtaXQoJ2NoZWNrX3VzZXJfZXhpc3QnLCB0ZWFjaGVycGhvbmUsIGZ1bmN0aW9uIChpc0V4aXN0KSB7CiAgICAgICAgcmVzb2x2ZShpc0V4aXN0KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIOi/m+WFpeaIv+mXtAogIHNlbmRVc2VyRW50ZXI6IGZ1bmN0aW9uIHNlbmRVc2VyRW50ZXIoY29udGV4dCkgewogICAgdmFyIHRlYWNoZXJwaG9uZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0ZWFjaGVycGhvbmUnKTsKICAgIHNvY2tldC5lbWl0KCdlbnRlcicsIHRlYWNoZXJwaG9uZSk7CiAgICBjb250ZXh0LmNvbW1pdCgndXBkYXRldGVhY2hlcnBob25lJywgdGVhY2hlcnBob25lKTsKICB9LAogIC8vIOW8gOWni+a4uOaIj+eUs+ivtwogIHNlbmRTdGFydEdhbWU6IGZ1bmN0aW9uIHNlbmRTdGFydEdhbWUoY29udGV4dCwgaW1hZ2VBbnN3ZXIpIHsKICAgIHNvY2tldC5lbWl0KCdzdGFydF9nYW1lJywgaW1hZ2VBbnN3ZXIpOwogIH0sCiAgLy8g57uT5p2f5ri45oiP55Sz6K+3CiAgc2VuZFN0b3BHYW1lOiBmdW5jdGlvbiBzZW5kU3RvcEdhbWUoY29udGV4dCkgewogICAgc29ja2V0LmVtaXQoJ3N0b3BfZ2FtZScpOwogIH0sCiAgLy8g55S75paw57q/CiAgc2VuZERyYXdOZXdMaW5lOiBmdW5jdGlvbiBzZW5kRHJhd05ld0xpbmUoY29udGV4dCwgbmV3TGluZSkgewogICAgc29ja2V0LmVtaXQoJ25ld19saW5lJywgbmV3TGluZSk7CiAgfSwKICAvLyDmm7TmlrDnur/mnaEKICBzZW5kVXBkYXRlTmV3TGluZTogZnVuY3Rpb24gc2VuZFVwZGF0ZU5ld0xpbmUoY29udGV4dCwgbGFzdExpbmUpIHsKICAgIHNvY2tldC5lbWl0KCd1cGRhdGVfbGluZScsIGxhc3RMaW5lKTsKICB9LAogIHNlbmRBbnN3ZXJHYW1lOiBmdW5jdGlvbiBzZW5kQW5zd2VyR2FtZShjb250ZXh0LCBpbnB1dEltYWdlTmFtZSkgewogICAgc29ja2V0LmVtaXQoJ2Fuc3dlcl9nYW1lJywgaW5wdXRJbWFnZU5hbWUpOwogIH0sCiAgc2VuZFVzZXJMZWF2ZTogZnVuY3Rpb24gc2VuZFVzZXJMZWF2ZShjb250ZXh0KSB7CiAgICBzb2NrZXQuZW1pdCgnbGVhdmUnKTsKICAgIGNvbnRleHQuY29tbWl0KCd1cGRhdGV0ZWFjaGVycGhvbmUnLCAnJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndGVhY2hlcnBob25lJyk7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICBpc0dhbWVTdGFydGVkOiBmdW5jdGlvbiBpc0dhbWVTdGFydGVkKHN0YXRlKSB7CiAgICAvLyDmoLnmja7kuLvmjIHkurrmmK/lkKblrZjlnKgsIOWIpOaWrea4uOaIj+aYr+WQpuW8gOWniwogICAgcmV0dXJuICEhc3RhdGUuaG9sZGVyOwogIH0sCiAgaXNHYW1lSG9sZGVyOiBmdW5jdGlvbiBpc0dhbWVIb2xkZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS50ZWFjaGVycGhvbmUgPT09IHN0YXRlLmhvbGRlcjsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn0pOw=="},{"version":3,"sources":["/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/store/index.js"],"names":["Vue","Vuex","socket","use","state","connected","teacherphone","teacherphones","holder","lines","pictures","messages","getXb","mutations","updateConnected","updateteacherphone","updateteacherphones","updateHolder","updateLines","updatemessages","addTomessages","message","push","addpicture","addToteacherphones","includes","initXb","getxb","drawNewLine","newLine","points","updateNewLine","lastLine","line","length","x","y","concat","delFromteacherphones","filter","item","actions","sendMessage","context","Promise","resolve","reject","emit","res","checkUserExist","isExist","sendUserEnter","localStorage","getItem","commit","sendStartGame","imageAnswer","sendStopGame","sendDrawNewLine","sendUpdateNewLine","sendAnswerGame","inputImageName","sendUserLeave","removeItem","getters","isGameStarted","isGameHolder","Store"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport socket from '@/socket'\n\nVue.use(Vuex)\n\nconst state = {\n  connected: false, // 连接状态\n  teacherphone: '', // 当前用户昵称\n  teacherphones: [], // 房间用户昵称列表\n  holder: '', // 游戏主持人\n  lines: [] ,// 房间的绘图信息 (画了多少根线)\n  pictures:[],\n  messages:[],\n  getXb:1\n}\n\nconst mutations = {\n  updateConnected(state, connected) {\n    state.connected = connected\n  },\n  updateteacherphone(state, teacherphone) {\n    state.teacherphone = teacherphone || ''\n  },\n  updateteacherphones(state, teacherphones) {\n    state.teacherphones = teacherphones || []\n  },\n  updateHolder(state, holder) {\n    state.holder = holder || ''\n  },\n  updateLines(state, lines) {\n    state.lines = lines || []\n  },\n  updatemessages(state, messages) {\n    state.messages = messages || []\n  },\n  addTomessages(state, message) {\n    state.messages.push(message)\n  },\n  addpicture(state, lines) {\n    state.pictures.push(lines)\n  },\n  addToteacherphones(state, teacherphone) {\n    if (!state.teacherphones.includes(teacherphone)) {\n      state.teacherphones.push(teacherphone)\n    }\n  },\n  initXb(state, getxb) {\n   state.getXb = getxb\n  },\n  drawNewLine(state, newLine) {\n    \n    //console.log(\"初始画板大小\"+state.getXb);\n    \n    newLine.points[0] *= state.getXb\n    state.lines.push(newLine)\n    //newLine.points[0] /= state.getXb\n  },\n  updateNewLine(state, lastLine) {\n    const line = state.lines[state.lines.length - 1]\n    var x = lastLine.points[lastLine.points.length-2]\n    var y = lastLine.points[lastLine.points.length-1]\n    //console.log(\"这是本画板的宽\"+state.getXb + \" ,变换前\" +x + \"...\" + lastLine.points[lastLine.points.length-2]);\n    x = x * state.getXb\n    //console.log(\"+++\"+line.points[line.points.length-1]);\n    //tempLine.points[tempLine.points.length-2] *= state.getXb\n    //console.log(\"这是本画板的宽\"+state.getXb + \" ,变换后\" +x + \"...\" + lastLine.points[lastLine.points.length-2]);\n    line.points = line.points.concat([x,y])\n    \n    //console.log(\"这是变wanhou的线\"+line.points.length);\n  },\n  delFromteacherphones(state, teacherphone) {\n    state.teacherphones = state.teacherphones.filter(item => item !== teacherphone)\n  }\n}\n\nconst actions = {\n  // 测试\n  sendMessage(context, message) {\n    return new Promise((resolve, reject) => {\n      socket.emit('sendMessage', message, res => {\n        // console.log(res)\n        resolve(res)\n      })\n    })\n  },\n \n\n \n  // 确认用户名是否存在\n  checkUserExist(context, teacherphone) {\n    return new Promise((resolve, reject) => {\n      socket.emit('check_user_exist', teacherphone, isExist => {\n        resolve(isExist)\n      })\n    })\n  },\n  // 进入房间\n  sendUserEnter(context) {\n    const teacherphone = localStorage.getItem('teacherphone')\n    socket.emit('enter', teacherphone)\n    context.commit('updateteacherphone', teacherphone)\n  },\n  // 开始游戏申请\n  sendStartGame(context, imageAnswer) {\n    socket.emit('start_game', imageAnswer)\n  },\n  // 结束游戏申请\n  sendStopGame(context) {\n    socket.emit('stop_game')\n  },\n  // 画新线\n  sendDrawNewLine(context, newLine) {\n    socket.emit('new_line', newLine)\n  },\n  // 更新线条\n  sendUpdateNewLine(context, lastLine) {\n    socket.emit('update_line', lastLine)\n  },\n\n  sendAnswerGame(context, inputImageName) {\n    socket.emit('answer_game', inputImageName)\n  },\n\n  sendUserLeave(context) {\n    socket.emit('leave')\n    context.commit('updateteacherphone', '')\n    localStorage.removeItem('teacherphone')\n  }\n}\n\nconst getters = {\n  isGameStarted(state) {\n    // 根据主持人是否存在, 判断游戏是否开始\n    return !!state.holder\n  },\n  isGameHolder(state) {\n    return state.teacherphone === state.holder\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions,\n  getters\n})\n"]}]}