{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/babel-loader/lib/index.js!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/views/Game2/components/app-stage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/views/Game2/components/app-stage.vue","mtime":1629207101350},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NoZW5neGlhb2ZlbmcvRGVza3RvcC9cdTk4NzlcdTc2RUUvXHU2MjRCXHU1MTk5XHU2NzdGXHU5ODc5XHU3NkVFLzgtMTNXZWJcdTdBRUYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCLnvZfljZrniYjnmoTlrr3lkozpq5giICsgMjkwMDAgKyAiICIgKyAyMTAwMCk7CiAgICBjb25zb2xlLmxvZygi5bGP5bmV55qE5a695ZKM6auY77yaIiArIHdpbmRvdy5zY3JlZW4ud2lkdGggKyAiICIgKyB3aW5kb3cuc2NyZWVuLmhlaWdodCk7IC8vIGNvbnNvbGUubG9nKCLnvZHpobXnmoTlrr3lkozpq5jvvJoiICsgd2luZG93LnNjcmVlbi5hdmFpbFdpZHRoKyAiICIgK3dpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQpCiAgICAvLyBjb25zb2xlLmxvZygi572R6aG15YaF5a6555qE5a695ZKM6auY77yaIiArIHdpbmRvdy5pbm5lcldpZHRoICsgIiAiICsgIHdpbmRvdy5pbm5lckhlaWdodCkKCiAgICBjb25zb2xlLmxvZygi5a696auY5q+UIiArIDI5MDAwIC8gd2luZG93LnNjcmVlbi53aWR0aCArICIgIiArIDIxMDAwIC8gd2luZG93LnNjcmVlbi5oZWlnaHQpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIHRoaXMuc3RhZ2VDb25maWcud2lkdGggPSB0aGlzLiRyZWZzLndyYXBwZXIuJGVsLm9mZnNldFdpZHRoCiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUNhbnZhcycpOwogICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8gdGhpcy5jb250ZXh0LnRyYW5zbGF0ZSh0aGlzLm9mZnNldFgsIHRoaXMub2Zmc2V0WSk7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm9mZnNldFggKyAiICIgKyB0aGlzLm9mZnNldFkpOwoKICAgIC8q5bu656uL5o+S5Lu26YCa5L+h44CB5re75Yqg5ZON5bqU5Ye95pWwKi8KCiAgICB0aGF0LnBvcnQgPSBjaHJvbWUucnVudGltZS5jb25uZWN0KHRoYXQuZWRpdG9yRXh0ZW5zaW9uSWQpOwogICAgdGhhdC5wb3J0Lm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihmdW5jdGlvbiAobXNnKSB7CiAgICAgIHRoYXQucmVjTWVzc2FnZShtc2cpOwogICAgfSk7CiAgICB0aGF0LmluaXRDYW52YXModGhhdC5waWQpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOeUu+W4g+mFjee9rgogICAgICBzdGFnZUNvbmZpZzogewogICAgICAgIHdpZHRoOiA4MDAsCiAgICAgICAgaGVpZ2h0OiA3MDAKICAgICAgfSwKICAgICAgLy8g57uY55S754q25oCBCiAgICAgIHBhaW50aW5nOiBmYWxzZSwKICAgICAgc3Ryb2tlOiAnI2RmNGIyNicsCiAgICAgIHN0cm9rZVdpZHRoOiAyLAogICAgICB2aWQ6IDExNTUsCiAgICAgIHBpZDogMjQ2NzIsCiAgICAgIHBhZ2VZOiA4MTkxLAogICAgICAvLyDorr7lpIflg4/ntKBZ6L205pyA5aSn5YC8CiAgICAgIHBhZ2VYOiAxNDMzNSwKICAgICAgLy8g6K6+5aSH5YOP57SgWOi9tOacgOWkp+WAvAogICAgICBwb3J0OiAiIiwKICAgICAgLy8g6YCa5L+h5a+56LGhCiAgICAgIGVkaXRvckV4dGVuc2lvbklkOiAnZGpra2hjbmxwbHBjaGZiZGdrZGdnY21sY2xnZ2VmYmcnLAogICAgICAvLyDpgJrkv6FJRAogICAgICB3aWR0aDogODcwLAogICAgICBoZWlnaHQ6IDYzMCwKICAgICAgb2Zmc2V0WDogMC41LAogICAgICBvZmZzZXRZOiAwLjUsCiAgICAgIHJhdGlvWDogMSwKICAgICAgcmF0aW9ZOiAxLAogICAgICB4MTogMiwKICAgICAgeTE6IDIsCiAgICAgIHgyOiAyLAogICAgICB5MjogMiwKICAgICAgcmVzOiAyLAogICAgICBjYW52YXM6ICIiLAogICAgICBjb250ZXh0OiAiIiwKICAgICAgaXNTdGFydDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsnbGluZXMnXSkpLCBtYXBHZXR0ZXJzKFsnaXNHYW1lU3RhcnRlZCcsICdpc0dhbWVIb2xkZXInXSkpLAogIC8vIG1vdW50ZWQoKSB7CiAgLy8gICAvLyDlsIbnlLvluIPlrr3luqborr7nva7kuI7lrrnlmajlkIzlrr0KICAvLyAgIHRoaXMuc3RhZ2VDb25maWcud2lkdGggPSB0aGlzLiRyZWZzLndyYXBwZXIuJGVsLm9mZnNldFdpZHRoCiAgLy8gfSwKICBtZXRob2RzOiB7CiAgICAvLyDpvKDmoIfmjInkuIsKICAgIG1vdXNlZG93bkhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNlZG93bkhhbmRsZXIoZSkgewogICAgICBpZiAoIXRoaXMuaXNHYW1lSG9sZGVyIHx8ICF0aGlzLmlzR2FtZUhvbGRlcikgcmV0dXJuOwogICAgICB0aGlzLnBhaW50aW5nID0gdHJ1ZTsgLy8g5Yib5bu65LiA5Liq5paw57q/5p2hCgogICAgICB2YXIgbmV3TGluZSA9IHsKICAgICAgICBzdHJva2U6IHRoaXMuc3Ryb2tlLAogICAgICAgIHN0cm9rZVdpZHRoOiB0aGlzLnN0cm9rZVdpZHRoLAogICAgICAgIHBvaW50czogW2UuZXZ0LmxheWVyWCwgZS5ldnQubGF5ZXJZXQogICAgICB9OyAvLyDmnKzlnLDnlLvnur8sIOWtmOWIsHZ1ZXjkuK0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZHJhd05ld0xpbmUnLCBuZXdMaW5lKTsgLy8g6K+35rGC5pyN5Yqh5ZmoCgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2VuZERyYXdOZXdMaW5lJywgbmV3TGluZSk7CiAgICB9LAogICAgLy8g6byg5qCH5ouW5YqoCiAgICBtb3VzZW1vdmVIYW5kbGVyOiBmdW5jdGlvbiBtb3VzZW1vdmVIYW5kbGVyKGUpIHsKICAgICAgaWYgKCF0aGlzLnBhaW50aW5nKSByZXR1cm47CiAgICAgIHZhciBsYXN0TGluZSA9IHRoaXMubGluZXNbdGhpcy5saW5lcy5sZW5ndGggLSAxXTsKICAgICAgbGFzdExpbmUucG9pbnRzID0gbGFzdExpbmUucG9pbnRzLmNvbmNhdChbZS5ldnQubGF5ZXJYLCBlLmV2dC5sYXllclldKTsKICAgICAgY29uc29sZS5sb2cobGFzdExpbmUpOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3VwZGF0ZU5ld0xpbmUnLCBsYXN0TGluZSk7IC8vIOivt+axguacjeWKoeWZqAoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NlbmRVcGRhdGVOZXdMaW5lJywgbGFzdExpbmUpOwogICAgfSwKICAgIC8vIOm8oOagh+mHiuaUvgogICAgbW91c2V1cEhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNldXBIYW5kbGVyKCkgewogICAgICB0aGlzLnBhaW50aW5nID0gZmFsc2U7CiAgICB9LAogICAgaW5pdENhbnZhczogZnVuY3Rpb24gaW5pdENhbnZhcyhwaWQpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgICAgaWYgKHBpZCA9PSAyNDY3MiB8fCBwaWQgPT0gMjQ2ODIpIHsKICAgICAgICAvLyBUOFkg772c772cIFQ4QwogICAgICAgIHRoaXMucGFnZVkgPSAyMTAwMDsKICAgICAgICB0aGlzLnBhZ2VYID0gMjk3MDA7CiAgICAgIH0gLy8gdGhpcy5oZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCkgPiB0aGlzLmhlaWdodCA/IHRoaXMuaGVpZ2h0IDogJCh3aW5kb3cpLmhlaWdodCgpIC0gMjA7CiAgICAgIC8vIHRoaXMud2lkdGggPSBwYXJzZUludCh0aGlzLmhlaWdodCAqIHRoaXMucGFnZVggLyB0aGlzLnBhZ2VZKTsKICAgICAgLy8gaWYodGhpcy53aWR0aCA+ICQod2luZG93KS53aWR0aCgpICogMC42OCl7CiAgICAgIC8vICAgICB0aGlzLndpZHRoID0gcGFyc2VJbnQoJCh3aW5kb3cpLndpZHRoKCkgKiAwLjY4KTsKICAgICAgLy8gICAgIHRoaXMuaGVpZ2h0ID0gcGFyc2VJbnQodGhpcy53aWR0aCAqIHRoaXMucGFnZVkgLyB0aGlzLnBhZ2VYKTsKICAgICAgLy8gfQoKCiAgICAgIHRoaXMucmF0aW9YID0gdGhpcy53aWR0aCAvIHRoaXMucGFnZVg7CiAgICAgIHRoaXMucmF0aW9ZID0gdGhpcy5oZWlnaHQgLyB0aGlzLnBhZ2VZOwogICAgICAkKHRoYXQuY2FudmFzKS5hdHRyKCJ3aWR0aCIsIHRoYXQud2lkdGgpOwogICAgICAkKHRoYXQuY2FudmFzKS5hdHRyKCJoZWlnaHQiLCB0aGF0LmhlaWdodCk7CiAgICAgIHRoaXMucGVuSW5pdCgpOwogICAgfSwKICAgIHJlY01lc3NhZ2U6IGZ1bmN0aW9uIHJlY01lc3NhZ2UobXNnKSB7CiAgICAgIHN3aXRjaCAobXNnLnN0YXR1cykgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgICQoJyNoZWhlJykuaHRtbCgn6K6+5aSH6L+e5o6l5oiQ5YqfJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdGhpcy5saW5lVG8obXNnLngsIG1zZy55LCBtc2cucywgbXNnLnApOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgICQoJyNoZWhlJykuaHRtbCgndXNi5pON5L2c5p2D6ZmQ6I635Y+W5aSx6LSlJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgJCgnI2hlaGUnKS5odG1sKCfmjIflrprnmoR1c2Lorr7lpIfmnKrmib7liLAnKTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAkKCcjaGVoZScpLmh0bWwoJ3VzYuiuvuWkh+i/nuaOpeWksei0peWPiuaJk+W8gOiuvuWkh+Wksei0pScpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNToKICAgICAgICAgICQoJyNoZWhlJykuaHRtbCgn5a2Y5Zyo5omT5byA55qE6K6+5aSHJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA2OgogICAgICAgICAgaWYgKG1zZy5tb2RlID09ICdtb3VzZScpIHsKICAgICAgICAgICAgJCgnI2hlaGUnKS5odG1sKCflvZPliY3mqKHlvI/kuLrpvKDmoIfmqKHlvI8nKTsKICAgICAgICAgIH0gZWxzZSBpZiAobXNnLm1vZGUgPT0gJ3BlbicpIHsKICAgICAgICAgICAgJCgnI2hlaGUnKS5odG1sKCflvZPliY3mqKHlvI/kuLrnrJTmqKHlvI8nKTsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICQoJyNoZWhlJykuaHRtbChtc2cuZG9uZ2xlX3N0YXR1cyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyMToKICAgICAgICAgICQoJyNCTEVEZXZpY2VzJykuYXBwZW5kKCI8bGk+IiArIG1zZy5kZXZpY2VfbmFtZSArICI8YnV0dG9uICBvbmNsaWNrPSdjb25uZWN0QkxFKCIgKyBtc2cubnVtICsgIiknPui/nuaOpTwvYnV0dG9uPjwvbGk+Iik7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzMjoKICAgICAgICAgIHdpbmRvdy5hbGVydCgn5bem6ZSu5Y2V5Ye7Jyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzMzoKICAgICAgICAgIHdpbmRvdy5hbGVydCgn5bem6ZSu5Y+M5Ye7Jyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzNDoKICAgICAgICAgIHdpbmRvdy5hbGVydCgn5bem6ZSu6ZW/5oyJJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzNToKICAgICAgICAgIHdpbmRvdy5hbGVydCgn5Y+z6ZSu5Y2V5Ye7Jyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzNjoKICAgICAgICAgIHdpbmRvdy5hbGVydCgn5Y+z6ZSu5Y+M5Ye7Jyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAzNzoKICAgICAgICAgIHdpbmRvdy5hbGVydCgn5Y+z6ZSu6ZW/5oyJJyk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAxMDA6CiAgICAgICAgICB2YXIgYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteUNhbnZhcycpOwogICAgICAgICAgYy5oZWlnaHQgPSBjLmhlaWdodDsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9LAogICAgcGVuSW5pdDogZnVuY3Rpb24gcGVuSW5pdCgpIHsKICAgICAgdGhpcy5jbG9zZVVTQigpOwogICAgfSwKICAgIC8v5omT5byAVVNC6K6+5aSHCiAgICBvcGVuVVNCOiBmdW5jdGlvbiBvcGVuVVNCKCkgewogICAgICB2YXIgVklEID0gdGhpcy52aWQ7CiAgICAgIHZhciBQSUQgPSB0aGlzLnBpZDsKICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsKICAgICAgICBjbWQ6ICdvcGVuVVNCJywKICAgICAgICBwaWQ6IFBJRCwKICAgICAgICB2aWQ6IFZJRAogICAgICB9KTsKICAgICAgdGhpcy5jaGFuZ2VNb2RlKCk7CiAgICB9LAogICAgLy/lhbPpl61VU0Lorr7lpIcKICAgIGNsb3NlVVNCOiBmdW5jdGlvbiBjbG9zZVVTQigpIHsKICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsKICAgICAgICBjbWQ6ICdjbG9zZVVTQicKICAgICAgfSk7CiAgICB9LAogICAgLy/ojrflj5Zkb25nbGXnirbmgIEKICAgIGdldERvbmdsZVN0YXR1czogZnVuY3Rpb24gZ2V0RG9uZ2xlU3RhdHVzKCkgewogICAgICBjb25zb2xlLmxvZygxMjMpOwogICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoewogICAgICAgIGNtZDogJ2RvbmdsZVN0YXR1cycKICAgICAgfSk7CiAgICB9LAogICAgLy/miavmj4/ok53niZkKICAgIHNjYW5CTEU6IGZ1bmN0aW9uIHNjYW5CTEUoKSB7CiAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7CiAgICAgICAgY21kOiAnc2NhbkJMRScKICAgICAgfSk7CiAgICB9LAogICAgLy/ov57mjqXok53niZnorr7lpIcKICAgIGNvbm5lY3RCTEU6IGZ1bmN0aW9uIGNvbm5lY3RCTEUobnVtKSB7CiAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7CiAgICAgICAgY21kOiAnY29ubmVjdEJMRScsCiAgICAgICAgbnVtOiBudW0KICAgICAgfSk7CiAgICB9LAogICAgLy/mlq3lvIDok53niZkKICAgIGRpc2Nvbm5lY3RCTEU6IGZ1bmN0aW9uIGRpc2Nvbm5lY3RCTEUoKSB7CiAgICAgIHRoaXMucG9ydC5wb3N0TWVzc2FnZSh7CiAgICAgICAgY21kOiAnY2xvc2VCTEUnCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIh+aNoueslOaooeW8jwogICAgY2hhbmdlTW9kZTogZnVuY3Rpb24gY2hhbmdlTW9kZSgpIHsKICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsKICAgICAgICBjbWQ6ICdjaGFuZ2VNb2RlJwogICAgICB9KTsKICAgIH0sCiAgICAvLyBjbGVhciBjYW52YXMKICAgIGNsZWFyQ2FudmFzOiBmdW5jdGlvbiBjbGVhckNhbnZhcygpIHsKICAgICAgdmFyIGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlDYW52YXMnKTsKICAgICAgYy5oZWlnaHQgPSBjLmhlaWdodDsKICAgICAgdGhpcy5wb3J0LnBvc3RNZXNzYWdlKHsKICAgICAgICBjbWQ6ICdjbGVhckNhbnZhcycKICAgICAgfSk7CiAgICB9LAogICAgbGluZVRvOiBmdW5jdGlvbiBsaW5lVG8oeCwgeSwgcywgcCkgewogICAgICB2YXIgdHggPSB0aGlzLnJhdGlvWCAqIHg7CiAgICAgIHZhciB0eSA9IHRoaXMucmF0aW9ZICogeTsKICAgICAgdmFyIHR3ID0gMS4yOwogICAgICB2YXIgY29uID0gJ3g9JyArIHggKyAnLHk9JyArIHkgKyAnLHM9JyArIHMgKyAnLHA9JyArIHA7CiAgICAgICQoJyNjb250ZW50JykudGV4dChjb24pOwoKICAgICAgaWYgKHMgPT0gMTYgfHwgcyA9PSAwKSB7CiAgICAgICAgdGhpcy5pc1N0YXJ0ID0gMDsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmlzU3RhcnQgPiAwKSB7CiAgICAgICAgdGhpcy54MiA9IE1hdGguZmxvb3IodGhpcy5yYXRpb1ggKiB4KTsKICAgICAgICB0aGlzLnkyID0gTWF0aC5mbG9vcih0aGlzLnJhdGlvWSAqIHkpOwogICAgICAgIHZhciBkID0gTWF0aC5zcXJ0KE1hdGgucG93KHRoaXMueDEgLSB0aGlzLngyLCAyKSArIE1hdGgucG93KHRoaXMueTEgLSB0aGlzLnkyLCAyKSk7CgogICAgICAgIGlmIChkID4gdGhpcy5yZXMpIHsKICAgICAgICAgIHR4ID0gTWF0aC5yb3VuZCgodGhpcy54MSArIHRoaXMueDIpIC8gMiAqIDEwMCkgLyAxMDA7CiAgICAgICAgICB0eSA9IE1hdGgucm91bmQoKHRoaXMueTEgKyB0aGlzLnkyKSAvIDIgKiAxMDApIC8gMTAwOwoKICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQgPT0gMSkgewogICAgICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHR4LCB0eSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmNvbnRleHQucXVhZHJhdGljQ3VydmVUbyh0aGlzLngxLCB0aGlzLnkxLCB0eCwgdHkpOwogICAgICAgICAgICB0aGlzLmNvbnRleHQubGluZVdpZHRoID0gdHc7CiAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTsKICAgICAgICAgICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpOwogICAgICAgICAgICB0aGlzLmNvbnRleHQubW92ZVRvKHR4LCB0eSk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy54MSA9IHRoaXMueDI7CiAgICAgICAgICB0aGlzLnkxID0gdGhpcy55MjsKICAgICAgICB9CgogICAgICAgIHRoaXMuaXNTdGFydCsrOwogICAgICB9IGVsc2UgewogICAgICAgIC8qIOWIneWni+WMlueUu+eCuSovCiAgICAgICAgdGhpcy5pc1N0YXJ0ID0gMTsKICAgICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVDYXAgPSAicm91bmQiOwogICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9ICIjMDAwIjsgLy/mlrDlop4KCiAgICAgICAgdGhpcy54MSA9IHR4OwogICAgICAgIHRoaXMueTEgPSB0eTsKICAgICAgICB0aGlzLmNvbnRleHQubW92ZVRvKHR4LCB0eSk7IC8v6LW354K5CgogICAgICAgIHRoaXMuaXNTdGFydCsrOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["app-stage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<div>\n  <div class=\"message\">\n    <span id=\"hehe\"></span>\n    <p  id=\"content\"></p>\n    <span id=\"d\"></span>\n    <ul id=\"BLEDevices\"></ul>\n    </div>\n\n  <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\">\n    \n\n<canvas id=\"myCanvas\" class=\"board\" width=\"100%\" height=\"960\" style=\"border:1px solid black;\"></canvas><br/>\n\n    <!-- <v-stage\n      :config=\"stageConfig\"\n      @mousedown=\"mousedownHandler\"\n      @mouseup=\"mouseupHandler\"\n      @mousemove=\"mousemoveHandler\"\n    >\n      <v-layer>\n        <v-line\n          v-for=\"(line, index) in lines\"\n          :key=\"index\"\n          :config=\"line\"\n        />\n      </v-layer>\n    </v-stage> -->\n    <input type=\"button\" value=\"打开USB设备\"  @click=\"openUSB\"/>\n    <input type=\"button\" value=\"切换模式\" @click=\"changeMode\"/>\n  </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  created(){\n    console.log(\"罗博版的宽和高\" + 29000 + \" \" +  21000);\n    console.log(\"屏幕的宽和高：\" + window.screen.width + \" \" +  window.screen.height )\n    // console.log(\"网页的宽和高：\" + window.screen.availWidth+ \" \" +window.screen.availHeight)\n    // console.log(\"网页内容的宽和高：\" + window.innerWidth + \" \" +  window.innerHeight)\n    console.log(\"宽高比\" + 29000 / window.screen.width + \" \" +  21000 / window.screen.height);\n  \n  },\n  mounted(){\n    // this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n        const that = this\n        this.canvas = document.getElementById('myCanvas')\n        this.context = this.canvas.getContext('2d')\n        // this.context.translate(this.offsetX, this.offsetY);\n// console.log(this.offsetX + \" \" + this.offsetY);\n        /*建立插件通信、添加响应函数*/\n            that.port = chrome.runtime.connect(that.editorExtensionId);\n            that.port.onMessage.addListener( function(msg){\n                that.recMessage(msg)\n            })\n\n            that.initCanvas(that.pid)\n\n    },\n  data() {\n    return {\n      // 画布配置\n      stageConfig: {\n        width: 800,\n        height: 700\n      },\n      // 绘画状态\n      painting: false,\n      stroke: '#df4b26',\n      strokeWidth: 2,\n      vid:1155,\n            pid:24672,\n            pageY : 8191, // 设备像素Y轴最大值\n            pageX : 14335, // 设备像素X轴最大值\n            port:\"\",           // 通信对象\n            editorExtensionId:'djkkhcnlplpchfbdgkdggcmlclggefbg',  // 通信ID\n\n            width : 870,\n            height : 630,\n            offsetX : 0.5,\n            offsetY : 0.5,\n            ratioX : 1, \n            ratioY : 1,\n            x1:2, y1:2, x2:2, y2:2, res : 2,\n            canvas : \"\",\n            context : \"\",\n            isStart : 0,\n    }\n  },\n  computed: {\n    ...mapState(['lines']),\n    ...mapGetters(['isGameStarted', 'isGameHolder'])\n  },\n\n  // mounted() {\n  //   // 将画布宽度设置与容器同宽\n  //   this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n  // },\n\n  methods: {\n    // 鼠标按下\n    mousedownHandler(e) {\n      if (!this.isGameHolder || !this.isGameHolder) return\n\n      this.painting = true\n      // 创建一个新线条\n      const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX, e.evt.layerY]\n      }\n      // 本地画线, 存到vuex中\n      this.$store.commit('drawNewLine', newLine)\n      // 请求服务器\n      this.$store.dispatch('sendDrawNewLine', newLine)\n    },\n\n    // 鼠标拖动\n    mousemoveHandler(e) {\n      if (!this.painting) return\n      const lastLine = this.lines[this.lines.length - 1]\n      lastLine.points = lastLine.points.concat([e.evt.layerX, e.evt.layerY])\n      console.log(lastLine)\n      this.$store.commit('updateNewLine', lastLine)\n      // 请求服务器\n      this.$store.dispatch('sendUpdateNewLine', lastLine)\n    },\n\n    // 鼠标释放\n    mouseupHandler() {\n      this.painting = false\n    },\n    initCanvas(pid) {\n            const that = this\n            if (pid == 24672 || pid == 24682) {\n                // T8Y ｜｜ T8C\n                this.pageY = 21000\n                this.pageX = 29700\n            }\n            // this.height = $(window).height() > this.height ? this.height : $(window).height() - 20;\n            // this.width = parseInt(this.height * this.pageX / this.pageY);\n            // if(this.width > $(window).width() * 0.68){\n            //     this.width = parseInt($(window).width() * 0.68);\n            //     this.height = parseInt(this.width * this.pageY / this.pageX);\n            // }\n            \n            this.ratioX = this.width / this.pageX;\n            this.ratioY = this.height / this.pageY;\n            $(that.canvas).attr(\"width\", that.width);\n            $(that.canvas).attr(\"height\", that.height);\n            this.penInit()\n        },\n        recMessage(msg) {\n            switch (msg.status) {\n                case 0:\n                    $('#hehe').html('设备连接成功');\n                    break;\n                case 1:\n                    this.lineTo(msg.x, msg.y, msg.s, msg.p);\n                    break;\n                case 2:\n                    $('#hehe').html('usb操作权限获取失败');\n                    break;\n                case 3:\n                    $('#hehe').html('指定的usb设备未找到');\n                    break;\n                case 4:\n                    $('#hehe').html('usb设备连接失败及打开设备失败');\n                    break;\n                case 5: \n                    $('#hehe').html('存在打开的设备');\n                    break;\n                case 6:\n                    if (msg.mode == 'mouse') {\n                        $('#hehe').html('当前模式为鼠标模式');\n                    }else if (msg.mode == 'pen') {\n                        $('#hehe').html('当前模式为笔模式');\n                    }\n                    break;\n                case 20:\n                    $('#hehe').html(msg.dongle_status);\n                    break;\n                case 21:\n                    $('#BLEDevices').append(\"<li>\"+msg.device_name+\"<button  onclick='connectBLE(\"+msg.num+\")'>连接</button></li>\");\n                    break;\n                        case 32:\n                            window.alert('左键单击')\n                            break;\n                        case 33:\n                            window.alert('左键双击')\n                            break;\n                        case 34:\n                            window.alert('左键长按')\n                            break;\n                        case 35:\n                            window.alert('右键单击')\n                            break;\n                        case 36:\n                            window.alert('右键双击')\n                            break;\n                        case 37:\n                            window.alert('右键长按')\n                            break;\n                case 100:\n                    let c = document.getElementById('myCanvas');\n                    c.height = c.height;\n                    break;\n            }\n        },\n        penInit(){\n            this.closeUSB()\n        },\n        //打开USB设备\n        openUSB(){\n            let VID = this.vid;\n            let PID = this.pid;\n            this.port.postMessage({cmd:'openUSB',pid: PID,vid: VID});\n            this.changeMode()\n        },\n        //关闭USB设备\n        closeUSB(){\n            this.port.postMessage({cmd:'closeUSB'});\n            \n        },\n        //获取dongle状态\n        getDongleStatus() {\n            console.log(123);\n            this.port.postMessage({cmd:'dongleStatus'});\n        },\n        //扫描蓝牙\n        scanBLE(){\n            this.port.postMessage({cmd:'scanBLE'});\n        },\n        //连接蓝牙设备\n        connectBLE(num) {\n            this.port.postMessage({cmd:'connectBLE',num: num});\n        },\n        //断开蓝牙\n        disconnectBLE() {\n            this.port.postMessage({cmd:'closeBLE'});\n        },\n        // 切换笔模式\n        changeMode() {\n            this.port.postMessage({cmd:'changeMode'});\n        },\n        // clear canvas\n        clearCanvas(){\n            let c = document.getElementById('myCanvas');\n            c.height = c.height;\n            this.port.postMessage({cmd:'clearCanvas'});\n        },\n\n        lineTo(x, y, s, p){\n            let tx = this.ratioX * x;\n            let ty = this.ratioY * y;\n            let tw = 1.2;\n            let con = 'x='+x+',y='+y+',s='+s+',p='+p;\n            $('#content').text(con);\n            if (s == 16 || s == 0) {\n                this.isStart = 0;\n                return;\n            }\n            if(this.isStart > 0){\n                this.x2 = Math.floor(this.ratioX * x);\n                this.y2 = Math.floor(this.ratioY * y);\n                let d = Math.sqrt(Math.pow(this.x1 - this.x2, 2) + Math.pow(this.y1 - this.y2, 2));\n                if(d > this.res){\n                    tx = Math.round((this.x1 + this.x2) / 2 * 100) / 100;\n                    ty = Math.round((this.y1 + this.y2) / 2 * 100) / 100;\n                    if (this.isStart == 1) {\n                        this.context.lineTo(tx, ty);\n                    } else {\n                        this.context.quadraticCurveTo(this.x1, this.y1, tx, ty);\n                        this.context.lineWidth = tw;\n                        this.context.stroke();\n                        this.context.beginPath();\n                        this.context.moveTo(tx,ty);\n                    }\n                    this.x1 = this.x2;\n                    this.y1 = this.y2;\n                }\n                this.isStart++;\n            }else{\n                /* 初始化画点*/\n                this.isStart = 1;\n                this.context.beginPath();\n                this.context.lineCap = \"round\";\n                this.context.strokeStyle = \"#000\";//新增\n                this.x1 = tx;\n                this.y1 = ty;\n                this.context.moveTo(tx, ty);//起点\n                this.isStart++;\n            }\n        }\n\n    \n  }\n}\n</script>\n"],"sourceRoot":"src/views/Game2/components"}]}