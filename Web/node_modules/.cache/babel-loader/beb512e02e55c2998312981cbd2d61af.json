{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/babel-loader/lib/index.js!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/test.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/test.vue","mtime":1629768798245},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NoZW5neGlhb2ZlbmcvRGVza3RvcC9cdTk4NzlcdTc2RUUvXHU2MjRCXHU1MTk5XHU2NzdGXHU5ODc5XHU3NkVFL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ2xpbmVzMScsICdsaW5lczInXSkpLCBtYXBHZXR0ZXJzKFsnaXNHYW1lU3RhcnRlZCcsICdpc0dhbWVIb2xkZXInXSkpLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFhiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50V2lkdGg7CiAgICB0aGlzLmdldFliID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50SGVpZ2h0OwogICAgdGhpcy5zdGFnZUNvbmZpZy53aWR0aCA9IHRoaXMuJHJlZnMud3JhcHBlci4kZWwub2Zmc2V0V2lkdGg7CiAgICB0aGlzLnN0YWdlQ29uZmlnLmhlaWdodCA9IHRoaXMuJHJlZnMud3JhcHBlci4kZWwub2Zmc2V0SGVpZ2h0OwogICAgdGhpcy4kc3RvcmUuY29tbWl0KCdpbml0WGInLCB0aGlzLmdldFhiKTsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaW5pdFliJywgdGhpcy5nZXRZYik7IC8vIGNvbnNvbGUubG9nKHRoaXMuZ2V0WGIgKyAiICIgKyB0aGlzLmdldFliKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjbGFzc0NvZGU6IDExMDEsCiAgICAgIC8vIOeUu+W4g+mFjee9rgogICAgICBzdGFnZUNvbmZpZzogewogICAgICAgIHdpZHRoOiAxMzAwLAogICAgICAgIGhlaWdodDogNDUwCiAgICAgIH0sCiAgICAgIC8vIOe7mOeUu+eKtuaAgQogICAgICBwYWludGluZzogZmFsc2UsCiAgICAgIHN0cm9rZTogJyNkNDJkMWYnLAogICAgICBzdHJva2VXaWR0aDogMi4xLAogICAgICBnZXRYYjogMSwKICAgICAgZ2V0WWI6IDEKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDpvKDmoIfmjInkuIsKICAgIG1vdXNlZG93bkhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNlZG93bkhhbmRsZXIoZSkgewogICAgICB0aGlzLnBhaW50aW5nID0gdHJ1ZTsKCiAgICAgIGlmIChlLmN1cnJlbnRUYXJnZXQuYXR0cnMuaWQgPT09ICJzdGFnZSIpIHsKICAgICAgICB2YXIgbmV3TGluZSA9IHsKICAgICAgICAgIHN0cm9rZTogdGhpcy5zdHJva2UsCiAgICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5zdHJva2VXaWR0aCwKICAgICAgICAgIHBvaW50czogW2UuZXZ0LmxheWVyWCAvIHRoaXMuZ2V0WGIsIGUuZXZ0LmxheWVyWSAvIHRoaXMuZ2V0WWJdCiAgICAgICAgfTsgLy8g6K+35rGC5pyN5Yqh5ZmoCgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0ZWFjaGVyc2VuZERyYXdOZXdMaW5lJywgbmV3TGluZSk7IC8vIOacrOWcsOeUu+e6vywg5a2Y5YiwdnVleOS4rQoKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJkcmF3TmV3TGluZScsIG5ld0xpbmUpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfbmV3TGluZSA9IHsKICAgICAgICAgIHN0cm9rZTogdGhpcy5zdHJva2UsCiAgICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5zdHJva2VXaWR0aCwKICAgICAgICAgIHBvaW50czogW2UuZXZ0LmxheWVyWCAvIHRoaXMuZ2V0WGIsIGUuZXZ0LmxheWVyWSAvIHRoaXMuZ2V0WWJdCiAgICAgICAgfTsgLy8g6K+35rGC5pyN5Yqh5ZmoCgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0ZWFjaGVyc2VuZERyYXdOZXdMaW5lMicsIF9uZXdMaW5lKTsgLy8g5pys5Zyw55S757q/LCDlrZjliLB2dWV45LitCgogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlcmRyYXdOZXdMaW5lMicsIF9uZXdMaW5lKTsKICAgICAgfQogICAgfSwKICAgIC8vIOm8oOagh+aLluWKqAogICAgbW91c2Vtb3ZlSGFuZGxlcjogZnVuY3Rpb24gbW91c2Vtb3ZlSGFuZGxlcihlKSB7CiAgICAgIGlmICghdGhpcy5wYWludGluZykgcmV0dXJuOwoKICAgICAgaWYgKGUuY3VycmVudFRhcmdldC5hdHRycy5pZCA9PT0gInN0YWdlIikgewogICAgICAgIHZhciBsYXN0TGluZSA9IHRoaXMubGluZXMxW3RoaXMubGluZXMxLmxlbmd0aCAtIDFdOwogICAgICAgIGxhc3RMaW5lLnBvaW50cyA9IGxhc3RMaW5lLnBvaW50cy5jb25jYXQoW2UuZXZ0LmxheWVyWCAvIHRoaXMuZ2V0WGIsIGUuZXZ0LmxheWVyWSAvIHRoaXMuZ2V0WWJdKTsgLy8g6K+35rGC5pyN5Yqh5ZmoCgogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0ZWFjaGVyc2VuZFVwZGF0ZU5ld0xpbmUnLCBsYXN0TGluZSk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCd0ZWFjaGVydXBkYXRlTmV3TGluZTEnLCBsYXN0TGluZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF9sYXN0TGluZSA9IHRoaXMubGluZXMyW3RoaXMubGluZXMyLmxlbmd0aCAtIDFdOwogICAgICAgIF9sYXN0TGluZS5wb2ludHMgPSBfbGFzdExpbmUucG9pbnRzLmNvbmNhdChbZS5ldnQubGF5ZXJYIC8gdGhpcy5nZXRYYiwgZS5ldnQubGF5ZXJZIC8gdGhpcy5nZXRZYl0pOyAvLyDor7fmsYLmnI3liqHlmagKCiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RlYWNoZXJzZW5kVXBkYXRlTmV3TGluZTInLCBfbGFzdExpbmUpOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlcnVwZGF0ZU5ld0xpbmUyJywgX2xhc3RMaW5lKTsKICAgICAgfQogICAgfSwKICAgIC8vIOm8oOagh+mHiuaUvgogICAgbW91c2V1cEhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNldXBIYW5kbGVyKCkgewogICAgICB0aGlzLnBhaW50aW5nID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["test.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<el-container>\n    <el-header>\n        <el-tag>房间号：{{classCode}}</el-tag> \n    </el-header>\n    <el-main>\n            <el-row :gutter=\"20\">\n                <el-col :span=\"6\">\n                    <div class=\"grid-content bg-purple\">\n                        <div class=\"userinfo\">张三</div>\n                            <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card1\">\n                                <v-stage\n                                id=\"stage\"\n                                :config=\"stageConfig\"\n                                @mousedown=\"mousedownHandler\"\n                                @mouseup=\"mouseupHandler\"\n                                @mousemove=\"mousemoveHandler\"\n                                >\n                                <v-layer>\n                                    <v-line\n                                    v-for=\"(line, index) in lines1\"\n                                    :key=\"index\"\n                                    :config=\"line\"\n                                    />\n                                </v-layer>\n                                </v-stage>\n                            </el-card>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\">\n                    <div class=\"grid-content bg-purple\">\n                        <div class=\"userinfo\">李四 </div>\n                            <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card2\">\n                                <v-stage\n                                id=\"stage2\"\n                                :config=\"stageConfig\"\n                                @mousedown=\"mousedownHandler\"\n                                @mouseup=\"mouseupHandler\"\n                                @mousemove=\"mousemoveHandler\"\n                                >\n                                <v-layer>\n                                    <v-line\n                                    v-for=\"(line, index) in lines2\"\n                                    :key=\"index\"\n                                    :config=\"line\"\n                                    />\n                                </v-layer>\n                                </v-stage>\n                            </el-card>\n                    </div>\n                </el-col>\n                <el-col :span=\"6\"><div class=\"grid-content bg-purple\"></div></el-col>\n                <el-col :span=\"6\"><div class=\"grid-content bg-purple\"></div></el-col>\n            </el-row>\n            <el-row :gutter=\"20\">\n                <el-col :span=\"6\"><div class=\"grid-content bg-purple\"></div></el-col>\n                <el-col :span=\"6\"><div class=\"grid-content bg-purple\"></div></el-col>\n                <el-col :span=\"6\"><div class=\"grid-content bg-purple\"></div></el-col>\n                <el-col :span=\"6\"><div class=\"grid-content bg-purple\"></div></el-col>\n            </el-row>\n    </el-main>\n</el-container>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\ncomputed: {\n    ...mapState(['lines1','lines2']),\n    ...mapGetters(['isGameStarted', 'isGameHolder']),\n},\nmounted(){\n    this.getXb =  document.getElementById('card1').clientWidth\n    this.getYb =  document.getElementById('card1').clientHeight\n    this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n    this.stageConfig.height = this.$refs.wrapper.$el.offsetHeight\n    this.$store.commit('initXb', this.getXb)\n    this.$store.commit('initYb', this.getYb)\n    // console.log(this.getXb + \" \" + this.getYb);\n},\ndata(){\n    return{\n        classCode:1101,\n        // 画布配置\n      stageConfig: {\n        width: 1300,\n        height: 450\n      },\n      // 绘画状态\n      painting: false,\n      stroke: '#d42d1f',\n      strokeWidth: 2.1,\n      getXb:1,\n      getYb:1,\n    }\n},\nmethods: {\n    // 鼠标按下\n    mousedownHandler(e) {\n      this.painting = true\n      if(e.currentTarget.attrs.id === \"stage\"){\n        const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]\n      }\n        // 请求服务器\n        this.$store.dispatch('teachersendDrawNewLine', newLine)\n        // 本地画线, 存到vuex中\n        this.$store.commit('teacherdrawNewLine', newLine)\n      }else{\n        const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]\n      }\n        // 请求服务器\n        this.$store.dispatch('teachersendDrawNewLine2', newLine)\n        // 本地画线, 存到vuex中\n        this.$store.commit('teacherdrawNewLine2', newLine)\n      }\n    },\n\n    // 鼠标拖动\n    mousemoveHandler(e) {\n      if (!this.painting) return\n      if(e.currentTarget.attrs.id === \"stage\"){\n        const lastLine = this.lines1[this.lines1.length - 1]\n        lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]) \n        // 请求服务器\n        this.$store.dispatch('teachersendUpdateNewLine', lastLine)\n        this.$store.commit('teacherupdateNewLine1', lastLine)\n      }else{\n        const lastLine = this.lines2[this.lines2.length - 1]\n        lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]) \n         // 请求服务器\n        this.$store.dispatch('teachersendUpdateNewLine2', lastLine)\n        this.$store.commit('teacherupdateNewLine2', lastLine)\n      }\n    },\n\n    // 鼠标释放\n    mouseupHandler() {\n      this.painting = false\n    },\n}\n\n}\n</script>\n<style lang = \"less\" scoped>\n.el-container{\n    width: 100%;\n    height: 100%;\n    background-color: aqua;\n\n    .el-header{\n        line-height: 60px;\n    }\n\n    .el-main{\n        background-color: aquamarine;\n        overflow: hidden;\n        .el-row {\n            margin-bottom: 20px;\n            height: 50%;\n        } \n        .el-col {\n            border-radius: 4px;\n            height: 90%;\n\n            .bg-purple {\n                background: #d3dce6;\n            }\n            .grid-content {\n                border-radius: 4px;\n                height: 100%;\n                display: flex;\n                flex-flow: column;\n\n                .userinfo{\n                    background-color: black;\n                    color: #FFFFFF;\n                    font-weight: bold;\n                    height: 40px;\n                    line-height: 40px;\n                    padding-left: 10px;\n                    letter-spacing: 3px;\n                }\n            }\n        }\n    }\n}\n.el-card{\n    width: 100%;\n    height: 100%;\n}\n</style>"],"sourceRoot":"src/views"}]}