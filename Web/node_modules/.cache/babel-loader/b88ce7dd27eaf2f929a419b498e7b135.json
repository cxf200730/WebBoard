{"remainingRequest":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\thread-loader\\dist\\cjs.js!D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\babel-loader\\lib\\index.js!D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Demo\\draw-and-guess-master\\draw-and-guess\\src\\socket\\index.js","dependencies":[{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\src\\socket\\index.js","mtime":1622689848000},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IGlvIGZyb20gJ3NvY2tldC5pby1jbGllbnQnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IE1lc3NhZ2VCb3gsIE5vdGlmaWNhdGlvbiB9IGZyb20gJ2VsZW1lbnQtdWknOwp2YXIgc29ja2V0ID0gaW8oKTsKc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkgewogIGNvbnNvbGUubG9nKCc+Pj4+Pj4+IOWSjOacjeWKoeWZqOW3suW7uueri+i/nuaOpScpOwp9KTsgLy8g6Ieq5bex6L+b5YWl5oi/6Ze0LCDnm5HlkKxyb29tX2luZm/kuovku7YsIOiOt+WPluaIv+mXtOS/oeaBrwoKc29ja2V0Lm9uKCdyb29tX2luZm8nLCBmdW5jdGlvbiAoX3JlZikgewogIHZhciBuaWNrbmFtZXMgPSBfcmVmLm5pY2tuYW1lcywKICAgICAgaG9sZGVyID0gX3JlZi5ob2xkZXIsCiAgICAgIGxpbmVzID0gX3JlZi5saW5lczsKICBzdG9yZS5jb21taXQoJ3VwZGF0ZU5pY2tuYW1lcycsIG5pY2tuYW1lcyk7CiAgc3RvcmUuY29tbWl0KCd1cGRhdGVIb2xkZXInLCBob2xkZXIpOwogIHN0b3JlLmNvbW1pdCgndXBkYXRlTGluZXMnLCBsaW5lcyk7Cn0pOyAvLyDliKvkurrov5vlhaXmiL/pl7QsIOebkeWQrHVzZXJfZW50ZXLkuovku7YsIOiOt+WPlui/m+WFpeaIv+mXtOeahOeUqOaIt+S/oeaBrwoKc29ja2V0Lm9uKCd1c2VyX2VudGVyJywgZnVuY3Rpb24gKG5pY2tuYW1lKSB7CiAgc3RvcmUuY29tbWl0KCdhZGRUb05pY2tuYW1lcycsIG5pY2tuYW1lKTsKfSk7IC8vIOWkhOeQhuacjeWKoei/nuaOpQoKc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24gKCkgewogIHN0b3JlLmNvbW1pdCgndXBkYXRlQ29ubmVjdGVkJywgdHJ1ZSk7Cn0pOyAvLyDlpITnkIbmnI3liqHlpLHljrvov57mjqUKCnNvY2tldC5vbignZGlzY29ubmVjdCcsIGZ1bmN0aW9uICgpIHsKICBzdG9yZS5jb21taXQoJ3VwZGF0ZUNvbm5lY3RlZCcsIGZhbHNlKTsKfSk7IC8vIOWkhOeQhua4uOaIj+W8gOWniwoKc29ja2V0Lm9uKCdnYW1lX3N0YXJ0ZWQnLCBmdW5jdGlvbiAoaG9sZGVyKSB7CiAgc3RvcmUuY29tbWl0KCd1cGRhdGVIb2xkZXInLCBob2xkZXIpOwogIE5vdGlmaWNhdGlvbi5zdWNjZXNzKCIiLmNvbmNhdChob2xkZXIsICIgXHU0RjVDXHU0RTNBXHU0RTNCXHU2MzAxXHU0RUJBXHU1RjAwXHU1OUNCXHU0RTg2XHU2NUIwXHU2RTM4XHU2MjBGXHVGRjBDXHU1OTI3XHU1QkI2XHU1M0VGXHU0RUU1XHU1RjAwXHU1OUNCXHU4RTBBXHU4REMzXHU3MzFDXHU3QjU0XHU2ODQ4XHU1NTY2XHVGRjAxIikpOwp9KTsgLy8g5aSE55CG5ri45oiP5bey57uP5byA5aeLLCDkuI3og73ph43lpI3lvIDlp4sKCnNvY2tldC5vbignYWxyZWFkeV9zdGFydGVkJywgZnVuY3Rpb24gKGhvbGRlcikgewogIHN0b3JlLmNvbW1pdCgndXBkYXRlSG9sZGVyJywgaG9sZGVyKTsKICBNZXNzYWdlQm94LmFsZXJ0KCflvZPliY3lt7LmnInmuLjmiI/lnKjov5vooYzkuK3vvIzkuLvmjIHkurrmmK/vvJonICsgaG9sZGVyKTsKfSk7IC8vIOWkhOeQhue7iOatoua4uOaIjwoKc29ja2V0Lm9uKCdnYW1lX3N0b3BlZCcsIGZ1bmN0aW9uICgpIHsKICAvLyAxLiDmuIXnkIbnm7jlhbPmlbDmja4KICBzdG9yZS5jb21taXQoJ3VwZGF0ZUhvbGRlcicsICcnKTsKICBzdG9yZS5jb21taXQoJ3VwZGF0ZUxpbmVzJywgW10pOyAvLyAyLiDlvLnlh7rmj5DnpLrmtojmga8KCiAgTm90aWZpY2F0aW9uLndhcm5pbmcoJ+S4u+aMgeS6uue7iOatouS6huW9k+WJjea4uOaIjycpOwp9KTsgLy8g55uR5ZCs5paw57q/55qE57uY5Yi2Cgpzb2NrZXQub24oJ3N0YXJ0aW5nX2xpbmUnLCBmdW5jdGlvbiAobmV3TGluZSkgewogIHN0b3JlLmNvbW1pdCgnZHJhd05ld0xpbmUnLCBuZXdMaW5lKTsKfSk7IC8vIOebkeWQrOe6v+eahOabtOaWsAoKc29ja2V0Lm9uKCd1cGRhdGluZ19saW5lJywgZnVuY3Rpb24gKGxhc3RMaW5lKSB7CiAgc3RvcmUuY29tbWl0KCd1cGRhdGVOZXdMaW5lJywgbGFzdExpbmUpOwp9KTsKc29ja2V0Lm9uKCdnYW1lX2Fuc3dlcmVkJywgZnVuY3Rpb24gKF9yZWYyKSB7CiAgdmFyIGFscmVhZHlEb25lID0gX3JlZjIuYWxyZWFkeURvbmUsCiAgICAgIHN1Y2Nlc3MgPSBfcmVmMi5zdWNjZXNzLAogICAgICBuaWNrbmFtZSA9IF9yZWYyLm5pY2tuYW1lLAogICAgICBhbnN3ZXIgPSBfcmVmMi5hbnN3ZXI7CgogIGlmIChhbHJlYWR5RG9uZSkgewogICAgTWVzc2FnZUJveC5hbGVydCgn5b2T5YmN5ri45oiP562U5qGI5bey57uP6KKr54yc5Lit77yM5oKo5LiN6IO957un57ut54yc5LqG77yBJyk7CiAgICByZXR1cm47CiAgfQoKICBpZiAoIXN1Y2Nlc3MpIHsKICAgIE5vdGlmaWNhdGlvbi5lcnJvcigiXHU3M0E5XHU1QkI2ICIuY29uY2F0KG5pY2tuYW1lLCAiIFx1NzMxQ1x1NzY4NFx1N0I1NFx1Njg0OFx1NEUwRFx1NUJGOVx1RkYxQSIpLmNvbmNhdChhbnN3ZXIpKTsKICAgIHJldHVybjsKICB9CgogIE1lc3NhZ2VCb3guYWxlcnQoIlx1NzNBOVx1NUJCNiAiLmNvbmNhdChuaWNrbmFtZSwgIiBcdTczMUNcdTRFMkRcdTZCNjNcdTc4NkVcdTc2ODRcdTdCNTRcdTY4NDhcdUZGMUEiKS5jb25jYXQoYW5zd2VyKSwgewogICAgdGl0bGU6ICfmga3llpwnLAogICAgdHlwZTogJ3N1Y2Nlc3MnCiAgfSk7Cn0pOwpzb2NrZXQub24oJ3VzZXJfbGVhdmUnLCBmdW5jdGlvbiAobmlja25hbWUpIHsKICBzdG9yZS5jb21taXQoJ2RlbEZyb21OaWNrbmFtZXMnLCBuaWNrbmFtZSk7CgogIGlmIChuaWNrbmFtZSA9PT0gc3RvcmUuc3RhdGUuaG9sZGVyKSB7CiAgICBzdG9yZS5jb21taXQoJ3VwZGF0ZUhvbGRlcicsICcnKTsKICAgIHN0b3JlLmNvbW1pdCgndXBkYXRlTGluZXMnLCBbXSk7CiAgICBOb3RpZmljYXRpb24uZXJyb3IoJ+S4u+aMgeS6uuemu+W8gOS6hua4uOaIjyEnKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCBzb2NrZXQ7"},{"version":3,"sources":["D:/Demo/draw-and-guess-master/draw-and-guess/src/socket/index.js"],"names":["io","store","MessageBox","Notification","socket","on","console","log","nicknames","holder","lines","commit","nickname","success","alert","warning","newLine","lastLine","alreadyDone","answer","error","title","type","state"],"mappings":"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","sourcesContent":["import io from 'socket.io-client'\nimport store from '@/store'\nimport { MessageBox, Notification } from 'element-ui'\n\nconst socket = io()\n\nsocket.on('connect', () => {\n  console.log('>>>>>>> 和服务器已建立连接')\n})\n\n// 自己进入房间, 监听room_info事件, 获取房间信息\nsocket.on('room_info', ({ nicknames, holder, lines }) => {\n  store.commit('updateNicknames', nicknames)\n  store.commit('updateHolder', holder)\n  store.commit('updateLines', lines)\n})\n\n// 别人进入房间, 监听user_enter事件, 获取进入房间的用户信息\nsocket.on('user_enter', nickname => {\n  store.commit('addToNicknames', nickname)\n})\n\n// 处理服务连接\nsocket.on('connect', () => {\n  store.commit('updateConnected', true)\n})\n\n// 处理服务失去连接\nsocket.on('disconnect', () => {\n  store.commit('updateConnected', false)\n})\n\n// 处理游戏开始\nsocket.on('game_started', holder => {\n  store.commit('updateHolder', holder)\n  Notification.success(`${holder} 作为主持人开始了新游戏，大家可以开始踊跃猜答案啦！`)\n})\n\n// 处理游戏已经开始, 不能重复开始\nsocket.on('already_started', holder => {\n  store.commit('updateHolder', holder)\n  MessageBox.alert('当前已有游戏在进行中，主持人是：' + holder)\n})\n\n// 处理终止游戏\nsocket.on('game_stoped', () => {\n  // 1. 清理相关数据\n  store.commit('updateHolder', '')\n  store.commit('updateLines', [])\n\n  // 2. 弹出提示消息\n  Notification.warning('主持人终止了当前游戏')\n})\n\n// 监听新线的绘制\nsocket.on('starting_line', newLine => {\n  store.commit('drawNewLine', newLine)\n})\n\n// 监听线的更新\nsocket.on('updating_line', lastLine => {\n  store.commit('updateNewLine', lastLine)\n})\n\nsocket.on('game_answered', ({ alreadyDone, success, nickname, answer }) => {\n  if (alreadyDone) {\n    MessageBox.alert('当前游戏答案已经被猜中，您不能继续猜了！')\n    return\n  }\n  if (!success) {\n    Notification.error(`玩家 ${nickname} 猜的答案不对：${answer}`)\n    return\n  }\n\n  MessageBox.alert(`玩家 ${nickname} 猜中正确的答案：${answer}`, {\n    title: '恭喜',\n    type: 'success'\n  })\n})\n\nsocket.on('user_leave', nickname => {\n  store.commit('delFromNicknames', nickname)\n\n  if (nickname === store.state.holder) {\n    store.commit('updateHolder', '')\n    store.commit('updateLines', [])\n    Notification.error('主持人离开了游戏!')\n  }\n})\n\nexport default socket\n"]}]}