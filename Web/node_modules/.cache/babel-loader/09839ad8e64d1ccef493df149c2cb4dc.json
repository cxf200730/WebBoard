{"remainingRequest":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\babel-loader\\lib\\index.js!D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Demo\\draw-and-guess-master\\draw-and-guess\\src\\store\\index.js","dependencies":[{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\src\\store\\index.js","mtime":1622689848000},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHNvY2tldCBmcm9tICdAL3NvY2tldCc7ClZ1ZS51c2UoVnVleCk7CnZhciBzdGF0ZSA9IHsKICBjb25uZWN0ZWQ6IGZhbHNlLAogIC8vIOi/nuaOpeeKtuaAgQogIG5pY2tuYW1lOiAnJywKICAvLyDlvZPliY3nlKjmiLfmmLXnp7AKICBuaWNrbmFtZXM6IFtdLAogIC8vIOaIv+mXtOeUqOaIt+aYteensOWIl+ihqAogIGhvbGRlcjogJycsCiAgLy8g5ri45oiP5Li75oyB5Lq6CiAgbGluZXM6IFtdIC8vIOaIv+mXtOeahOe7mOWbvuS/oeaBryAo55S75LqG5aSa5bCR5qC557q/KQoKfTsKdmFyIG11dGF0aW9ucyA9IHsKICB1cGRhdGVDb25uZWN0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZUNvbm5lY3RlZChzdGF0ZSwgY29ubmVjdGVkKSB7CiAgICBzdGF0ZS5jb25uZWN0ZWQgPSBjb25uZWN0ZWQ7CiAgfSwKICB1cGRhdGVOaWNrbmFtZTogZnVuY3Rpb24gdXBkYXRlTmlja25hbWUoc3RhdGUsIG5pY2tuYW1lKSB7CiAgICBzdGF0ZS5uaWNrbmFtZSA9IG5pY2tuYW1lIHx8ICcnOwogIH0sCiAgdXBkYXRlTmlja25hbWVzOiBmdW5jdGlvbiB1cGRhdGVOaWNrbmFtZXMoc3RhdGUsIG5pY2tuYW1lcykgewogICAgc3RhdGUubmlja25hbWVzID0gbmlja25hbWVzIHx8IFtdOwogIH0sCiAgdXBkYXRlSG9sZGVyOiBmdW5jdGlvbiB1cGRhdGVIb2xkZXIoc3RhdGUsIGhvbGRlcikgewogICAgc3RhdGUuaG9sZGVyID0gaG9sZGVyIHx8ICcnOwogIH0sCiAgdXBkYXRlTGluZXM6IGZ1bmN0aW9uIHVwZGF0ZUxpbmVzKHN0YXRlLCBsaW5lcykgewogICAgc3RhdGUubGluZXMgPSBsaW5lcyB8fCBbXTsKICB9LAogIGFkZFRvTmlja25hbWVzOiBmdW5jdGlvbiBhZGRUb05pY2tuYW1lcyhzdGF0ZSwgbmlja25hbWUpIHsKICAgIGlmICghc3RhdGUubmlja25hbWVzLmluY2x1ZGVzKG5pY2tuYW1lKSkgewogICAgICBzdGF0ZS5uaWNrbmFtZXMucHVzaChuaWNrbmFtZSk7CiAgICB9CiAgfSwKICBkcmF3TmV3TGluZTogZnVuY3Rpb24gZHJhd05ld0xpbmUoc3RhdGUsIG5ld0xpbmUpIHsKICAgIHN0YXRlLmxpbmVzLnB1c2gobmV3TGluZSk7CiAgfSwKICB1cGRhdGVOZXdMaW5lOiBmdW5jdGlvbiB1cGRhdGVOZXdMaW5lKHN0YXRlLCBsYXN0TGluZSkgewogICAgdmFyIGxpbmUgPSBzdGF0ZS5saW5lc1tzdGF0ZS5saW5lcy5sZW5ndGggLSAxXTsKICAgIGxpbmUucG9pbnRzID0gbGFzdExpbmUucG9pbnRzOwogIH0sCiAgZGVsRnJvbU5pY2tuYW1lczogZnVuY3Rpb24gZGVsRnJvbU5pY2tuYW1lcyhzdGF0ZSwgbmlja25hbWUpIHsKICAgIHN0YXRlLm5pY2tuYW1lcyA9IHN0YXRlLm5pY2tuYW1lcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgcmV0dXJuIGl0ZW0gIT09IG5pY2tuYW1lOwogICAgfSk7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyDnoa7orqTnlKjmiLflkI3mmK/lkKblrZjlnKgKICBjaGVja1VzZXJFeGlzdDogZnVuY3Rpb24gY2hlY2tVc2VyRXhpc3QoY29udGV4dCwgbmlja25hbWUpIHsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHNvY2tldC5lbWl0KCdjaGVja191c2VyX2V4aXN0Jywgbmlja25hbWUsIGZ1bmN0aW9uIChpc0V4aXN0KSB7CiAgICAgICAgcmVzb2x2ZShpc0V4aXN0KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIOi/m+WFpeaIv+mXtAogIHNlbmRVc2VyRW50ZXI6IGZ1bmN0aW9uIHNlbmRVc2VyRW50ZXIoY29udGV4dCkgewogICAgdmFyIG5pY2tuYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ25pY2tuYW1lJyk7CiAgICBzb2NrZXQuZW1pdCgnZW50ZXInLCBuaWNrbmFtZSk7CiAgICBjb250ZXh0LmNvbW1pdCgndXBkYXRlTmlja25hbWUnLCBuaWNrbmFtZSk7CiAgfSwKICAvLyDlvIDlp4vmuLjmiI/nlLPor7cKICBzZW5kU3RhcnRHYW1lOiBmdW5jdGlvbiBzZW5kU3RhcnRHYW1lKGNvbnRleHQsIGltYWdlQW5zd2VyKSB7CiAgICBzb2NrZXQuZW1pdCgnc3RhcnRfZ2FtZScsIGltYWdlQW5zd2VyKTsKICB9LAogIC8vIOe7k+adn+a4uOaIj+eUs+ivtwogIHNlbmRTdG9wR2FtZTogZnVuY3Rpb24gc2VuZFN0b3BHYW1lKGNvbnRleHQpIHsKICAgIHNvY2tldC5lbWl0KCdzdG9wX2dhbWUnKTsKICB9LAogIC8vIOeUu+aWsOe6vwogIHNlbmREcmF3TmV3TGluZTogZnVuY3Rpb24gc2VuZERyYXdOZXdMaW5lKGNvbnRleHQsIG5ld0xpbmUpIHsKICAgIHNvY2tldC5lbWl0KCduZXdfbGluZScsIG5ld0xpbmUpOwogIH0sCiAgLy8g5pu05paw57q/5p2hCiAgc2VuZFVwZGF0ZU5ld0xpbmU6IGZ1bmN0aW9uIHNlbmRVcGRhdGVOZXdMaW5lKGNvbnRleHQsIGxhc3RMaW5lKSB7CiAgICBzb2NrZXQuZW1pdCgndXBkYXRlX2xpbmUnLCBsYXN0TGluZSk7CiAgfSwKICBzZW5kQW5zd2VyR2FtZTogZnVuY3Rpb24gc2VuZEFuc3dlckdhbWUoY29udGV4dCwgaW5wdXRJbWFnZU5hbWUpIHsKICAgIHNvY2tldC5lbWl0KCdhbnN3ZXJfZ2FtZScsIGlucHV0SW1hZ2VOYW1lKTsKICB9LAogIHNlbmRVc2VyTGVhdmU6IGZ1bmN0aW9uIHNlbmRVc2VyTGVhdmUoY29udGV4dCkgewogICAgc29ja2V0LmVtaXQoJ2xlYXZlJyk7CiAgICBjb250ZXh0LmNvbW1pdCgndXBkYXRlTmlja25hbWUnLCAnJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbmlja25hbWUnKTsKICB9Cn07CnZhciBnZXR0ZXJzID0gewogIGlzR2FtZVN0YXJ0ZWQ6IGZ1bmN0aW9uIGlzR2FtZVN0YXJ0ZWQoc3RhdGUpIHsKICAgIC8vIOagueaNruS4u+aMgeS6uuaYr+WQpuWtmOWcqCwg5Yik5pat5ri45oiP5piv5ZCm5byA5aeLCiAgICByZXR1cm4gISFzdGF0ZS5ob2xkZXI7CiAgfSwKICBpc0dhbWVIb2xkZXI6IGZ1bmN0aW9uIGlzR2FtZUhvbGRlcihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLm5pY2tuYW1lID09PSBzdGF0ZS5ob2xkZXI7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycwp9KTs="},{"version":3,"sources":["D:/Demo/draw-and-guess-master/draw-and-guess/src/store/index.js"],"names":["Vue","Vuex","socket","use","state","connected","nickname","nicknames","holder","lines","mutations","updateConnected","updateNickname","updateNicknames","updateHolder","updateLines","addToNicknames","includes","push","drawNewLine","newLine","updateNewLine","lastLine","line","length","points","delFromNicknames","filter","item","actions","checkUserExist","context","Promise","resolve","reject","emit","isExist","sendUserEnter","localStorage","getItem","commit","sendStartGame","imageAnswer","sendStopGame","sendDrawNewLine","sendUpdateNewLine","sendAnswerGame","inputImageName","sendUserLeave","removeItem","getters","isGameStarted","isGameHolder","Store"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport socket from '@/socket'\n\nVue.use(Vuex)\n\nconst state = {\n  connected: false, // 连接状态\n  nickname: '', // 当前用户昵称\n  nicknames: [], // 房间用户昵称列表\n  holder: '', // 游戏主持人\n  lines: [] // 房间的绘图信息 (画了多少根线)\n}\n\nconst mutations = {\n  updateConnected(state, connected) {\n    state.connected = connected\n  },\n  updateNickname(state, nickname) {\n    state.nickname = nickname || ''\n  },\n  updateNicknames(state, nicknames) {\n    state.nicknames = nicknames || []\n  },\n  updateHolder(state, holder) {\n    state.holder = holder || ''\n  },\n  updateLines(state, lines) {\n    state.lines = lines || []\n  },\n\n  addToNicknames(state, nickname) {\n    if (!state.nicknames.includes(nickname)) {\n      state.nicknames.push(nickname)\n    }\n  },\n  drawNewLine(state, newLine) {\n    state.lines.push(newLine)\n  },\n  updateNewLine(state, lastLine) {\n    const line = state.lines[state.lines.length - 1]\n    line.points = lastLine.points\n  },\n  delFromNicknames(state, nickname) {\n    state.nicknames = state.nicknames.filter(item => item !== nickname)\n  }\n}\n\nconst actions = {\n  // 确认用户名是否存在\n  checkUserExist(context, nickname) {\n    return new Promise((resolve, reject) => {\n      socket.emit('check_user_exist', nickname, isExist => {\n        resolve(isExist)\n      })\n    })\n  },\n  // 进入房间\n  sendUserEnter(context) {\n    const nickname = localStorage.getItem('nickname')\n    socket.emit('enter', nickname)\n    context.commit('updateNickname', nickname)\n  },\n  // 开始游戏申请\n  sendStartGame(context, imageAnswer) {\n    socket.emit('start_game', imageAnswer)\n  },\n  // 结束游戏申请\n  sendStopGame(context) {\n    socket.emit('stop_game')\n  },\n  // 画新线\n  sendDrawNewLine(context, newLine) {\n    socket.emit('new_line', newLine)\n  },\n  // 更新线条\n  sendUpdateNewLine(context, lastLine) {\n    socket.emit('update_line', lastLine)\n  },\n\n  sendAnswerGame(context, inputImageName) {\n    socket.emit('answer_game', inputImageName)\n  },\n\n  sendUserLeave(context) {\n    socket.emit('leave')\n    context.commit('updateNickname', '')\n    localStorage.removeItem('nickname')\n  }\n}\n\nconst getters = {\n  isGameStarted(state) {\n    // 根据主持人是否存在, 判断游戏是否开始\n    return !!state.holder\n  },\n  isGameHolder(state) {\n    return state.nickname === state.holder\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions,\n  getters\n})\n"]}]}