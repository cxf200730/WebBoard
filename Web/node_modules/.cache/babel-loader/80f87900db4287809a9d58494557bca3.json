{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/babel-loader/lib/index.js!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/views/Game/components/app-stage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/src/views/Game/components/app-stage.vue","mtime":1629251362869},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/8-13Web端/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NoZW5neGlhb2ZlbmcvRGVza3RvcC9cdTk4NzlcdTc2RUUvXHU2MjRCXHU1MTk5XHU2NzdGXHU5ODc5XHU3NkVFLzgtMTNXZWJcdTdBRUYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCLnvZfljZrniYjnmoTlrr3lkozpq5giICsgMjkwMDAgKyAiICIgKyAyMTAwMCk7CiAgICBjb25zb2xlLmxvZygi5bGP5bmV55qE5a695ZKM6auY77yaIiArIHdpbmRvdy5zY3JlZW4ud2lkdGggKyAiICIgKyB3aW5kb3cuc2NyZWVuLmhlaWdodCk7IC8vIGNvbnNvbGUubG9nKCLnvZHpobXnmoTlrr3lkozpq5jvvJoiICsgd2luZG93LnNjcmVlbi5hdmFpbFdpZHRoKyAiICIgK3dpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQpCiAgICAvLyBjb25zb2xlLmxvZygi572R6aG15YaF5a6555qE5a695ZKM6auY77yaIiArIHdpbmRvdy5pbm5lcldpZHRoICsgIiAiICsgIHdpbmRvdy5pbm5lckhlaWdodCkKCiAgICBjb25zb2xlLmxvZygi5a696auY5q+UIiArIDI5MDAwIC8gd2luZG93LnNjcmVlbi53aWR0aCArICIgIiArIDIxMDAwIC8gd2luZG93LnNjcmVlbi5oZWlnaHQpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOeUu+W4g+mFjee9rgogICAgICBzdGFnZUNvbmZpZzogewogICAgICAgIHdpZHRoOiA4NzAsCiAgICAgICAgaGVpZ2h0OiA2MzAKICAgICAgfSwKICAgICAgLy8g57uY55S754q25oCBCiAgICAgIHBhaW50aW5nOiBmYWxzZSwKICAgICAgc3Ryb2tlOiAnI2RmNGIyNicsCiAgICAgIHN0cm9rZVdpZHRoOiAyCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydsaW5lcyddKSksIG1hcEdldHRlcnMoWydpc0dhbWVTdGFydGVkJywgJ2lzR2FtZUhvbGRlciddKSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIC8vIOWwhueUu+W4g+WuveW6puiuvue9ruS4juWuueWZqOWQjOWuvQogICAgdGhpcy5zdGFnZUNvbmZpZy53aWR0aCA9IHRoaXMuJHJlZnMud3JhcHBlci4kZWwub2Zmc2V0V2lkdGg7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDpvKDmoIfmjInkuIsKICAgIG1vdXNlZG93bkhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNlZG93bkhhbmRsZXIoZSkgewogICAgICBpZiAoIXRoaXMuaXNHYW1lSG9sZGVyIHx8ICF0aGlzLmlzR2FtZUhvbGRlcikgcmV0dXJuOwogICAgICB0aGlzLnBhaW50aW5nID0gdHJ1ZTsgLy8g5Yib5bu65LiA5Liq5paw57q/5p2hCgogICAgICB2YXIgbmV3TGluZSA9IHsKICAgICAgICBzdHJva2U6IHRoaXMuc3Ryb2tlLAogICAgICAgIHN0cm9rZVdpZHRoOiB0aGlzLnN0cm9rZVdpZHRoLAogICAgICAgIHBvaW50czogW2UuZXZ0LmxheWVyWCwgZS5ldnQubGF5ZXJZXQogICAgICB9OyAvLyDmnKzlnLDnlLvnur8sIOWtmOWIsHZ1ZXjkuK0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZHJhd05ld0xpbmUnLCBuZXdMaW5lKTsgLy8g6K+35rGC5pyN5Yqh5ZmoCgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2VuZERyYXdOZXdMaW5lJywgbmV3TGluZSk7IC8vIGUgPSB3aW5kb3cuZXZlbnQgfHwgZTsKICAgICAgLy8gY29uc29sZS5sb2coZS5jbGllbnRYICsgIiAiICsgZS5jbGllbnRZKTsKICAgIH0sCiAgICAvLyDpvKDmoIfmi5bliqgKICAgIG1vdXNlbW92ZUhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNlbW92ZUhhbmRsZXIoZSkgewogICAgICAvLyBlID0gd2luZG93LmV2ZW50IHx8IGU7CiAgICAgIC8vIGNvbnNvbGUubG9nKGUuc2NyZWVuWCArICIgIiArIGUuc2NyZWVuWSk7CiAgICAgIGlmICghdGhpcy5wYWludGluZykgcmV0dXJuOwogICAgICB2YXIgbGFzdExpbmUgPSB0aGlzLmxpbmVzW3RoaXMubGluZXMubGVuZ3RoIC0gMV07CiAgICAgIGxhc3RMaW5lLnBvaW50cyA9IGxhc3RMaW5lLnBvaW50cy5jb25jYXQoW2UuZXZ0LmxheWVyWCwgZS5ldnQubGF5ZXJZXSk7CiAgICAgIGNvbnNvbGUubG9nKGxhc3RMaW5lLnBvaW50cyk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndXBkYXRlTmV3TGluZScsIGxhc3RMaW5lKTsgLy8g6K+35rGC5pyN5Yqh5ZmoCgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2VuZFVwZGF0ZU5ld0xpbmUnLCBsYXN0TGluZSk7CiAgICB9LAogICAgLy8g6byg5qCH6YeK5pS+CiAgICBtb3VzZXVwSGFuZGxlcjogZnVuY3Rpb24gbW91c2V1cEhhbmRsZXIoKSB7CiAgICAgIHRoaXMucGFpbnRpbmcgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["app-stage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA,SAAA,UAAA,EAAA,QAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,OADA,qBACA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,YAAA,KAAA,GAAA,GAAA,GAAA,KAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,YAAA,MAAA,CAAA,MAAA,CAAA,KAAA,GAAA,GAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAFA,CAGA;AACA;;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,QAAA,QAAA,MAAA,CAAA,MAAA,CAAA,KAAA,GAAA,GAAA,GAAA,QAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AAEA,GARA;AASA,EAAA,IATA,kBASA;AACA,WAAA;AACA;AACA,MAAA,WAAA,EAAA;AACA,QAAA,KAAA,EAAA,GADA;AAEA,QAAA,MAAA,EAAA;AAFA,OAFA;AAMA;AACA,MAAA,QAAA,EAAA,KAPA;AAQA,MAAA,MAAA,EAAA,SARA;AASA,MAAA,WAAA,EAAA;AATA,KAAA;AAWA,GArBA;AAsBA,EAAA,QAAA,kCACA,QAAA,CAAA,CAAA,OAAA,CAAA,CADA,GAEA,UAAA,CAAA,CAAA,eAAA,EAAA,cAAA,CAAA,CAFA,CAtBA;AA2BA,EAAA,OA3BA,qBA2BA;AACA;AACA,SAAA,WAAA,CAAA,KAAA,GAAA,KAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,WAAA;AACA,GA9BA;AAgCA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,gBAFA,4BAEA,CAFA,EAEA;AACA,UAAA,CAAA,KAAA,YAAA,IAAA,CAAA,KAAA,YAAA,EAAA;AAEA,WAAA,QAAA,GAAA,IAAA,CAHA,CAIA;;AACA,UAAA,OAAA,GAAA;AACA,QAAA,MAAA,EAAA,KAAA,MADA;AAEA,QAAA,WAAA,EAAA,KAAA,WAFA;AAGA,QAAA,MAAA,EAAA,CAAA,CAAA,CAAA,GAAA,CAAA,MAAA,EAAA,CAAA,CAAA,GAAA,CAAA,MAAA;AAHA,OAAA,CALA,CAUA;;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,aAAA,EAAA,OAAA,EAXA,CAYA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,iBAAA,EAAA,OAAA,EAbA,CAeA;AACA;AACA,KAnBA;AAqBA;AACA,IAAA,gBAtBA,4BAsBA,CAtBA,EAsBA;AACA;AACA;AACA,UAAA,CAAA,KAAA,QAAA,EAAA;AACA,UAAA,QAAA,GAAA,KAAA,KAAA,CAAA,KAAA,KAAA,CAAA,MAAA,GAAA,CAAA,CAAA;AACA,MAAA,QAAA,CAAA,MAAA,GAAA,QAAA,CAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,CAAA,GAAA,CAAA,MAAA,EAAA,CAAA,CAAA,GAAA,CAAA,MAAA,CAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,MAAA;AACA,WAAA,MAAA,CAAA,MAAA,CAAA,eAAA,EAAA,QAAA,EAPA,CAQA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,QAAA;AAEA,KAjCA;AAmCA;AACA,IAAA,cApCA,4BAoCA;AACA,WAAA,QAAA,GAAA,KAAA;AACA;AAtCA;AAhCA,CAAA","sourcesContent":["<template>\n  <el-card ref=\"wrapper\" :body-style=\"{ padding: 0}\">\n    <v-stage\n      :config=\"stageConfig\"\n      @mousedown=\"mousedownHandler\"\n      @mouseup=\"mouseupHandler\"\n      @mousemove=\"mousemoveHandler\"\n    >\n      <v-layer>\n        <v-line\n          v-for=\"(line, index) in lines\"\n          :key=\"index\"\n          :config=\"line\"\n        />\n      </v-layer>\n    </v-stage>\n  </el-card>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  created(){\n    console.log(\"罗博版的宽和高\" + 29000 + \" \" +  21000);\n    console.log(\"屏幕的宽和高：\" + window.screen.width + \" \" +  window.screen.height )\n    // console.log(\"网页的宽和高：\" + window.screen.availWidth+ \" \" +window.screen.availHeight)\n    // console.log(\"网页内容的宽和高：\" + window.innerWidth + \" \" +  window.innerHeight)\n    console.log(\"宽高比\" + 29000 / window.screen.width + \" \" +  21000 / window.screen.height);\n  \n  },\n  data() {\n    return {\n      // 画布配置\n      stageConfig: {\n        width: 870,\n        height: 630\n      },\n      // 绘画状态\n      painting: false,\n      stroke: '#df4b26',\n      strokeWidth: 2\n    }\n  },\n  computed: {\n    ...mapState(['lines']),\n    ...mapGetters(['isGameStarted', 'isGameHolder'])\n  },\n\n  mounted() {\n    // 将画布宽度设置与容器同宽\n    this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n  },\n\n  methods: {\n    // 鼠标按下\n    mousedownHandler(e) {\n      if (!this.isGameHolder || !this.isGameHolder) return\n\n      this.painting = true\n      // 创建一个新线条\n      const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX, e.evt.layerY]\n      }\n      // 本地画线, 存到vuex中\n      this.$store.commit('drawNewLine', newLine)\n      // 请求服务器\n      this.$store.dispatch('sendDrawNewLine', newLine)\n\n      // e = window.event || e;\n      // console.log(e.clientX + \" \" + e.clientY);\n    },\n\n    // 鼠标拖动\n    mousemoveHandler(e) {\n      // e = window.event || e;\n      // console.log(e.screenX + \" \" + e.screenY);\n      if (!this.painting) return\n      const lastLine = this.lines[this.lines.length - 1]\n      lastLine.points = lastLine.points.concat([e.evt.layerX, e.evt.layerY])\n      console.log(lastLine.points)\n      this.$store.commit('updateNewLine', lastLine)\n      // 请求服务器\n      this.$store.dispatch('sendUpdateNewLine', lastLine)\n      \n    },\n\n    // 鼠标释放\n    mouseupHandler() {\n      this.painting = false\n    }\n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.el-card__body{\n  width: 870,\n  height = 630\n}\n</style>"],"sourceRoot":"src/views/Game/components"}]}