{"remainingRequest":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\babel-loader\\lib\\index.js!D:\\Demo\\draw-and-guess-master\\draw-and-guess\\src\\store\\index.js","dependencies":[{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\src\\store\\index.js","mtime":1628671480284},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Demo\\draw-and-guess-master\\draw-and-guess\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHNvY2tldCBmcm9tICdAL3NvY2tldCc7ClZ1ZS51c2UoVnVleCk7CnZhciBzdGF0ZSA9IHsKICBjb25uZWN0ZWQ6IGZhbHNlLAogIC8vIOi/nuaOpeeKtuaAgQogIG5pY2tuYW1lOiAnJywKICAvLyDlvZPliY3nlKjmiLfmmLXnp7AKICBuaWNrbmFtZXM6IFtdLAogIC8vIOaIv+mXtOeUqOaIt+aYteensOWIl+ihqAogIGhvbGRlcjogJycsCiAgLy8g5ri45oiP5Li75oyB5Lq6CiAgbGluZXM6IFtdLAogIC8vIOaIv+mXtOeahOe7mOWbvuS/oeaBryAo55S75LqG5aSa5bCR5qC557q/KQogIHRlc3Q6ICcnCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgdXBkYXRlQ29ubmVjdGVkOiBmdW5jdGlvbiB1cGRhdGVDb25uZWN0ZWQoc3RhdGUsIGNvbm5lY3RlZCkgewogICAgc3RhdGUuY29ubmVjdGVkID0gY29ubmVjdGVkOwogIH0sCiAgdXBkYXRlTmlja25hbWU6IGZ1bmN0aW9uIHVwZGF0ZU5pY2tuYW1lKHN0YXRlLCBuaWNrbmFtZSkgewogICAgc3RhdGUubmlja25hbWUgPSBuaWNrbmFtZSB8fCAnJzsKICB9LAogIHVwZGF0ZU5pY2tuYW1lczogZnVuY3Rpb24gdXBkYXRlTmlja25hbWVzKHN0YXRlLCBuaWNrbmFtZXMpIHsKICAgIHN0YXRlLm5pY2tuYW1lcyA9IG5pY2tuYW1lcyB8fCBbXTsKICB9LAogIHVwZGF0ZUhvbGRlcjogZnVuY3Rpb24gdXBkYXRlSG9sZGVyKHN0YXRlLCBob2xkZXIpIHsKICAgIHN0YXRlLmhvbGRlciA9IGhvbGRlciB8fCAnJzsKICB9LAogIHVwZGF0ZUxpbmVzOiBmdW5jdGlvbiB1cGRhdGVMaW5lcyhzdGF0ZSwgbGluZXMpIHsKICAgIHN0YXRlLmxpbmVzID0gbGluZXMgfHwgW107CiAgfSwKICBhZGRUb05pY2tuYW1lczogZnVuY3Rpb24gYWRkVG9OaWNrbmFtZXMoc3RhdGUsIG5pY2tuYW1lKSB7CiAgICBpZiAoIXN0YXRlLm5pY2tuYW1lcy5pbmNsdWRlcyhuaWNrbmFtZSkpIHsKICAgICAgc3RhdGUubmlja25hbWVzLnB1c2gobmlja25hbWUpOwogICAgfQogIH0sCiAgZHJhd05ld0xpbmU6IGZ1bmN0aW9uIGRyYXdOZXdMaW5lKHN0YXRlLCBuZXdMaW5lKSB7CiAgICBzdGF0ZS5saW5lcy5wdXNoKG5ld0xpbmUpOwogIH0sCiAgdXBkYXRlTmV3TGluZTogZnVuY3Rpb24gdXBkYXRlTmV3TGluZShzdGF0ZSwgbGFzdExpbmUpIHsKICAgIHZhciBsaW5lID0gc3RhdGUubGluZXNbc3RhdGUubGluZXMubGVuZ3RoIC0gMV07CiAgICBsaW5lLnBvaW50cyA9IGxhc3RMaW5lLnBvaW50czsKICB9LAogIGRlbEZyb21OaWNrbmFtZXM6IGZ1bmN0aW9uIGRlbEZyb21OaWNrbmFtZXMoc3RhdGUsIG5pY2tuYW1lKSB7CiAgICBzdGF0ZS5uaWNrbmFtZXMgPSBzdGF0ZS5uaWNrbmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHJldHVybiBpdGVtICE9PSBuaWNrbmFtZTsKICAgIH0pOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy8g5rWL6K+VCiAgdGVzdDogZnVuY3Rpb24gdGVzdChjb250ZXh0LCBfdGVzdCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgc29ja2V0LmVtaXQoJ3Rlc3QnLCBfdGVzdCwgZnVuY3Rpb24gKG1lc3NhZ2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTsKICAgICAgICByZXNvbHZlKG1lc3NhZ2UpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8g56Gu6K6k55So5oi35ZCN5piv5ZCm5a2Y5ZyoCiAgY2hlY2tVc2VyRXhpc3Q6IGZ1bmN0aW9uIGNoZWNrVXNlckV4aXN0KGNvbnRleHQsIG5pY2tuYW1lKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBzb2NrZXQuZW1pdCgnY2hlY2tfdXNlcl9leGlzdCcsIG5pY2tuYW1lLCBmdW5jdGlvbiAoaXNFeGlzdCkgewogICAgICAgIHJlc29sdmUoaXNFeGlzdCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyDov5vlhaXmiL/pl7QKICBzZW5kVXNlckVudGVyOiBmdW5jdGlvbiBzZW5kVXNlckVudGVyKGNvbnRleHQpIHsKICAgIHZhciBuaWNrbmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCduaWNrbmFtZScpOwogICAgc29ja2V0LmVtaXQoJ2VudGVyJywgbmlja25hbWUpOwogICAgY29udGV4dC5jb21taXQoJ3VwZGF0ZU5pY2tuYW1lJywgbmlja25hbWUpOwogIH0sCiAgLy8g5byA5aeL5ri45oiP55Sz6K+3CiAgc2VuZFN0YXJ0R2FtZTogZnVuY3Rpb24gc2VuZFN0YXJ0R2FtZShjb250ZXh0LCBpbWFnZUFuc3dlcikgewogICAgc29ja2V0LmVtaXQoJ3N0YXJ0X2dhbWUnLCBpbWFnZUFuc3dlcik7CiAgfSwKICAvLyDnu5PmnZ/muLjmiI/nlLPor7cKICBzZW5kU3RvcEdhbWU6IGZ1bmN0aW9uIHNlbmRTdG9wR2FtZShjb250ZXh0KSB7CiAgICBzb2NrZXQuZW1pdCgnc3RvcF9nYW1lJyk7CiAgfSwKICAvLyDnlLvmlrDnur8KICBzZW5kRHJhd05ld0xpbmU6IGZ1bmN0aW9uIHNlbmREcmF3TmV3TGluZShjb250ZXh0LCBuZXdMaW5lKSB7CiAgICBzb2NrZXQuZW1pdCgnbmV3X2xpbmUnLCBuZXdMaW5lKTsKICB9LAogIC8vIOabtOaWsOe6v+adoQogIHNlbmRVcGRhdGVOZXdMaW5lOiBmdW5jdGlvbiBzZW5kVXBkYXRlTmV3TGluZShjb250ZXh0LCBsYXN0TGluZSkgewogICAgc29ja2V0LmVtaXQoJ3VwZGF0ZV9saW5lJywgbGFzdExpbmUpOwogIH0sCiAgc2VuZEFuc3dlckdhbWU6IGZ1bmN0aW9uIHNlbmRBbnN3ZXJHYW1lKGNvbnRleHQsIGlucHV0SW1hZ2VOYW1lKSB7CiAgICBzb2NrZXQuZW1pdCgnYW5zd2VyX2dhbWUnLCBpbnB1dEltYWdlTmFtZSk7CiAgfSwKICBzZW5kVXNlckxlYXZlOiBmdW5jdGlvbiBzZW5kVXNlckxlYXZlKGNvbnRleHQpIHsKICAgIHNvY2tldC5lbWl0KCdsZWF2ZScpOwogICAgY29udGV4dC5jb21taXQoJ3VwZGF0ZU5pY2tuYW1lJywgJycpOwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ25pY2tuYW1lJyk7CiAgfQp9Owp2YXIgZ2V0dGVycyA9IHsKICBpc0dhbWVTdGFydGVkOiBmdW5jdGlvbiBpc0dhbWVTdGFydGVkKHN0YXRlKSB7CiAgICAvLyDmoLnmja7kuLvmjIHkurrmmK/lkKblrZjlnKgsIOWIpOaWrea4uOaIj+aYr+WQpuW8gOWniwogICAgcmV0dXJuICEhc3RhdGUuaG9sZGVyOwogIH0sCiAgaXNHYW1lSG9sZGVyOiBmdW5jdGlvbiBpc0dhbWVIb2xkZXIoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5uaWNrbmFtZSA9PT0gc3RhdGUuaG9sZGVyOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zLAogIGdldHRlcnM6IGdldHRlcnMKfSk7"},{"version":3,"sources":["D:/Demo/draw-and-guess-master/draw-and-guess/src/store/index.js"],"names":["Vue","Vuex","socket","use","state","connected","nickname","nicknames","holder","lines","test","mutations","updateConnected","updateNickname","updateNicknames","updateHolder","updateLines","addToNicknames","includes","push","drawNewLine","newLine","updateNewLine","lastLine","line","length","points","delFromNicknames","filter","item","actions","context","Promise","resolve","reject","emit","message","console","log","checkUserExist","isExist","sendUserEnter","localStorage","getItem","commit","sendStartGame","imageAnswer","sendStopGame","sendDrawNewLine","sendUpdateNewLine","sendAnswerGame","inputImageName","sendUserLeave","removeItem","getters","isGameStarted","isGameHolder","Store"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport socket from '@/socket'\n\nVue.use(Vuex)\n\nconst state = {\n  connected: false, // 连接状态\n  nickname: '', // 当前用户昵称\n  nicknames: [], // 房间用户昵称列表\n  holder: '', // 游戏主持人\n  lines: [] ,// 房间的绘图信息 (画了多少根线)\r\n  test:''\n}\n\nconst mutations = {\n  updateConnected(state, connected) {\n    state.connected = connected\n  },\n  updateNickname(state, nickname) {\n    state.nickname = nickname || ''\n  },\n  updateNicknames(state, nicknames) {\n    state.nicknames = nicknames || []\n  },\n  updateHolder(state, holder) {\n    state.holder = holder || ''\n  },\n  updateLines(state, lines) {\n    state.lines = lines || []\n  },\n\n  addToNicknames(state, nickname) {\n    if (!state.nicknames.includes(nickname)) {\n      state.nicknames.push(nickname)\n    }\n  },\n  drawNewLine(state, newLine) {\n    state.lines.push(newLine)\n  },\n  updateNewLine(state, lastLine) {\n    const line = state.lines[state.lines.length - 1]\n    line.points = lastLine.points\n  },\n  delFromNicknames(state, nickname) {\n    state.nicknames = state.nicknames.filter(item => item !== nickname)\n  }\n}\n\nconst actions = {\r\n  // 测试\r\n  test(context, test) {\r\n    return new Promise((resolve, reject) => {\r\n      socket.emit('test', test, message => {\r\n        console.log(message)\r\n        resolve(message)\r\n      })\r\n    })\r\n  },\r\n\r\n\n  // 确认用户名是否存在\n  checkUserExist(context, nickname) {\n    return new Promise((resolve, reject) => {\n      socket.emit('check_user_exist', nickname, isExist => {\n        resolve(isExist)\n      })\n    })\n  },\n  // 进入房间\n  sendUserEnter(context) {\n    const nickname = localStorage.getItem('nickname')\n    socket.emit('enter', nickname)\n    context.commit('updateNickname', nickname)\n  },\n  // 开始游戏申请\n  sendStartGame(context, imageAnswer) {\n    socket.emit('start_game', imageAnswer)\n  },\n  // 结束游戏申请\n  sendStopGame(context) {\n    socket.emit('stop_game')\n  },\n  // 画新线\n  sendDrawNewLine(context, newLine) {\n    socket.emit('new_line', newLine)\n  },\n  // 更新线条\n  sendUpdateNewLine(context, lastLine) {\n    socket.emit('update_line', lastLine)\n  },\n\n  sendAnswerGame(context, inputImageName) {\n    socket.emit('answer_game', inputImageName)\n  },\n\n  sendUserLeave(context) {\n    socket.emit('leave')\n    context.commit('updateNickname', '')\n    localStorage.removeItem('nickname')\n  }\n}\n\nconst getters = {\n  isGameStarted(state) {\n    // 根据主持人是否存在, 判断游戏是否开始\n    return !!state.holder\n  },\n  isGameHolder(state) {\n    return state.nickname === state.holder\n  }\n}\n\nexport default new Vuex.Store({\n  state,\n  mutations,\n  actions,\n  getters\n})\n"]}]}