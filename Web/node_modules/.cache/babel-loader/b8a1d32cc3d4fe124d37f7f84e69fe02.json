{"remainingRequest":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/babel-loader/lib/index.js!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/test2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/src/views/test2.vue","mtime":1630028532999},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chengxiaofeng/Desktop/项目/手写板项目/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NoZW5neGlhb2ZlbmcvRGVza3RvcC9cdTk4NzlcdTc2RUUvXHU2MjRCXHU1MTk5XHU2NzdGXHU5ODc5XHU3NkVFL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2VuZFVzZXJFbnRlcicpOwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInRlYWNoZXJMaW5lcyIsICJ0ZWFjaGVyTGluZXMyIl0pKSwgbWFwR2V0dGVycyhbJ2lzR2FtZVN0YXJ0ZWQnLCAnaXNHYW1lSG9sZGVyJ10pKSwgbWFwU3RhdGUoWyd0ZWFjaGVycGhvbmUnLCAnbWVzc2FnZXMnLCAnaG9sZGVyJ10pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuc3R5bGUuaGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50V2lkdGggKiAxLjEgKyAicHgiCiAgICB0aGlzLmdldFhiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50V2lkdGg7CiAgICB0aGlzLmdldFliID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50SGVpZ2h0OyAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZDEnKS50cmFuc2xhdGUoMC41LDAuNSkKCiAgICB0aGlzLnN0YWdlQ29uZmlnLndpZHRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcmQxJykuY2xpZW50V2lkdGg7CiAgICB0aGlzLnN0YWdlQ29uZmlnLmhlaWdodCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkMScpLmNsaWVudEhlaWdodDsKICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaW5pdFhiJywgdGhpcy5nZXRYYik7CiAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2luaXRZYicsIHRoaXMuZ2V0WWIpOyAvLyBjb25zb2xlLmxvZyh0aGlzLmdldFhiICsgIiAiICsgdGhpcy5nZXRZYik7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2xhc3NDb2RlOiAxMTAxLAogICAgICAvLyDnlLvluIPphY3nva4KICAgICAgc3RhZ2VDb25maWc6IHsKICAgICAgICB3aWR0aDogMTMwMCwKICAgICAgICBoZWlnaHQ6IDQ1MAogICAgICB9LAogICAgICAvLyDnu5jnlLvnirbmgIEKICAgICAgcGFpbnRpbmc6IGZhbHNlLAogICAgICBzdHJva2U6ICcjZDQyZDFmJywKICAgICAgc3Ryb2tlV2lkdGg6IDIuMSwKICAgICAgZ2V0WGI6IDEsCiAgICAgIGdldFliOiAxCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6byg5qCH5oyJ5LiLCiAgICBtb3VzZWRvd25IYW5kbGVyOiBmdW5jdGlvbiBtb3VzZWRvd25IYW5kbGVyKGUpIHsKICAgICAgdGhpcy5wYWludGluZyA9IHRydWU7CiAgICAgIHZhciBuZXdMaW5lID0gewogICAgICAgIHN0cm9rZTogdGhpcy5zdHJva2UsCiAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMuc3Ryb2tlV2lkdGgsCiAgICAgICAgcG9pbnRzOiBbZS5ldnQubGF5ZXJYIC8gdGhpcy5nZXRYYiwgZS5ldnQubGF5ZXJZIC8gdGhpcy5nZXRZYl0KICAgICAgfTsKICAgICAgdmFyIGlkID0gZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkLnNsaWNlKDUsIGUuY3VycmVudFRhcmdldC5hdHRycy5pZC5sZW5ndGgpOyAvLyDor7fmsYLmnI3liqHlmagKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0ZWFjaGVyc2VuZERyYXdOZXdMaW5lJywgewogICAgICAgIG5ld0xpbmU6IG5ld0xpbmUsCiAgICAgICAgaWQ6IGlkCiAgICAgIH0pOyAvLyDmnKzlnLDnlLvnur8sIOWtmOWIsHZ1ZXjkuK0KCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgndGVhY2hlcmRyYXdOZXdMaW5lJywgewogICAgICAgIG5ld0xpbmU6IG5ld0xpbmUsCiAgICAgICAgYTogZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOm8oOagh+aLluWKqAogICAgbW91c2Vtb3ZlSGFuZGxlcjogZnVuY3Rpb24gbW91c2Vtb3ZlSGFuZGxlcihlKSB7CiAgICAgIGlmICghdGhpcy5wYWludGluZykgcmV0dXJuOwogICAgICB2YXIgbGFzdExpbmU7CiAgICAgIHZhciBhID0gZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkLnNsaWNlKDUsIGUuY3VycmVudFRhcmdldC5hdHRycy5pZC5sZW5ndGgpOwogICAgICB2YXIgaWQgPSBlLmN1cnJlbnRUYXJnZXQuYXR0cnMuaWQuc2xpY2UoNSwgZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkLmxlbmd0aCk7CiAgICAgIGxhc3RMaW5lID0gdGhpcy50ZWFjaGVyTGluZXMyW2EgLSAxXVt0aGlzLnRlYWNoZXJMaW5lczJbYSAtIDFdLmxlbmd0aCAtIDFdOwogICAgICBsYXN0TGluZS5wb2ludHMgPSBsYXN0TGluZS5wb2ludHMuY29uY2F0KFtlLmV2dC5sYXllclggLyB0aGlzLmdldFhiLCBlLmV2dC5sYXllclkgLyB0aGlzLmdldFliXSk7IC8vIOivt+axguacjeWKoeWZqAoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RlYWNoZXJzZW5kVXBkYXRlTmV3TGluZScsIHsKICAgICAgICBsYXN0TGluZTogbGFzdExpbmUsCiAgICAgICAgaWQ6IGlkCiAgICAgIH0pOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3RlYWNoZXJ1cGRhdGVOZXdMaW5lMScsIHsKICAgICAgICBsYXN0TGluZTogbGFzdExpbmUsCiAgICAgICAgYTogZS5jdXJyZW50VGFyZ2V0LmF0dHJzLmlkCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOm8oOagh+mHiuaUvgogICAgbW91c2V1cEhhbmRsZXI6IGZ1bmN0aW9uIG1vdXNldXBIYW5kbGVyKCkgewogICAgICB0aGlzLnBhaW50aW5nID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["test2.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n<el-container>\n    <el-header>\n        <el-tag>房间号：{{classCode}}</el-tag> \n    </el-header>\n    <el-main>\n        <el-row :gutter=\"20\" v-for=\"i in 4\" :key=\"i\">\n            <el-col :span=\"4\" v-for=\"j in 6\" :key=\"j\">\n                <div class=\"grid-content bg-purple\">\n                    <div class=\"userinfo\">{{(i-1)*6 + j}}</div>\n                        <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card1\">\n                            {{(i-1)*6 + j}}\n                            <v-stage\n                            :id=\"'stage' + ((i-1)*6 + j)\"\n                            :config=\"stageConfig\"\n                            @mousedown=\"mousedownHandler\"\n                            @mouseup=\"mouseupHandler\"\n                            @mousemove=\"mousemoveHandler\"\n                            >\n                            <v-layer>\n                                <v-line\n                                v-for=\"(line, index) in teacherLines[(i-1)*6 + j - 1]\"\n                                :key=\"index\"\n                                :config=\"line\"\n                                />\n                            </v-layer>\n                            <v-layer>\n                                <v-line\n                                v-for=\"(line, index) in teacherLines2[(i-1)*6 + j - 1]\"\n                                :key=\"index\"\n                                :config=\"line\"\n                                />\n                            </v-layer>\n                        </v-stage>\n                    </el-card>\n                </div>\n            </el-col>\n        </el-row>     \n    </el-main>\n</el-container>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n    created() {\n    this.$store.dispatch('sendUserEnter')\n  },\ncomputed: {\n    ...mapState([\"teacherLines\",\"teacherLines2\"]),\n    ...mapGetters(['isGameStarted', 'isGameHolder']),\n     ...mapState(['teacherphone', 'messages', 'holder']),\n},\nmounted(){\n//    document.getElementById('card1').style.height = document.getElementById('card1').clientWidth * 1.1 + \"px\"\n    this.getXb =  document.getElementById('card1').clientWidth\n    this.getYb =  document.getElementById('card1').clientHeight\n    // document.getElementById('card1').translate(0.5,0.5)\n    this.stageConfig.width = document.getElementById('card1').clientWidth\n    this.stageConfig.height = document.getElementById('card1').clientHeight\n    this.$store.commit('initXb', this.getXb)\n    this.$store.commit('initYb', this.getYb)\n    // console.log(this.getXb + \" \" + this.getYb);\n},\ndata(){\n    return{\n        classCode:1101,\n        // 画布配置\n      stageConfig: {\n        width: 1300,\n        height: 450\n      },\n      // 绘画状态\n      painting: false,\n      stroke: '#d42d1f',\n      strokeWidth: 2.1,\n      getXb:1,\n      getYb:1,\n    }\n},\nmethods: {\n    // 鼠标按下\n    mousedownHandler(e) {\n      this.painting = true\n        const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]\n      }\n      const id = e.currentTarget.attrs.id.slice(5,e.currentTarget.attrs.id.length)\n      // 请求服务器\n      this.$store.dispatch('teachersendDrawNewLine', {newLine:newLine,id:id})\n      // 本地画线, 存到vuex中\n        this.$store.commit('teacherdrawNewLine', {newLine:newLine,a:e.currentTarget.attrs.id})\n    },\n\n    // 鼠标拖动\n    mousemoveHandler(e) {\n      if (!this.painting) return\n      let lastLine;\n      let a = e.currentTarget.attrs.id.slice(5,e.currentTarget.attrs.id.length)\n      const id = e.currentTarget.attrs.id.slice(5,e.currentTarget.attrs.id.length)\n      lastLine = this.teacherLines2[a - 1][this.teacherLines2[a - 1].length - 1]\n      lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY / this.getYb]) \n      // 请求服务器\n      this.$store.dispatch('teachersendUpdateNewLine', {lastLine:lastLine,id:id})\n      this.$store.commit('teacherupdateNewLine1', {lastLine:lastLine,a:e.currentTarget.attrs.id})\n      \n    },\n\n    // 鼠标释放\n    mouseupHandler() {\n      this.painting = false\n    },\n}\n\n}\n</script>\n<style lang = \"less\" scoped>\n.el-container{\n    width: 100%;\n    height: 100%;\n    background-color: aqua;\n    /* overflow: auto; */\n    .el-header{\n        line-height: 60px;\n    }\n\n    .el-main{\n        background-color: aquamarine;\n        overflow: auto;\n        .el-row {\n            margin-bottom: 20px;\n            height: 50%;\n        } \n        .el-col {\n            border-radius: 4px;\n            height: 90%;\n\n            .bg-purple {\n                background: #d3dce6;\n            }\n            .grid-content {\n                border-radius: 4px;\n                height: 100%;\n                display: flex;\n                flex-flow: column;\n\n                .userinfo{\n                    background-color: black;\n                    color: #FFFFFF;\n                    font-weight: bold;\n                    height: 40px;\n                    line-height: 40px;\n                    padding-left: 10px;\n                    letter-spacing: 3px;\n                }\n            }\n        }\n    }\n}\n.el-card{\n    width: 100%;\n    height: 300px;\n    background-color: rgb(33, 33, 33);\n    color: #FFFFFF;\n}\n</style>"],"sourceRoot":"src/views"}]}