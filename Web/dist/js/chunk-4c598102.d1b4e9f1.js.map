{"version":3,"sources":["webpack:///./src/views/Teacher/components/app-side-panel.vue?8f02","webpack:///./src/views/Teacher/components/app-header.vue?dc2b","webpack:///./src/views/Teacher/components/app-stage.vue?0a56","webpack:///./src/views/Teacher/index.vue?caca","webpack:///./src/views/Teacher/components/app-header.vue?e23a","webpack:///src/views/Teacher/components/app-header.vue","webpack:///./src/views/Teacher/components/app-header.vue?0d11","webpack:///./src/views/Teacher/components/app-header.vue","webpack:///./src/views/Teacher/components/app-stage.vue?2ad5","webpack:///./src/views/Teacher/components/app-stage.vue?b94c","webpack:///./src/views/Teacher/components/app-stage.vue","webpack:///./src/views/Teacher/components/app-side-panel.vue?683e","webpack:///src/views/Teacher/components/app-side-panel.vue","webpack:///./src/views/Teacher/components/app-side-panel.vue?1674","webpack:///./src/views/Teacher/components/app-side-panel.vue","webpack:///src/views/Teacher/index.vue","webpack:///./src/views/Teacher/index.vue?04a3","webpack:///./src/views/Teacher/index.vue","webpack:///./src/views/Teacher/index.vue?4b4f","webpack:///src/views/Teacher/components/app-stage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_l","item","index","key","_v","_s","nativeOn","$event","type","indexOf","_k","keyCode","sendMessage","apply","arguments","model","value","callback","$$v","message","expression","on","staticRenderFns","computed","component","staticStyle","ref","padding","stageConfig","mousedownHandler","mouseupHandler","mousemoveHandler","touchstartHandler","touchmoveHandler","touchendHandler","line","teacherphone","holder","_e","isGameStarted","startGameHandler","stopGameHandler","answerGameHandler","exitHandler","resultDialogVisible","expectImageName","slot","saveDialogHandler","answerDialogVisible","inputImageName","saveAnswerDialogHandler","data","methods","$confirm","then","console","log","e","$store","dispatch","$message","error","components","AppHeader","AppStage","AppSidePanel","created","result","mounted","getXb","width","$refs","wrapper","$el","offsetWidth","commit","window","addEventListener","linesIndex","lineIndex","height","painting","stroke","strokeWidth","newLine","lastLine","points","concat","evt","layerX","layerY","newX","nowX","document","getElementById","clientWidth"],"mappings":"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","file":"js/chunk-4c598102.d1b4e9f1.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=style&index=0&id=8057afee&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=style&index=0&id=41c78bb7&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=style&index=0&id=c34745a6&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',{attrs:{\"height\":\"30\"}},[_c('app-header')],1),_c('el-container',[_c('el-aside',{staticClass:\"left-panel\",attrs:{\"width\":\"230px\"}},[_c('app-side-panel'),_c('div',[_vm._l((_vm.messages),function(item,index){return _c('div',{key:index},[_vm._v(\" \"+_vm._s(item)+\" \")])}),_c('el-input',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMessage.apply(null, arguments)}},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_c('el-button',{on:{\"click\":_vm.sendMessage}},[_vm._v(\"发送\")])],2)],1),_c('el-main',[_c('app-stage')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header\"},[(_vm.connected)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"服务已连接\")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"服务未连接\")]),(_vm.isGameStarted)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"上课中\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"还未上课\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-header\">\n    <el-tag v-if=\"connected\" type=\"success\">服务已连接</el-tag>\n    <el-tag v-else type=\"danger\">服务未连接</el-tag>\n\n    <el-tag v-if=\"isGameStarted\" type=\"success\">上课中</el-tag>\n    <el-tag v-else type=\"info\">还未上课</el-tag>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  computed: {\n    ...mapState(['connected']),\n    ...mapGetters(['isGameStarted'])\n  }\n}\n</script>\n\n<style scoped>\n.el-tag {\n  margin-right: 10px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-header.vue?vue&type=template&id=41c78bb7&scoped=true&\"\nimport script from \"./app-header.vue?vue&type=script&lang=js&\"\nexport * from \"./app-header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-header.vue?vue&type=style&index=0&id=41c78bb7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41c78bb7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"}},[_c('el-card',{ref:\"wrapper\",attrs:{\"body-style\":{ padding: 0 },\"id\":\"card1\"}},[_c('v-stage',{attrs:{\"id\":\"stage\",\"config\":_vm.stageConfig},on:{\"mousedown\":_vm.mousedownHandler,\"mouseup\":_vm.mouseupHandler,\"mousemove\":_vm.mousemoveHandler,\"touchstart\":_vm.touchstartHandler,\"touchmove\":_vm.touchmoveHandler,\"touchend\":_vm.touchendHandler}},[_c('v-layer',_vm._l((_vm.lines1),function(line,index){return _c('v-line',{key:index,attrs:{\"config\":line}})}),1)],1)],1),_c('el-card',{ref:\"wrapper\",attrs:{\"body-style\":{ padding: 0 },\"id\":\"card2\"}},[_c('v-stage',{attrs:{\"id\":\"stage2\",\"config\":_vm.stageConfig},on:{\"mousedown\":_vm.mousedownHandler,\"mouseup\":_vm.mouseupHandler,\"mousemove\":_vm.mousemoveHandler,\"touchstart\":_vm.touchstartHandler,\"touchmove\":_vm.touchmoveHandler,\"touchend\":_vm.touchendHandler}},[_c('v-layer',_vm._l((_vm.lines2),function(line,index){return _c('v-line',{key:index,attrs:{\"config\":line}})}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-stage.vue?vue&type=template&id=c34745a6&scoped=true&\"\nimport script from \"./app-stage.vue?vue&type=script&lang=js&\"\nexport * from \"./app-stage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-stage.vue?vue&type=style&index=0&id=c34745a6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c34745a6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',[_c('div',{staticClass:\"panel-area\"},[_c('ul',{staticClass:\"participants\"},_vm._l((_vm.teacherphones),function(item){return _c('li',{key:item},[_c('span',[_vm._v(_vm._s(item)+\" \"+_vm._s(item === _vm.teacherphone ? '（我）' : ''))]),(item === _vm.holder)?_c('el-tag',{attrs:{\"size\":\"mini\"}},[_vm._v(\"老师\")]):_vm._e()],1)}),0)]),_c('div',{staticClass:\"panel-area button-area\"},[(!_vm.isGameStarted)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.startGameHandler}},[_vm._v(\"开始上课\")]):_vm._e(),(_vm.isGameStarted && _vm.teacherphone === _vm.holder)?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.stopGameHandler}},[_vm._v(\"结束上课\")]):_vm._e(),(_vm.isGameStarted && _vm.teacherphone !== _vm.holder)?_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"success\",\"size\":\"small\",\"icon\":\"el-icon-magic-stick\"},on:{\"click\":_vm.answerGameHandler}},[_vm._v(\"回答问题\")]):_vm._e(),_c('el-button',{staticStyle:{\"margin-top\":\"5px\",\"margin-left\":\"0\"},attrs:{\"type\":\"danger\",\"size\":\"small\",\"icon\":\"el-icon-switch-button\"},on:{\"click\":_vm.exitHandler}},[_vm._v(\"退出课堂\")])],1),_c('el-dialog',{attrs:{\"title\":\"请设置答案\",\"visible\":_vm.resultDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.resultDialogVisible=$event}}},[_c('el-input',{attrs:{\"placeholder\":\"请输入您的答案\"},model:{value:(_vm.expectImageName),callback:function ($$v) {_vm.expectImageName=$$v},expression:\"expectImageName\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.resultDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveDialogHandler}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"请填写答案\",\"visible\":_vm.answerDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.answerDialogVisible=$event}}},[_c('el-input',{attrs:{\"placeholder\":\"请输入您的答案\"},model:{value:(_vm.inputImageName),callback:function ($$v) {_vm.inputImageName=$$v},expression:\"inputImageName\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.answerDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveAnswerDialogHandler}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-card>\n    <!-- 玩家列表 -->\n    <div class=\"panel-area\">\n      <ul class=\"participants\">\n        <li v-for=\"item in teacherphones\" :key=\"item\">\n          <span>{{ item }} {{ item === teacherphone ? '（我）' : '' }}</span>\n          <el-tag v-if=\"item === holder\" size=\"mini\">老师</el-tag>\n        </li>\n      </ul>\n    </div>\n\n    <!-- 按钮工具栏 -->\n    <div class=\"panel-area button-area\">\n      <el-button\n        v-if=\"!isGameStarted\"\n        type=\"primary\"\n        size=\"small\"\n        icon=\"el-icon-edit\"\n        @click=\"startGameHandler\"\n      >开始上课</el-button>\n\n      <el-button\n        v-if=\"isGameStarted && teacherphone === holder\"\n        type=\"warning\"\n        size=\"small\"\n        icon=\"el-icon-delete\"\n        @click=\"stopGameHandler\"\n      >结束上课</el-button>\n\n      <el-button\n        v-if=\"isGameStarted && teacherphone !== holder\"\n        type=\"success\"\n        size=\"small\"\n        icon=\"el-icon-magic-stick\"\n        @click=\"answerGameHandler\"\n        style=\"margin-top:20px\"\n      >回答问题</el-button>\n\n      <el-button\n        type=\"danger\"\n        size=\"small\"\n        icon=\"el-icon-switch-button\"\n        @click=\"exitHandler\"\n        style=\"margin-top:5px;margin-left:0\"\n      >退出课堂</el-button>\n    </div>\n\n    <!-- 弹出框：主持人设置答案 -->\n    <el-dialog\n      title=\"请设置答案\"\n      :visible.sync=\"resultDialogVisible\"\n      width=\"30%\"\n    >\n      <el-input v-model=\"expectImageName\" placeholder=\"请输入您的答案\" />\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"resultDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveDialogHandler\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 弹出框：答题人设置答案 -->\n    <el-dialog\n      title=\"请填写答案\"\n      :visible.sync=\"answerDialogVisible\"\n      width=\"30%\"\n    >\n      <el-input v-model=\"inputImageName\" placeholder=\"请输入您的答案\" />\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"answerDialogVisible = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"saveAnswerDialogHandler\"\n        >确 定</el-button>\n      </span>\n    </el-dialog>\n  </el-card>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      resultDialogVisible: false,\n      expectImageName: '',\n      answerDialogVisible: false,\n      inputImageName: ''\n    }\n  },\n\n  computed: {\n    ...mapState(['teacherphone', 'teacherphones', 'holder']),\n    ...mapGetters(['isGameStarted'])\n  },\n\n  methods: {\n    startGameHandler() {\n      // 开始游戏\n      // 1. 显示弹框\n      this.resultDialogVisible = true\n      // 2. 清空输入框内容\n      this.expectImageName = ''\n    },\n\n    stopGameHandler() {\n      this.$confirm('确定要终止游戏吗?', '温馨提示').then(() => {\n        // 发送游戏终止申请\n        this.$store.dispatch('sendStopGame')\n      }).catch(e => {\n        console.log(e)\n      })\n    },\n\n    answerGameHandler() {\n      this.answerDialogVisible = true\n      this.inputImageName = ''\n    },\n\n    saveDialogHandler() {\n      // 1. 校验答案是否为空\n      if (!this.expectImageName) {\n        this.$message.error('答案不能为空哦!')\n        return\n      }\n      // 2. 发送开始游戏的申请\n      this.$store.dispatch('sendStartGame', this.expectImageName)\n\n      // 3. 关闭弹框\n      this.resultDialogVisible = false\n    },\n\n    saveAnswerDialogHandler() {\n      // 1. 检查答案是否为空\n      if (!this.inputImageName) {\n        this.$message.error('答案不能为空')\n        return\n      }\n      // 2. 将答案发送到服务器\n      this.$store.dispatch('sendAnswerGame', this.inputImageName)\n      // 3. 关闭弹出框\n      this.answerDialogVisible = false\n    },\n\n    exitHandler() {\n      this.$confirm('是否退出游戏', '温馨提示').then(() => {\n        this.$store.dispatch('sendUserLeave')\n        this.$router.replace('/login')\n      }).catch(e => {\n        console.log(e)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.panel-area {\n  margin: 10px 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-side-panel.vue?vue&type=template&id=8057afee&scoped=true&\"\nimport script from \"./app-side-panel.vue?vue&type=script&lang=js&\"\nexport * from \"./app-side-panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-side-panel.vue?vue&type=style&index=0&id=8057afee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8057afee\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container>\n    <!-- 布局：头部 -->\n    <el-header height=\"30\">\n      <app-header />\n    </el-header>\n\n    <!-- 布局：主体 -->\n    <el-container>\n      <!-- 左边 -->\n      <el-aside width=\"230px\" class=\"left-panel\">\n        <app-side-panel />\n        <div>\n          <div v-for = \"(item,index) in messages\" :key = \"index\">\n            {{item}}\n          </div>\n          <el-input v-model = \"message\" @keyup.enter.native = \"sendMessage\"></el-input>\n          <el-button @click = \"sendMessage\">发送</el-button>\n        </div>\n        \n      </el-aside>\n\n      <!-- 右边 -->\n      <el-main>\n        <app-stage />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport AppHeader from './components/app-header'\nimport AppStage from './components/app-stage'\nimport AppSidePanel from './components/app-side-panel'\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  components: {\n    AppHeader,\n    AppStage,\n    AppSidePanel\n  },\n  created() {\n    this.$store.dispatch('sendUserEnter')\n  },\n  computed: {\n    ...mapState(['teacherphone', 'messages', 'holder']),\n    ...mapGetters(['isGameStarted'])\n  },\n  data(){\n    return{\n      message:\"\",\n      // mymessages:[]\n    }\n  },\n  methods: {\n    sendMessage(){\n      if(this.message === \"\" || this.message.length == 0){\n       return\n     }\n     const message = {\n       teacherphone:localStorage.getItem('teacherphone'),\n       msg:this.message\n     }\n      this.$store.dispatch('sendMessage', message).then((result) => {\n        console.log(result)\n        // this.messages.push(result)\n        this.message = \"\"\n      }).catch((err) => {\n        \n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.left-panel {\n  padding: 20px;\n}\n// .el-main{\n//   box-shadow: 0 2px 12px 0 rgb(0 0 0 / 10%);\n//   border: #EBEEF5 solid 1px;\n// }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1ffc7e51&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1ffc7e51&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ffc7e51\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1ffc7e51&lang=scss&scoped=true&\"","<template>\n<div style=\"display:flex\">\n  <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card1\">\n    <v-stage\n      id=\"stage\"\n      :config=\"stageConfig\"\n      @mousedown=\"mousedownHandler\"\n      @mouseup=\"mouseupHandler\"\n      @mousemove=\"mousemoveHandler\"\n      @touchstart=\"touchstartHandler\"\n      @touchmove=\"touchmoveHandler\"\n      @touchend=\"touchendHandler\"\n    >\n      <v-layer>\n        <v-line\n          v-for=\"(line, index) in lines1\"\n          :key=\"index\"\n          :config=\"line\"\n        />\n      </v-layer>\n    </v-stage>\n  </el-card>\n  <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card2\">\n    <v-stage\n      id=\"stage2\"\n      :config=\"stageConfig\"\n      @mousedown=\"mousedownHandler\"\n      @mouseup=\"mouseupHandler\"\n      @mousemove=\"mousemoveHandler\"\n      @touchstart=\"touchstartHandler\"\n      @touchmove=\"touchmoveHandler\"\n      @touchend=\"touchendHandler\"\n    >\n      <v-layer>\n        <v-line\n          v-for=\"(line, index) in lines2\"\n          :key=\"index\"\n          :config=\"line\"\n        />\n      </v-layer>\n    </v-stage>\n  </el-card>\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  created(){\n  },\n\n  mounted(){\n    this.getXb =  document.getElementById('card1').clientWidth\n    this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n    this.$store.commit('initXb', this.getXb)\n    const that = this\n    window.addEventListener('touchmove', function(){}, { passive: false })\n  },\n\n  data() {\n    return {\n      linesIndex:0,\n      lineIndex:0,\n      // 画布配置\n      stageConfig: {\n        width: 1300,\n        height: 450\n      },\n      // 绘画状态\n      painting: false,\n      stroke: '#d42d1f',\n      strokeWidth: 2.1,\n      getXb:1,\n    }\n  },\n\n  computed: {\n    ...mapState(['lines1','lines2']),\n    ...mapGetters(['isGameStarted', 'isGameHolder']),\n  },\n\n  methods: {\n    // 鼠标按下\n    mousedownHandler(e) {\n      // console.log(e.currentTarget.attrs.id);\n      // if (!this.isGameHolder || !this.isGameHolder) return\n      this.painting = true\n      // 创建一个新线条\n      \n      if(e.currentTarget.attrs.id === \"stage\"){\n        const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY]\n      }\n        // 请求服务器\n        this.$store.dispatch('teachersendDrawNewLine', newLine)\n        // 本地画线, 存到vuex中\n        this.$store.commit('teacherdrawNewLine', newLine)\n      }else{\n        const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY]\n      }\n        // 请求服务器\n        this.$store.dispatch('teachersendDrawNewLine2', newLine)\n        // 本地画线, 存到vuex中\n        this.$store.commit('teacherdrawNewLine2', newLine)\n      }\n      // // 请求服务器\n      // this.$store.dispatch('teachersendDrawNewLine', newLine)\n      // // 本地画线, 存到vuex中\n      // this.$store.commit('teacherdrawNewLine', newLine)\n    },\n\n    // 鼠标拖动\n    mousemoveHandler(e) {\n      if (!this.painting) return\n      // console.log(\"11\"+lastLine.points[lastLine.points.length-2])\n      if(e.currentTarget.attrs.id === \"stage\"){\n        const lastLine = this.lines1[this.lines1.length - 1]\n        lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY]) \n        // 请求服务器\n        this.$store.dispatch('teachersendUpdateNewLine', lastLine)\n        this.$store.commit('teacherupdateNewLine1', lastLine)\n      }else{\n        // alert(1)\n        const lastLine = this.lines2[this.lines2.length - 1]\n        lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY]) \n      \n         // 请求服务器\n        this.$store.dispatch('teachersendUpdateNewLine2', lastLine)\n        this.$store.commit('teacherupdateNewLine2', lastLine)\n      }\n    },\n\n    // 鼠标释放\n    mouseupHandler() {\n      this.painting = false\n    },\n\n    // 笔按下\n    touchstartHandler(e) {\n      // if (!this.isGameHolder || !this.isGameHolder) return\n      this.painting = true\n      let newX = e.evt.changedTouches[0].clientX-$('#card1').offset().left\n      let newY = e.evt.changedTouches[0].clientY-$('#card1').offset().top+ $(document).scrollTop()\n      // 创建一个新线条\n      const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [newX / this.getXb , newY]\n      }\n      // 请求服务器\n      this.$store.dispatch('sendDrawNewLine', newLine)\n      // 本地画线, 存到vuex中\n      this.$store.commit('drawNewLine', newLine)\n     },\n\n    // 笔拖动\n    touchmoveHandler(e) {\n      if (!this.painting) return\n      this.nowX = document.getElementById('card1').clientWidth\n      const lastLine = this.lines[this.lines.length - 1]\n      let newX = e.evt.changedTouches[0].clientX-$('#card1').offset().left\n      let newY = e.evt.changedTouches[0].clientY-$('#card1').offset().top+ $(document).scrollTop()\n      lastLine.points = lastLine.points.concat([newX / this.getXb , newY])\n\n      // 请求服务器\n      this.$store.dispatch('sendUpdateNewLine', lastLine)\n      this.$store.commit('updateNewLine1', lastLine)\n    },\n    // 笔释放\n\n    touchendHandler() {\n      this.painting = false\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-card{\n  touch-action: none;\n  height: 450;\n  overflow: hidden;\n}\n</style>\n\n"],"sourceRoot":""}