(function(e){function n(n){for(var o,c,r=n[0],s=n[1],u=n[2],h=0,p=[];h<r.length;h++)c=r[h],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&p.push(i[c][0]),i[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(n);while(p.length)p.shift()();return a.push.apply(a,u||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],o=!0,c=1;c<t.length;c++){var r=t[c];0!==i[r]&&(o=!1)}o&&(a.splice(n--,1),e=s(s.s=t[0]))}return e}var o={},c={app:0},i={app:0},a=[];function r(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-0c0b1917":"cbb78413","chunk-0fc6c52b":"e7248214","chunk-4c598102":"d1b4e9f1","chunk-558194bc":"e610547d","chunk-69070da2":"c62db436","chunk-6ec309c1":"a051c1b9","chunk-cc8b0676":"5705c3b8","chunk-4519d67e":"27895cae","chunk-5bb2b09c":"98be7aea","chunk-742f73c7":"15c12cdb"}[e]+".js"}function s(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(e){var n=[],t={"chunk-0c0b1917":1,"chunk-4c598102":1,"chunk-558194bc":1,"chunk-69070da2":1,"chunk-6ec309c1":1,"chunk-cc8b0676":1,"chunk-4519d67e":1,"chunk-5bb2b09c":1,"chunk-742f73c7":1};c[e]?n.push(c[e]):0!==c[e]&&t[e]&&n.push(c[e]=new Promise((function(n,t){for(var o="css/"+({}[e]||e)+"."+{"chunk-0c0b1917":"097909fd","chunk-0fc6c52b":"31d6cfe0","chunk-4c598102":"0cfc92a7","chunk-558194bc":"fc14f0e0","chunk-69070da2":"01442023","chunk-6ec309c1":"f40b595d","chunk-cc8b0676":"3ee00199","chunk-4519d67e":"1b9f1de1","chunk-5bb2b09c":"f226acab","chunk-742f73c7":"e537c834"}[e]+".css",i=s.p+o,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var u=a[r],h=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(h===o||h===i))return n()}var p=document.getElementsByTagName("style");for(r=0;r<p.length;r++){u=p[r],h=u.getAttribute("data-href");if(h===o||h===i)return n()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=n,l.onerror=function(n){var o=n&&n.target&&n.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=o,delete c[e],l.parentNode.removeChild(l),t(a)},l.href=i;var d=document.getElementsByTagName("head")[0];d.appendChild(l)})).then((function(){c[e]=0})));var o=i[e];if(0!==o)if(o)n.push(o[2]);else{var a=new Promise((function(n,t){o=i[e]=[n,t]}));n.push(o[2]=a);var u,h=document.createElement("script");h.charset="utf-8",h.timeout=120,s.nc&&h.setAttribute("nonce",s.nc),h.src=r(e);var p=new Error;u=function(n){h.onerror=h.onload=null,clearTimeout(l);var t=i[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;p.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",p.name="ChunkLoadError",p.type=o,p.request=c,t[1](p)}i[e]=void 0}};var l=setTimeout((function(){u({type:"timeout",target:h})}),12e4);h.onerror=h.onload=u,document.head.appendChild(h)}return Promise.all(n)},s.m=e,s.c=o,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)s.d(t,o,function(n){return e[n]}.bind(null,o));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],h=u.push.bind(u);u.push=n,u=u.slice();for(var p=0;p<u.length;p++)n(u[p]);var l=h;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},2395:function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var o=t("2b0e"),c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},i=[],a=(t("7c55"),t("2877")),r={},s=Object(a["a"])(r,c,i,!1,null,null,null),u=s.exports,h=(t("d3b7"),t("3ca3"),t("ddb0"),t("8c4f"));o["default"].use(h["a"]);var p=[{path:"/",redirect:"/login"},{path:"/login",component:function(){return t.e("chunk-0c0b1917").then(t.bind(null,"d9c9"))}},{path:"/home",component:function(){return Promise.all([t.e("chunk-0fc6c52b"),t.e("chunk-69070da2")]).then(t.bind(null,"daca"))}},{path:"/test",component:function(){return t.e("chunk-5bb2b09c").then(t.bind(null,"2762"))}},{path:"/test2",component:function(){return t.e("chunk-4519d67e").then(t.bind(null,"fd72"))}},{path:"/home2",component:function(){return Promise.all([t.e("chunk-0fc6c52b"),t.e("chunk-6ec309c1")]).then(t.bind(null,"fd3e"))}},{path:"/teacher",component:function(){return Promise.all([t.e("chunk-0fc6c52b"),t.e("chunk-4c598102")]).then(t.bind(null,"8310"))}},{path:"/student",component:function(){return t.e("chunk-742f73c7").then(t.bind(null,"9157"))}},{path:"/studentclassroom",component:function(){return Promise.all([t.e("chunk-0fc6c52b"),t.e("chunk-558194bc")]).then(t.bind(null,"1568"))}},{path:"/write",component:function(){return Promise.all([t.e("chunk-0fc6c52b"),t.e("chunk-cc8b0676")]).then(t.bind(null,"af28"))}}],l=new h["a"]({routes:p}),d=l,f=(t("caad"),t("2532"),t("99af"),t("fb6a"),t("4de4"),t("2f62")),g=t("8e27"),m=t.n(g),b=t("5c96"),v=t.n(b),w=m()();w.on("connect",(function(){console.log(">>>>>>> 和服务器已建立连接")})),w.on("room_info",(function(e){var n=e.teacherphones,t=e.holder;e.lines;S.commit("updateteacherphones",n),S.commit("updateHolder",t),S.commit("updateLines",[])})),w.on("user_enter",(function(e){S.commit("addToteacherphones",e)})),w.on("user_send",(function(e){S.commit("addTomessages",e)})),w.on("connect",(function(){S.commit("updateConnected",!0)})),w.on("disconnect",(function(){S.commit("updateConnected",!1)})),w.on("game_started",(function(e){S.commit("updateHolder",e),b["Notification"].success("".concat(e," 老师开始了课堂，大家可以开始踊跃回答问题啦！"))})),w.on("already_started",(function(e){S.commit("updateHolder",e),b["MessageBox"].alert("当前已有课堂在进行中，老师是："+e)})),w.on("game_stoped",(function(){S.commit("updateHolder",""),S.commit("updateLines",[]),b["Notification"].warning("老师下课了")})),w.on("starting_line",(function(e){S.commit("studentdrawNewLine",e)})),w.on("studentstarting_line",(function(e){S.commit("teacherNewLine",e)})),w.on("studentstarting_line2",(function(e){S.commit("teacherNewLine2",e.line)})),w.on("updating_line",(function(e){S.commit("studentupdateNewLine",e)})),w.on("studentupdating_line",(function(e){S.commit("teacherupdateLine",e)})),w.on("studentupdating_line2",(function(e){S.commit("teacherupdateLine2",e.line)})),w.on("game_answered",(function(e){var n=e.alreadyDone,t=e.success,o=e.teacherphone,c=e.answer;n?b["MessageBox"].alert("当前问题已经被回答，您不能继续回答了！"):t?b["MessageBox"].alert("玩家 ".concat(o," 回答了正确的答案：").concat(c),{title:"恭喜",type:"success"}):b["Notification"].error("玩家 ".concat(o," 回答的的答案不对：").concat(c))})),w.on("user_leave",(function(e){S.commit("delFromteacherphones",e),e===S.state.holder&&(S.commit("updateHolder",""),S.commit("updateLines",[]),b["Notification"].error("老师离开了教室!"))}));var L=w;o["default"].use(f["a"]);var k={connected:!1,teacherphone:"",teacherphones:[],holder:"",lines:[],messages:[],getXb:1,getYb:1,teacherLines:[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]},_={initXb:function(e,n){e.getXb=n},initYb:function(e,n){e.getYb=n},updateConnected:function(e,n){e.connected=n},updateteacherphone:function(e,n){e.teacherphone=n||""},updateteacherphones:function(e,n){e.teacherphones=n||[]},updateHolder:function(e,n){e.holder=n||""},updateLines:function(e,n){e.lines=n||[]},updatemessages:function(e,n){e.messages=n||[]},addTomessages:function(e,n){e.messages.push(n)},addToteacherphones:function(e,n){e.teacherphones.includes(n)||e.teacherphones.push(n)},studentdrawNewLine:function(e,n){var t=n.line,o=n.teacherphone;"20210101"===o?(t.points[0]*=e.getXb,t.points[1]*=e.getYb,console.log(1),e.teacherLines[0].push(t)):"20210102"===o&&(t.points[0]*=e.getXb,t.points[1]*=e.getYb,console.log(2),e.teacherLines[1].push(t))},studentupdateNewLine:function(e,n){var t=n.line,o=n.teacherphone;if("20210101"===o){var c=e.state.teacherLines[0][e.state.teacherLines[0].length-1],i=t.points[t.points.length-2],a=t.points[t.points.length-1];i*=e.getXb,a*=e.getYb,c.points=c.points.concat([i,a])}else if("20210102"===o){console.log(11);var r=e.teacherLines[1][e.teacherLines[1].length-1];i=t.points[t.points.length-2],a=t.points[t.points.length-1];i*=e.getXb,a*=e.getYb,r.points=r.points.concat([i,a])}},teacherNewLine:function(e,n){var t=n.line;t.points[0]*=e.getXb,t.points[1]*=e.getYb,e.lines.push(t)},teacherNewLine2:function(e,n){n.points[0]*=e.getXb,n.points[1]*=e.getYb,e.lines.push(n)},teacherupdateLine2:function(e,n){var t=e.lines[e.lines.length-1],o=n.points[n.points.length-2],c=n.points[n.points.length-1];o*=e.getXb,c*=e.getYb,t.points=t.points.concat([o,c])},teacherupdateLine:function(e,n){var t,o=n.line,c=n.teacherphone,i=o.points[o.points.length-2],a=o.points[o.points.length-1];i*=e.getXb,a*=e.getYb,"20210101"===c?(console.log(1),t=e.teacherLines[0][e.teacherLines[0].length-1]):"20210102"===c&&(console.log(2),t=e.teacherLines[1][e.teacherLines[1].length-1]),t.points=t.points.concat([i,a])},drawNewLine:function(e,n){n.points[0]*=e.getXb,n.points[1]*=e.getYb,n.points[2]*=e.getXb,n.points[3]*=e.getYb,console.log(n),e.lines.push(n)},teacherdrawNewLine:function(e,n){var t=n.newLine,o=n.a.slice(5,n.a.length)-1;t.points[0]*=e.getXb,t.points[1]*=e.getYb,e.teacherLines[o].push(t)},teacherdrawNewLine2:function(e,n){n.points[0]*=e.getXb,n.points[1]*=e.getYb,e.lines2.push(n),e.teacherLines[1].push(n)},teacherupdateNewLine1:function(e,n){var t=n.lastLine,o=n.a.slice(5,n.a.length)-1;t.points[t.points.length-2]*=e.getXb,t.points[t.points.length-1]*=e.getYb;var c=e.teacherLines[o][e.teacherLines[o].length-1];c.points=t.points},teacherupdateNewLine2:function(e,n){var t=e.lines2[e.lines2.length-1];n.points[n.points.length-2]*=e.getXb,n.points[n.points.length-1]*=e.getYb;n.points[n.points.length-1];t.points=n.points;var o=e.teacherLines[1][e.teacherLines[1].length-1];o.points=n.points},updateNewLine1:function(e,n){var t=e.lines[e.lines.length-1];n.points[n.points.length-2]*=e.getXb,n.points[n.points.length-1]*=e.getYb;n.points[n.points.length-1];t.points=n.points},teacherupdateNewLine:function(e,n){var t=e.lines1[e.lines1.length-1],o=n.points[n.points.length-2],c=n.points[n.points.length-1];o*=e.getXb,c*=e.getYb,t.points=t.points.concat([o,c])},updateNewLine:function(e,n){var t=e.lines[e.lines.length-1],o=n.points[n.points.length-2],c=n.points[n.points.length-1];o*=e.getXb,c*=e.getYb,t.points=t.points.concat([o,c])},delFromteacherphones:function(e,n){e.teacherphones=e.teacherphones.filter((function(e){return e!==n}))}},y={sendMessage:function(e,n){return new Promise((function(e,t){L.emit("sendMessage",n,(function(n){e(n)}))}))},checkUserExist:function(e,n){return new Promise((function(e,t){L.emit("check_user_exist",n,(function(n){e(n)}))}))},sendUserEnter:function(e){var n=localStorage.getItem("type"),t=localStorage.getItem("teacherphone"),o={teacherphone:t,type:n};L.emit("enter",o),e.commit("updateteacherphone",o.teacherphone)},sendStartGame:function(e,n){L.emit("start_game",n)},sendStopGame:function(e){L.emit("stop_game")},sendDrawNewLine:function(e,n){var t={line:n,teacherphone:localStorage.getItem("teacherphone")};L.emit("new_line",t)},teachersendDrawNewLine:function(e,n){var t={line:n.newLine,teacherphone:localStorage.getItem("teacherphone"),id:n.id};console.log(n.id),L.emit("teacherNew_line",t)},teachersendDrawNewLine2:function(e,n){var t={line:n,teacherphone:localStorage.getItem("teacherphone")};L.emit("new_line2",t)},teachersendUpdateNewLine:function(e,n){var t={line:n.lastLine,teacherphone:localStorage.getItem("teacherphone"),id:n.id};L.emit("update_line",t)},teachersendUpdateNewLine2:function(e,n){var t={line:n,teacherphone:localStorage.getItem("teacherphone")};L.emit("update_line2",t)},sendUpdateNewLine:function(e,n){var t={line:n,teacherphone:localStorage.getItem("teacherphone")};L.emit("update_line",t)},sendAnswerGame:function(e,n){L.emit("answer_game",n)},sendUserLeave:function(e){L.emit("leave"),e.commit("updateteacherphone",""),localStorage.removeItem("teacherphone")}},N={isGameStarted:function(e){return!!e.holder},isGameHolder:function(e){return e.teacherphone===e.holder}},S=new f["a"].Store({state:k,mutations:_,actions:y,getters:N}),X=(t("0fae"),t("7591")),Y=t.n(X),P=t("bc3a"),x=t.n(P),O=t("1157"),j=t.n(O),E=(t("21a6"),t("ca95")),T=t.n(E);o["default"].config.productionTip=!1,o["default"].prototype.axios=x.a,o["default"].prototype.$=j.a,o["default"].use(v.a),o["default"].use(Y.a),o["default"].use(T.a,{name:"v-touch"}),new o["default"]({router:d,store:S,render:function(e){return e(u)}}).$mount("#app")},"7c55":function(e,n,t){"use strict";t("2395")}});
//# sourceMappingURL=app.29ed31b3.js.map