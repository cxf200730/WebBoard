{"version":3,"sources":["webpack:///./src/views/Game/index.vue?46a2","webpack:///src/views/Game/components/app-stage.vue","webpack:///./src/views/Game/components/app-stage.vue?50f5","webpack:///./src/views/Game/components/app-header.vue?cc9a","webpack:///./src/views/Game/index.vue?7e8f","webpack:///./src/views/Game/components/app-header.vue?d5d6","webpack:///src/views/Game/components/app-header.vue","webpack:///./src/views/Game/components/app-header.vue?11f0","webpack:///./src/views/Game/components/app-header.vue","webpack:///./src/views/Game/components/app-stage.vue?5a9d","webpack:///./src/views/Game/components/app-stage.vue?7234","webpack:///./src/views/Game/components/app-stage.vue","webpack:///./src/views/Game/components/app-side-panel.vue?08a5","webpack:///src/views/Game/components/app-side-panel.vue","webpack:///./src/views/Game/components/app-side-panel.vue?8fda","webpack:///./src/views/Game/components/app-side-panel.vue","webpack:///src/views/Game/index.vue","webpack:///./src/views/Game/index.vue?db5b","webpack:///./src/views/Game/index.vue","webpack:///./src/views/Game/components/app-side-panel.vue?90de"],"names":["created","mounted","this","getXb","stageConfig","width","$refs","wrapper","$el","offsetWidth","$store","commit","window","addEventListener","data","linesIndex","lineIndex","height","painting","stroke","strokeWidth","computed","methods","mousedownHandler","isGameHolder","points","e","evt","layerX","layerY","dispatch","newLine","mousemoveHandler","lastLine","concat","console","log","mouseupHandler","touchstartHandler","newX","touchmoveHandler","nowX","document","getElementById","clientWidth","touchendHandler","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_l","item","index","key","_v","_s","nativeOn","$event","type","indexOf","_k","keyCode","sendMessage","apply","arguments","model","value","callback","$$v","message","expression","on","staticRenderFns","component","ref","padding","line","teacherphone","holder","_e","isGameStarted","startGameHandler","stopGameHandler","staticStyle","answerGameHandler","exitHandler","resultDialogVisible","expectImageName","slot","saveDialogHandler","answerDialogVisible","inputImageName","saveAnswerDialogHandler","$confirm","then","$message","error","components","AppHeader","AppStage","AppSidePanel","result"],"mappings":"kHAAA,W,yFC2BA,QACEA,QADF,aAIEC,QAJF,WAKIC,KAAKC,MAAQ,SAAjB,mCACID,KAAKE,YAAYC,MAAQH,KAAKI,MAAMC,QAAQC,IAAIC,YAChDP,KAAKQ,OAAOC,OAAO,SAAUT,KAAKC,OAElCS,OAAOC,iBAAiB,aAAa,cAAzC,eAGEC,KAZF,WAaI,MAAO,CACLC,WAAN,EACMC,UAAN,EAEMZ,YAAa,CACXC,MAAO,KACPY,OAAQ,KAGVC,UAAU,EACVC,OAAQ,UACRC,YAAa,EACbjB,MAAN,IAIEkB,SAAU,OAAZ,OAAY,CAAZ,kBACA,2BACA,kDAGEC,QAAS,CAEPC,iBAFJ,SAEA,GACM,GAAKrB,KAAKsB,cAAiBtB,KAAKsB,aAAhC,CACAtB,KAAKgB,UAAW,EAEhB,IAAN,GACQC,OAAQjB,KAAKiB,OACbC,YAAalB,KAAKkB,YAClBK,OAAQ,CAACC,EAAEC,IAAIC,OAAS1B,KAAKC,MAAOuB,EAAEC,IAAIE,SAG5C3B,KAAKQ,OAAOoB,SAAS,kBAAmBC,GAExC7B,KAAKQ,OAAOC,OAAO,cAAeoB,KAIpCC,iBAlBJ,SAkBA,GACM,GAAK9B,KAAKgB,SAAV,CACA,IAAN,kCACMe,EAASR,OAASQ,EAASR,OAAOS,OAAO,CAACR,EAAEC,IAAIC,OAAS1B,KAAKC,MAAOuB,EAAEC,IAAIE,SAC3EM,QAAQC,IAAI,KAAlB,6BAEMlC,KAAKQ,OAAOoB,SAAS,oBAAqBG,GAC1C/B,KAAKQ,OAAOC,OAAO,iBAAkBsB,KAIvCI,eA7BJ,WA8BMnC,KAAKgB,UAAW,GAIlBoB,kBAlCJ,SAkCA,GACM,GAAKpC,KAAKsB,cAAiBtB,KAAKsB,aAAhC,CACAtB,KAAKgB,UAAW,EAChB,IAAN,2DACA,kFAEA,GACQC,OAAQjB,KAAKiB,OACbC,YAAalB,KAAKkB,YAClBK,OAAQ,CAACc,EAAOrC,KAAKC,MAA7B,IAGMD,KAAKQ,OAAOoB,SAAS,kBAAmBC,GAExC7B,KAAKQ,OAAOC,OAAO,cAAeoB,KAIpCS,iBApDJ,SAoDA,GACM,GAAKtC,KAAKgB,SAAV,CACAhB,KAAKuC,KAAOC,SAASC,eAAe,QAAQC,YAC5C,IAAN,kCACA,2DACA,kFACMX,EAASR,OAASQ,EAASR,OAAOS,OAAO,CAACK,EAAOrC,KAAKC,MAA5D,IAGMD,KAAKQ,OAAOoB,SAAS,oBAAqBG,GAC1C/B,KAAKQ,OAAOC,OAAO,iBAAkBsB,KAIvCY,gBAlEJ,WAmEM3C,KAAKgB,UAAW,O,0DChItB,W,kCCAA,W,qICAA,IAAI4B,EAAS,WAAa,IAAIC,EAAI7C,KAAS8C,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,OAAS,OAAO,CAACF,EAAG,eAAe,GAAGA,EAAG,eAAe,CAACA,EAAG,WAAW,CAACG,YAAY,aAAaD,MAAM,CAAC,MAAQ,UAAU,CAACF,EAAG,kBAAkBA,EAAG,MAAM,CAACH,EAAIO,GAAIP,EAAY,UAAE,SAASQ,EAAKC,GAAO,OAAON,EAAG,MAAM,CAACO,IAAID,GAAO,CAACT,EAAIW,GAAG,IAAIX,EAAIY,GAAGJ,GAAM,UAASL,EAAG,WAAW,CAACU,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQhB,EAAIiB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOJ,IAAI,SAAkB,KAAcV,EAAImB,YAAYC,MAAM,KAAMC,aAAaC,MAAM,CAACC,MAAOvB,EAAW,QAAEwB,SAAS,SAAUC,GAAMzB,EAAI0B,QAAQD,GAAKE,WAAW,aAAaxB,EAAG,YAAY,CAACyB,GAAG,CAAC,MAAQ5B,EAAImB,cAAc,CAACnB,EAAIW,GAAG,SAAS,IAAI,GAAGR,EAAG,UAAU,CAACA,EAAG,cAAc,IAAI,IAAI,IAC1xB0B,EAAkB,G,YCDlB,EAAS,WAAa,IAAI7B,EAAI7C,KAAS8C,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,cAAc,CAAEN,EAAa,UAAEG,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,YAAY,CAACL,EAAIW,GAAG,WAAWR,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,WAAW,CAACL,EAAIW,GAAG,WAAYX,EAAiB,cAAEG,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,YAAY,CAACL,EAAIW,GAAG,SAASR,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIW,GAAG,WAAW,IACvY,EAAkB,G,YCWtB,GACErC,SAAU,OAAZ,OAAY,CAAZ,kBACA,+BACA,oCCfkX,I,wBCQ9WwD,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAI9B,EAAI7C,KAAS8C,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAAC4B,IAAI,UAAU1B,MAAM,CAAC,aAAa,CAAE2B,QAAS,GAAI,GAAK,SAAS,CAAC7B,EAAG,UAAU,CAACE,MAAM,CAAC,GAAK,QAAQ,OAASL,EAAI3C,aAAauE,GAAG,CAAC,UAAY5B,EAAIxB,iBAAiB,QAAUwB,EAAIV,eAAe,UAAYU,EAAIf,iBAAiB,WAAae,EAAIT,kBAAkB,UAAYS,EAAIP,iBAAiB,SAAWO,EAAIF,kBAAkB,CAACK,EAAG,UAAUH,EAAIO,GAAIP,EAAS,OAAE,SAASiC,EAAKxB,GAAO,OAAON,EAAG,SAAS,CAACO,IAAID,EAAMJ,MAAM,CAAC,OAAS4B,QAAU,IAAI,IAAI,IAAI,IACljB,EAAkB,G,YCD2V,SCQ7W,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCnBX,EAAS,WAAa,IAAIjC,EAAI7C,KAAS8C,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,UAAU,CAACA,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,KAAK,CAACG,YAAY,gBAAgBN,EAAIO,GAAIP,EAAiB,eAAE,SAASQ,GAAM,OAAOL,EAAG,KAAK,CAACO,IAAIF,GAAM,CAACL,EAAG,OAAO,CAACH,EAAIW,GAAGX,EAAIY,GAAGJ,GAAM,IAAIR,EAAIY,GAAGJ,IAASR,EAAIkC,aAAe,MAAQ,OAAQ1B,IAASR,EAAImC,OAAQhC,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,SAAS,CAACL,EAAIW,GAAG,QAAQX,EAAIoC,MAAM,MAAK,KAAKjC,EAAG,MAAM,CAACG,YAAY,0BAA0B,CAAGN,EAAIqC,cAAkJrC,EAAIoC,KAAvIjC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,KAAO,gBAAgBuB,GAAG,CAAC,MAAQ5B,EAAIsC,mBAAmB,CAACtC,EAAIW,GAAG,UAAoBX,EAAIqC,eAAiBrC,EAAIkC,eAAiBlC,EAAImC,OAAQhC,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,KAAO,kBAAkBuB,GAAG,CAAC,MAAQ5B,EAAIuC,kBAAkB,CAACvC,EAAIW,GAAG,UAAUX,EAAIoC,KAAMpC,EAAIqC,eAAiBrC,EAAIkC,eAAiBlC,EAAImC,OAAQhC,EAAG,YAAY,CAACqC,YAAY,CAAC,aAAa,QAAQnC,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,KAAO,uBAAuBuB,GAAG,CAAC,MAAQ5B,EAAIyC,oBAAoB,CAACzC,EAAIW,GAAG,UAAUX,EAAIoC,KAAKjC,EAAG,YAAY,CAACqC,YAAY,CAAC,aAAa,MAAM,cAAc,KAAKnC,MAAM,CAAC,KAAO,SAAS,KAAO,QAAQ,KAAO,yBAAyBuB,GAAG,CAAC,MAAQ5B,EAAI0C,cAAc,CAAC1C,EAAIW,GAAG,WAAW,GAAGR,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,QAAQ,QAAUL,EAAI2C,oBAAoB,MAAQ,OAAOf,GAAG,CAAC,iBAAiB,SAASd,GAAQd,EAAI2C,oBAAoB7B,KAAU,CAACX,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,WAAWiB,MAAM,CAACC,MAAOvB,EAAmB,gBAAEwB,SAAS,SAAUC,GAAMzB,EAAI4C,gBAAgBnB,GAAKE,WAAW,qBAAqBxB,EAAG,OAAO,CAACG,YAAY,gBAAgBD,MAAM,CAAC,KAAO,UAAUwC,KAAK,UAAU,CAAC1C,EAAG,YAAY,CAACyB,GAAG,CAAC,MAAQ,SAASd,GAAQd,EAAI2C,qBAAsB,KAAS,CAAC3C,EAAIW,GAAG,SAASR,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWuB,GAAG,CAAC,MAAQ5B,EAAI8C,oBAAoB,CAAC9C,EAAIW,GAAG,UAAU,IAAI,GAAGR,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,QAAQ,QAAUL,EAAI+C,oBAAoB,MAAQ,OAAOnB,GAAG,CAAC,iBAAiB,SAASd,GAAQd,EAAI+C,oBAAoBjC,KAAU,CAACX,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,WAAWiB,MAAM,CAACC,MAAOvB,EAAkB,eAAEwB,SAAS,SAAUC,GAAMzB,EAAIgD,eAAevB,GAAKE,WAAW,oBAAoBxB,EAAG,OAAO,CAACG,YAAY,gBAAgBD,MAAM,CAAC,KAAO,UAAUwC,KAAK,UAAU,CAAC1C,EAAG,YAAY,CAACyB,GAAG,CAAC,MAAQ,SAASd,GAAQd,EAAI+C,qBAAsB,KAAS,CAAC/C,EAAIW,GAAG,SAASR,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWuB,GAAG,CAAC,MAAQ5B,EAAIiD,0BAA0B,CAACjD,EAAIW,GAAG,UAAU,IAAI,IAAI,IACt6E,EAAkB,GCmFtB,G,oBAAA,CACE5C,KADF,WAEI,MAAO,CACL4E,qBAAqB,EACrBC,gBAAiB,GACjBG,qBAAqB,EACrBC,eAAgB,KAIpB1E,SAAU,OAAZ,OAAY,CAAZ,kBACA,2DACA,mCAGEC,QAAS,CACP+D,iBADJ,WAIMnF,KAAKwF,qBAAsB,EAE3BxF,KAAKyF,gBAAkB,IAGzBL,gBATJ,WASA,WACMpF,KAAK+F,SAAS,YAAa,QAAQC,MAAK,WAEtC,EAAR,mCAFA,UAGA,YACQ/D,QAAQC,IAAIV,OAIhB8D,kBAlBJ,WAmBMtF,KAAK4F,qBAAsB,EAC3B5F,KAAK6F,eAAiB,IAGxBF,kBAvBJ,WAyBW3F,KAAKyF,iBAKVzF,KAAKQ,OAAOoB,SAAS,gBAAiB5B,KAAKyF,iBAG3CzF,KAAKwF,qBAAsB,GAPzBxF,KAAKiG,SAASC,MAAM,aAUxBJ,wBApCJ,WAsCW9F,KAAK6F,gBAKV7F,KAAKQ,OAAOoB,SAAS,iBAAkB5B,KAAK6F,gBAE5C7F,KAAK4F,qBAAsB,GANzB5F,KAAKiG,SAASC,MAAM,WASxBX,YAhDJ,WAgDA,WACMvF,KAAK+F,SAAS,SAAU,QAAQC,MAAK,WACnC,EAAR,iCACQ,EAAR,6BAFA,UAGA,YACQ/D,QAAQC,IAAIV,UCxJkW,ICQlX,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCgBf,GACE2E,WAAY,CACVC,UAAJ,EACIC,SAAJ,EACIC,aAAJ,GAEExG,QANF,WAOIE,KAAKQ,OAAOoB,SAAS,kBAEvBT,SAAU,OAAZ,OAAY,CAAZ,kBACA,sDACA,mCAEEP,KAbF,WAcI,MAAJ,CACM2D,QAAN,KAIEnD,QAAS,CACP4C,YADJ,WACA,WAEMhE,KAAKQ,OAAOoB,SAAS,cAAe5B,KAAK+E,aAA/C,sCACQ9C,QAAQC,IAAIqE,GACZ,EAAR,iBACQ,EAAR,cAHA,UAIA,mBC7D8V,ICQ1V,G,UAAY,eACd,EACA3D,EACA8B,GACA,EACA,KACA,WACA,OAIa,e,2CCnBf","file":"js/chunk-69070da2.c62db436.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=a96cc8d2&lang=scss&scoped=true&\"","<template>\n<div>\n  <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card\">\n    <v-stage\n      id=\"stage\"\n      :config=\"stageConfig\"\n      @mousedown=\"mousedownHandler\"\n      @mouseup=\"mouseupHandler\"\n      @mousemove=\"mousemoveHandler\"\n      @touchstart=\"touchstartHandler\"\n      @touchmove=\"touchmoveHandler\"\n      @touchend=\"touchendHandler\"\n    >\n      <v-layer>\n        <v-line\n          v-for=\"(line, index) in lines\"\n          :key=\"index\"\n          :config=\"line\"\n        />\n      </v-layer>\n    </v-stage>\n  </el-card>\n</div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  created(){\n  },\n\n  mounted(){\n    this.getXb =  document.getElementById('card').clientWidth\n    this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n    this.$store.commit('initXb', this.getXb)\n    const that = this\n    window.addEventListener('touchmove', function(){}, { passive: false })\n  },\n\n  data() {\n    return {\n      linesIndex:0,\n      lineIndex:0,\n      // 画布配置\n      stageConfig: {\n        width: 1300,\n        height: 450\n      },\n      // 绘画状态\n      painting: false,\n      stroke: '#000000',\n      strokeWidth: 1,\n      getXb:1,\n    }\n  },\n\n  computed: {\n    ...mapState(['lines']),\n    ...mapGetters(['isGameStarted', 'isGameHolder']),\n  },\n\n  methods: {\n    // 鼠标按下\n    mousedownHandler(e) {\n      if (!this.isGameHolder || !this.isGameHolder) return\n      this.painting = true\n      // 创建一个新线条\n      const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [e.evt.layerX / this.getXb, e.evt.layerY]\n      }\n      // 请求服务器\n      this.$store.dispatch('sendDrawNewLine', newLine)\n      // 本地画线, 存到vuex中\n      this.$store.commit('drawNewLine', newLine)\n    },\n\n    // 鼠标拖动\n    mousemoveHandler(e) {\n      if (!this.painting) return\n      const lastLine = this.lines[this.lines.length - 1]\n      lastLine.points = lastLine.points.concat([e.evt.layerX / this.getXb, e.evt.layerY]) \n      console.log(\"11\"+lastLine.points[lastLine.points.length-2])\n      // 请求服务器\n      this.$store.dispatch('sendUpdateNewLine', lastLine)\n      this.$store.commit('updateNewLine1', lastLine)\n    },\n\n    // 鼠标释放\n    mouseupHandler() {\n      this.painting = false\n    },\n\n    // 笔按下\n    touchstartHandler(e) {\n      if (!this.isGameHolder || !this.isGameHolder) return\n      this.painting = true\n      let newX = e.evt.changedTouches[0].clientX-$('#card').offset().left\n      let newY = e.evt.changedTouches[0].clientY-$('#card').offset().top+ $(document).scrollTop()\n      // 创建一个新线条\n      const newLine = {\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        points: [newX / this.getXb , newY]\n      }\n      // 请求服务器\n      this.$store.dispatch('sendDrawNewLine', newLine)\n      // 本地画线, 存到vuex中\n      this.$store.commit('drawNewLine', newLine)\n     },\n\n    // 笔拖动\n    touchmoveHandler(e) {\n      if (!this.painting) return\n      this.nowX = document.getElementById('card').clientWidth\n      const lastLine = this.lines[this.lines.length - 1]\n      let newX = e.evt.changedTouches[0].clientX-$('#card').offset().left\n      let newY = e.evt.changedTouches[0].clientY-$('#card').offset().top+ $(document).scrollTop()\n      lastLine.points = lastLine.points.concat([newX / this.getXb , newY])\n\n      // 请求服务器\n      this.$store.dispatch('sendUpdateNewLine', lastLine)\n      this.$store.commit('updateNewLine1', lastLine)\n    },\n    // 笔释放\n\n    touchendHandler() {\n      this.painting = false\n    },\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-card{\n  touch-action: none;\n  height: 450;\n  overflow: hidden;\n}\n</style>\n\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=style&index=0&id=3d266235&lang=less&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=style&index=0&id=355547a3&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',{attrs:{\"height\":\"30\"}},[_c('app-header')],1),_c('el-container',[_c('el-aside',{staticClass:\"left-panel\",attrs:{\"width\":\"230px\"}},[_c('app-side-panel'),_c('div',[_vm._l((_vm.messages),function(item,index){return _c('div',{key:index},[_vm._v(\" \"+_vm._s(item)+\" \")])}),_c('el-input',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.sendMessage.apply(null, arguments)}},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_c('el-button',{on:{\"click\":_vm.sendMessage}},[_vm._v(\"发送\")])],2)],1),_c('el-main',[_c('app-stage')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header\"},[(_vm.connected)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"服务已连接\")]):_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"服务未连接\")]),(_vm.isGameStarted)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"上课中\")]):_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"还未上课\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-header\">\n    <el-tag v-if=\"connected\" type=\"success\">服务已连接</el-tag>\n    <el-tag v-else type=\"danger\">服务未连接</el-tag>\n\n    <el-tag v-if=\"isGameStarted\" type=\"success\">上课中</el-tag>\n    <el-tag v-else type=\"info\">还未上课</el-tag>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  computed: {\n    ...mapState(['connected']),\n    ...mapGetters(['isGameStarted'])\n  }\n}\n</script>\n\n<style scoped>\n.el-tag {\n  margin-right: 10px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-header.vue?vue&type=template&id=355547a3&scoped=true&\"\nimport script from \"./app-header.vue?vue&type=script&lang=js&\"\nexport * from \"./app-header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-header.vue?vue&type=style&index=0&id=355547a3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"355547a3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{ref:\"wrapper\",attrs:{\"body-style\":{ padding: 0 },\"id\":\"card\"}},[_c('v-stage',{attrs:{\"id\":\"stage\",\"config\":_vm.stageConfig},on:{\"mousedown\":_vm.mousedownHandler,\"mouseup\":_vm.mouseupHandler,\"mousemove\":_vm.mousemoveHandler,\"touchstart\":_vm.touchstartHandler,\"touchmove\":_vm.touchmoveHandler,\"touchend\":_vm.touchendHandler}},[_c('v-layer',_vm._l((_vm.lines),function(line,index){return _c('v-line',{key:index,attrs:{\"config\":line}})}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-stage.vue?vue&type=template&id=3d266235&scoped=true&\"\nimport script from \"./app-stage.vue?vue&type=script&lang=js&\"\nexport * from \"./app-stage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-stage.vue?vue&type=style&index=0&id=3d266235&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d266235\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',[_c('div',{staticClass:\"panel-area\"},[_c('ul',{staticClass:\"participants\"},_vm._l((_vm.teacherphones),function(item){return _c('li',{key:item},[_c('span',[_vm._v(_vm._s(item)+\" \"+_vm._s(item === _vm.teacherphone ? '（我）' : ''))]),(item === _vm.holder)?_c('el-tag',{attrs:{\"size\":\"mini\"}},[_vm._v(\"老师\")]):_vm._e()],1)}),0)]),_c('div',{staticClass:\"panel-area button-area\"},[(!_vm.isGameStarted)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.startGameHandler}},[_vm._v(\"开始上课\")]):_vm._e(),(_vm.isGameStarted && _vm.teacherphone === _vm.holder)?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\",\"icon\":\"el-icon-delete\"},on:{\"click\":_vm.stopGameHandler}},[_vm._v(\"结束上课\")]):_vm._e(),(_vm.isGameStarted && _vm.teacherphone !== _vm.holder)?_c('el-button',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"type\":\"success\",\"size\":\"small\",\"icon\":\"el-icon-magic-stick\"},on:{\"click\":_vm.answerGameHandler}},[_vm._v(\"回答问题\")]):_vm._e(),_c('el-button',{staticStyle:{\"margin-top\":\"5px\",\"margin-left\":\"0\"},attrs:{\"type\":\"danger\",\"size\":\"small\",\"icon\":\"el-icon-switch-button\"},on:{\"click\":_vm.exitHandler}},[_vm._v(\"退出课堂\")])],1),_c('el-dialog',{attrs:{\"title\":\"请设置答案\",\"visible\":_vm.resultDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.resultDialogVisible=$event}}},[_c('el-input',{attrs:{\"placeholder\":\"请输入您的答案\"},model:{value:(_vm.expectImageName),callback:function ($$v) {_vm.expectImageName=$$v},expression:\"expectImageName\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.resultDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveDialogHandler}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"请填写答案\",\"visible\":_vm.answerDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.answerDialogVisible=$event}}},[_c('el-input',{attrs:{\"placeholder\":\"请输入您的答案\"},model:{value:(_vm.inputImageName),callback:function ($$v) {_vm.inputImageName=$$v},expression:\"inputImageName\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.answerDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveAnswerDialogHandler}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-card>\n    <!-- 玩家列表 -->\n    <div class=\"panel-area\">\n      <ul class=\"participants\">\n        <li v-for=\"item in teacherphones\" :key=\"item\">\n          <span>{{ item }} {{ item === teacherphone ? '（我）' : '' }}</span>\n          <el-tag v-if=\"item === holder\" size=\"mini\">老师</el-tag>\n        </li>\n      </ul>\n    </div>\n\n    <!-- 按钮工具栏 -->\n    <div class=\"panel-area button-area\">\n      <el-button\n        v-if=\"!isGameStarted\"\n        type=\"primary\"\n        size=\"small\"\n        icon=\"el-icon-edit\"\n        @click=\"startGameHandler\"\n      >开始上课</el-button>\n\n      <el-button\n        v-if=\"isGameStarted && teacherphone === holder\"\n        type=\"warning\"\n        size=\"small\"\n        icon=\"el-icon-delete\"\n        @click=\"stopGameHandler\"\n      >结束上课</el-button>\n\n      <el-button\n        v-if=\"isGameStarted && teacherphone !== holder\"\n        type=\"success\"\n        size=\"small\"\n        icon=\"el-icon-magic-stick\"\n        @click=\"answerGameHandler\"\n        style=\"margin-top:20px\"\n      >回答问题</el-button>\n\n      <el-button\n        type=\"danger\"\n        size=\"small\"\n        icon=\"el-icon-switch-button\"\n        @click=\"exitHandler\"\n        style=\"margin-top:5px;margin-left:0\"\n      >退出课堂</el-button>\n    </div>\n\n    <!-- 弹出框：主持人设置答案 -->\n    <el-dialog\n      title=\"请设置答案\"\n      :visible.sync=\"resultDialogVisible\"\n      width=\"30%\"\n    >\n      <el-input v-model=\"expectImageName\" placeholder=\"请输入您的答案\" />\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"resultDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"saveDialogHandler\">确 定</el-button>\n      </span>\n    </el-dialog>\n\n    <!-- 弹出框：答题人设置答案 -->\n    <el-dialog\n      title=\"请填写答案\"\n      :visible.sync=\"answerDialogVisible\"\n      width=\"30%\"\n    >\n      <el-input v-model=\"inputImageName\" placeholder=\"请输入您的答案\" />\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"answerDialogVisible = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"saveAnswerDialogHandler\"\n        >确 定</el-button>\n      </span>\n    </el-dialog>\n  </el-card>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\n\nexport default {\n  data() {\n    return {\n      resultDialogVisible: false,\n      expectImageName: '',\n      answerDialogVisible: false,\n      inputImageName: ''\n    }\n  },\n\n  computed: {\n    ...mapState(['teacherphone', 'teacherphones', 'holder']),\n    ...mapGetters(['isGameStarted'])\n  },\n\n  methods: {\n    startGameHandler() {\n      // 开始游戏\n      // 1. 显示弹框\n      this.resultDialogVisible = true\n      // 2. 清空输入框内容\n      this.expectImageName = ''\n    },\n\n    stopGameHandler() {\n      this.$confirm('确定要终止游戏吗?', '温馨提示').then(() => {\n        // 发送游戏终止申请\n        this.$store.dispatch('sendStopGame')\n      }).catch(e => {\n        console.log(e)\n      })\n    },\n\n    answerGameHandler() {\n      this.answerDialogVisible = true\n      this.inputImageName = ''\n    },\n\n    saveDialogHandler() {\n      // 1. 校验答案是否为空\n      if (!this.expectImageName) {\n        this.$message.error('答案不能为空哦!')\n        return\n      }\n      // 2. 发送开始游戏的申请\n      this.$store.dispatch('sendStartGame', this.expectImageName)\n\n      // 3. 关闭弹框\n      this.resultDialogVisible = false\n    },\n\n    saveAnswerDialogHandler() {\n      // 1. 检查答案是否为空\n      if (!this.inputImageName) {\n        this.$message.error('答案不能为空')\n        return\n      }\n      // 2. 将答案发送到服务器\n      this.$store.dispatch('sendAnswerGame', this.inputImageName)\n      // 3. 关闭弹出框\n      this.answerDialogVisible = false\n    },\n\n    exitHandler() {\n      this.$confirm('是否退出游戏', '温馨提示').then(() => {\n        this.$store.dispatch('sendUserLeave')\n        this.$router.replace('/login')\n      }).catch(e => {\n        console.log(e)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.panel-area {\n  margin: 10px 0;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-side-panel.vue?vue&type=template&id=004bccc6&scoped=true&\"\nimport script from \"./app-side-panel.vue?vue&type=script&lang=js&\"\nexport * from \"./app-side-panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-side-panel.vue?vue&type=style&index=0&id=004bccc6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"004bccc6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container>\n    <!-- 布局：头部 -->\n    <el-header height=\"30\">\n      <app-header />\n    </el-header>\n\n    <!-- 布局：主体 -->\n    <el-container>\n      <!-- 左边 -->\n      <el-aside width=\"230px\" class=\"left-panel\">\n        <app-side-panel />\n        <div>\n          <div v-for = \"(item,index) in messages\" :key = \"index\">\n            {{item}}\n          </div>\n          <el-input v-model = \"message\" @keyup.enter.native = \"sendMessage\"></el-input>\n          <el-button @click = \"sendMessage\">发送</el-button>\n        </div>\n        \n      </el-aside>\n\n      <!-- 右边 -->\n      <el-main>\n        <app-stage />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport AppHeader from './components/app-header'\nimport AppStage from './components/app-stage'\nimport AppSidePanel from './components/app-side-panel'\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  components: {\n    AppHeader,\n    AppStage,\n    AppSidePanel\n  },\n  created() {\n    this.$store.dispatch('sendUserEnter')\n  },\n  computed: {\n    ...mapState(['teacherphone', 'messages', 'holder']),\n    ...mapGetters(['isGameStarted'])\n  },\n  data(){\n    return{\n      message:\"\",\n      // mymessages:[]\n    }\n  },\n  methods: {\n    sendMessage(){\n     \n      this.$store.dispatch('sendMessage', this.teacherphone  + \" : \"+ this.message).then((result) => {\n        console.log(result)\n        this.messages.push(result)\n        this.message = \"\"\n      }).catch((err) => {\n        \n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n.left-panel {\n  padding: 20px;\n}\n// .el-main{\n//   box-shadow: 0 2px 12px 0 rgb(0 0 0 / 10%);\n//   border: #EBEEF5 solid 1px;\n// }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a96cc8d2&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a96cc8d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a96cc8d2\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=style&index=0&id=004bccc6&lang=scss&scoped=true&\""],"sourceRoot":""}