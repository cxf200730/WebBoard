{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.date.to-string.js","webpack:///src/views/Student2/components/app-stage.vue","webpack:///./src/views/Student2/components/app-stage.vue?18d2","webpack:///./node_modules/core-js/modules/web.timers.js","webpack:///./src/views/Student2/components/app-side-panel.vue?9b47","webpack:///./node_modules/core-js/modules/es.date.now.js","webpack:///./src/views/Student2/index.vue?28cd","webpack:///./src/views/Student2/components/app-header.vue?e936","webpack:///src/views/Student/components/app-header.vue","webpack:///./src/views/Student2/components/app-header.vue?48ff","webpack:///./src/views/Student2/components/app-header.vue","webpack:///./src/views/Student2/components/app-stage.vue?8874","webpack:///./src/views/Student2/components/app-stage.vue?a637","webpack:///./src/views/Student2/components/app-stage.vue","webpack:///./src/views/Student2/components/app-side-panel.vue?df71","webpack:///src/views/Student2/components/app-side-panel.vue","webpack:///./src/views/Student2/components/app-side-panel.vue?1242","webpack:///./src/views/Student2/components/app-side-panel.vue","webpack:///src/views/Student2/index.vue","webpack:///./src/views/Student2/index.vue?36cc","webpack:///./src/views/Student2/index.vue","webpack:///./src/views/Student2/components/app-header.vue?5628","webpack:///./src/views/Student2/index.vue?82eb"],"names":["redefine","DatePrototype","Date","prototype","INVALID_DATE","TO_STRING","nativeDateToString","getTime","NaN","value","call","this","created","mounted","window","addEventListener","getXb","getYb","stageConfig","width","$refs","wrapper","$el","offsetWidth","height","offsetHeight","$store","commit","data","computed","methods","chooseItem","linesIndex","index","remove","localStorage","removeItem","$router","push","touchstartHandler","painting","points","newX","stroke","strokeWidth","lineCap","lineJoin","preventDefault","rotation","newLine","touchmoveHandler","nowX","document","getElementById","clientWidth","lastLine","concat","bezier","touchendHandler","$","global","userAgent","slice","MSIE","test","wrap","scheduler","handler","timeout","boundArgs","arguments","length","args","undefined","Function","apply","bind","forced","setTimeout","setInterval","target","stat","now","render","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_v","_s","classCode","studentCode","nowDate","minute","startTime","that","beforeDestroy","clearInterval","component","ref","padding","on","imgConfig","_l","line","key","startGameHandler","resultDialogVisible","expectImageName","stopGameHandler","$confirm","then","console","log","e","answerGameHandler","answerDialogVisible","inputImageName","saveDialogHandler","dispatch","$message","error","saveAnswerDialogHandler","exitHandler","components","AppHeader","AppStage","AppSidePanel","lastTouchEnd","documentElement","event","passive","message","sendMessage","result"],"mappings":"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","file":"js/chunk-cc8b0676.5705c3b8.js","sourcesContent":["var redefine = require('../internals/redefine');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = DatePrototype[TO_STRING];\nvar getTime = DatePrototype.getTime;\n\n// `Date.prototype.toString` method\n// https://tc39.es/ecma262/#sec-date.prototype.tostring\nif (new Date(NaN) + '' != INVALID_DATE) {\n  redefine(DatePrototype, TO_STRING, function toString() {\n    var value = getTime.call(this);\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return value === value ? nativeDateToString.call(this) : INVALID_DATE;\n  });\n}\n","<template>\n   <el-card ref=\"wrapper\" :body-style=\"{ padding: 0 }\" id=\"card\">\n    <v-stage\n      id=\"stage\"\n      :config=\"stageConfig\"\n      @touchstart=\"touchstartHandler\"\n      @touchmove=\"touchmoveHandler\"\n      @touchend=\"touchendHandler\"\n    >\n      <v-layer>\n        <v-image\n            :config=\"imgConfig\">\n          </v-image>\n        <v-line\n          v-for=\"(line, index) in lines\"\n          :key=\"index\"\n          :config=\"line\"\n        />\n        \n      </v-layer>\n    </v-stage>\n  </el-card>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  created(){\n    const image = new window.Image();\n        image.src = \"\";\n        image.onload = () => {\n            // set image only when it is loaded\n            this.imgConfig.image = image;\n        };\n  },\n  mounted(){\n    // this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n    window.addEventListener('touchmove', function(){}, { passive: false })\n    this.getXb =  document.getElementById('card').clientWidth\n    this.getYb =  document.getElementById('card').clientHeight\n    this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n    this.stageConfig.height = this.$refs.wrapper.$el.offsetHeight\n    // console.log(this.$refs.wrapper.getNode());\n    this.$store.commit('initXb', this.getXb)\n    this.$store.commit('initYb', this.getYb)\n\n    },\n  data() {\n    return {\n      getXb:1,\n      getYb:1,\n        // 画布配置\n        stageConfig: {\n            width: 560,\n            height: 450\n        },\n        imgConfig:{\n          image:\"\",\n          width: 560\n        },\n        // 绘画状态\n        painting: false,\n        stroke: '#FFFFFF',\n        strokeWidth: 1,\n        pictureIndex:0,\n        imgList:[\n          \"\",\n          \"http://qxg2acp58.hn-bkt.clouddn.com/makeexam1629100825425.png\",\n          \"http://qxg2acp58.hn-bkt.clouddn.com/makeexam1629100889920.png\",\n          \"http://qxg2acp58.hn-bkt.clouddn.com/makeexam93.png\"\n       ]\n    }\n  },\n  computed: {\n    ...mapState(['lines','allpicture']),\n    ...mapGetters(['isGameStarted', 'isGameHolder'])\n  },\n\n \n  methods: {\n    chooseItem(index){\n      this.linesIndex = index - 1\n      \n      const that = this\n      this.stageConfig.width = this.$refs.wrapper.$el.offsetWidth\n      this.stageConfig.height = this.$refs.wrapper.$el.offsetHeight\n      // console.log(this.$refs.wrapper.$el.offsetWidth);\n      const image = new window.Image();\n        image.src = this.imgList[index-1];\n        image.onload = () => {\n            // set image only when it is loaded\n            that.imgConfig.image = image;\n        };\n\n    },\n    remove(){\n      localStorage.removeItem('studentcode');\n      localStorage.removeItem('classcode');\n      localStorage.removeItem('teacherphone')\n      this.$router.push('login')\n    },\n    \n    // 笔按下\n    touchstartHandler(e) {\n      // alert(2)\n      // if (!this.isGameHolder || !this.isGameHolder) return\n      this.painting = true\n      let newX = e.evt.changedTouches[0].clientX-$('#card').offset().left\n      let newY = e.evt.changedTouches[0].clientY-$('#card').offset().top+ $(document).scrollTop()\n      // 创建一个新线条\n      const newLine = {\n        points: [newX / this.getXb , newY / this.getYb,(newX + 0.5) / this.getXb,(newY + 0.5) / this.getYb],\n        stroke: this.stroke,\n        strokeWidth: this.strokeWidth,\n        lineCap: 'round',\n        //341458\n        lineJoin: 'round',\n        preventDefault: false,\n        // tension:0.1,\n        // bezier:true,\n        // draggable:true\n        // fill:\"#FFF111\",\n        rotation:0.1,\n        // shadowBlur:0.2\n      }\n      // console.log(newLine);\n      // 请求服务器\n      // this.$store.dispatch('sendDrawNewLine', newLine)\n      // 本地画线, 存到vuex中\n      this.$store.commit('drawNewLine', newLine)\n     },\n\n    // 笔拖动\n    touchmoveHandler(e) {\n      if (!this.painting) return\n      this.nowX = document.getElementById('card').clientWidth\n      const lastLine = this.lines[this.lines.length - 1]\n      let newX = e.evt.changedTouches[0].clientX-$('#card').offset().left\n      let newY = e.evt.changedTouches[0].clientY-$('#card').offset().top+ $(document).scrollTop()\n      lastLine.points = lastLine.points.concat([newX / this.getXb , newY / this.getYb])\n      if(lastLine.points.length > 6){\n        lastLine.bezier = true\n      }\n      // 请求服务器\n      // this.$store.dispatch('sendUpdateNewLine', lastLine)\n      this.$store.commit('updateNewLine1', lastLine)\n    },\n\n    // 笔释放\n    touchendHandler() {\n      this.painting = false\n    },\n    \n    \n  }\n}\n</script>\n<style lang=\"less\" scoped>\n.el-card{\n  touch-action: none;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  background-color: rgb(33, 33, 33);\n  border: 0;\n  border-radius: 0;\n}\n\n.info{\n       height: 30px;\n       width: 560px;\n       padding: 10px;\n       line-height: 30px;\n      //  border:#000000 solid 1px;\n       display: flex;\n       justify-content: space-between;\n      // background-color: chartreuse;\n     }\n\n\n     .item{\n       margin-bottom: 10px;\n     }\n    .el-scrollbar {\n    overflow: auto;\n    position: relative;\n    max-height: 570px;\n    width: 70px;\n    // overflow-x: scroll;\n}\n</style>\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=style&index=0&id=60828563&lang=less&scoped=true&\"","var $ = require('../internals/export');\nvar global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar slice = [].slice;\nvar MSIE = /MSIE .\\./.test(userAgent); // <- dirty ie9- check\n\nvar wrap = function (scheduler) {\n  return function (handler, timeout /* , ...arguments */) {\n    var boundArgs = arguments.length > 2;\n    var args = boundArgs ? slice.call(arguments, 2) : undefined;\n    return scheduler(boundArgs ? function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof handler == 'function' ? handler : Function(handler)).apply(this, args);\n    } : handler, timeout);\n  };\n};\n\n// ie9- setTimeout & setInterval additional parameters fix\n// https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timers\n$({ global: true, bind: true, forced: MSIE }, {\n  // `setTimeout` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-settimeout\n  setTimeout: wrap(global.setTimeout),\n  // `setInterval` method\n  // https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-setinterval\n  setInterval: wrap(global.setInterval)\n});\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=style&index=0&id=865fb3c6&lang=less&scoped=true&\"","var $ = require('../internals/export');\n\n// `Date.now` method\n// https://tc39.es/ecma262/#sec-date.now\n$({ target: 'Date', stat: true }, {\n  now: function now() {\n    return new Date().getTime();\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-header',{attrs:{\"height\":\"60px\"}}),_c('el-main',[_c('app-stage')],1),_c('el-footer',{attrs:{\"height\":\"110px\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-header\"},[_c('el-tag',[_vm._v(\"房间号：\"+_vm._s(_vm.classCode))]),_c('el-tag',[_vm._v(\"学号\"+_vm._s(_vm.studentCode))]),_c('el-tag',[_vm._v(\"开始时间：\"+_vm._s(_vm.nowDate))]),(this.minute <= 0)?_c('el-tag',[_vm._v(\"开始时长：\"+_vm._s(_vm.startTime)+\"秒\")]):_c('el-tag',[_vm._v(\"开始时长：\"+_vm._s(_vm.minute)+\"分\"+_vm._s(_vm.startTime)+\"秒\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-header\">\n     <el-tag>房间号：{{classCode}}</el-tag> \n     <el-tag>学号{{studentCode}}</el-tag> \n     <el-tag>开始时间：{{nowDate}}</el-tag>\n     <el-tag v-if=\"this.minute <= 0\">开始时长：{{startTime}}秒</el-tag>\n     <el-tag v-else>开始时长：{{minute}}分{{startTime}}秒</el-tag>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  created(){\n      this.classCode = localStorage.getItem('classcode'),\n      this.studentCode = localStorage.getItem('studentcode'),\n      this.nowDate = new Date().toLocaleString(),\n      this.startTime = 0\n      this.minute = 0\n  },\n  mounted(){\n    const that = this\n    this.nowDate = setInterval(()=>{\n      this.nowDate = new Date().toLocaleString()\n      this.startTime++\n      if(this.startTime === 60){\n        that.minute++\n        that.startTime = 0\n      }\n    },1000)\n  },\n  beforeDestroy(){\n    clearInterval(this.nowDate)\n  },\n  computed: {\n    ...mapState(['connected']),\n    ...mapGetters(['isGameStarted'])\n  },\n  data(){\n    return{\n      classCode:\"\",\n      studentCode:\"\",\n      nowDate:\"\",\n      startTime:\"\",\n      minute:\"\"\n    }\n  },\n \n}\n</script>\n\n<style lang = \"less\" scoped>\n.app-header{\n  /* background-color: aqua; */\n  padding-top: 10px;\n  height: 30px;\n\n  .el-tag {\n  margin-right: 10px;\n}\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-header.vue?vue&type=template&id=33972631&scoped=true&\"\nimport script from \"./app-header.vue?vue&type=script&lang=js&\"\nexport * from \"./app-header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-header.vue?vue&type=style&index=0&id=33972631&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33972631\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{ref:\"wrapper\",attrs:{\"body-style\":{ padding: 0 },\"id\":\"card\"}},[_c('v-stage',{attrs:{\"id\":\"stage\",\"config\":_vm.stageConfig},on:{\"touchstart\":_vm.touchstartHandler,\"touchmove\":_vm.touchmoveHandler,\"touchend\":_vm.touchendHandler}},[_c('v-layer',[_c('v-image',{attrs:{\"config\":_vm.imgConfig}}),_vm._l((_vm.lines),function(line,index){return _c('v-line',{key:index,attrs:{\"config\":line}})})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-stage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-stage.vue?vue&type=template&id=60828563&scoped=true&\"\nimport script from \"./app-stage.vue?vue&type=script&lang=js&\"\nexport * from \"./app-stage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-stage.vue?vue&type=style&index=0&id=60828563&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60828563\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  \n</template>\n\n<script>\nimport { mapGetters, mapState } from 'vuex'\n\nexport default {\n  data() {\n    return {\n     \n    }\n  },\n\n  computed: {\n    \n  },\n\n  methods: {\n    startGameHandler() {\n      // 开始游戏\n      // 1. 显示弹框\n      this.resultDialogVisible = true\n      // 2. 清空输入框内容\n      this.expectImageName = ''\n    },\n\n    stopGameHandler() {\n      this.$confirm('确定要终止游戏吗?', '温馨提示').then(() => {\n        // 发送游戏终止申请\n        this.$store.dispatch('sendStopGame')\n      }).catch(e => {\n        console.log(e)\n      })\n    },\n\n    answerGameHandler() {\n      this.answerDialogVisible = true\n      this.inputImageName = ''\n    },\n\n    saveDialogHandler() {\n      // 1. 校验答案是否为空\n      if (!this.expectImageName) {\n        this.$message.error('答案不能为空哦!')\n        return\n      }\n      // 2. 发送开始上课的申请\n      this.$store.dispatch('sendStartGame', this.expectImageName)\n\n      // 3. 关闭弹框\n      this.resultDialogVisible = false\n    },\n\n    saveAnswerDialogHandler() {\n      // 1. 检查答案是否为空\n      if (!this.inputImageName) {\n        this.$message.error('答案不能为空')\n        return\n      }\n      // 2. 将答案发送到服务器\n      this.$store.dispatch('sendAnswerGame', this.inputImageName)\n      // 3. 关闭弹出框\n      this.answerDialogVisible = false\n    },\n\n    exitHandler() {\n      this.$confirm('是否退出游戏', '温馨提示').then(() => {\n        this.$store.dispatch('sendUserLeave')\n        this.$router.replace('/login')\n      }).catch(e => {\n        console.log(e)\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n.panel-area {\n  margin: 10px 0;\n}\n/deep/ .el-table{\n  .el-table_body-wrapper{\n    height: 10px\n  }\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-side-panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./app-side-panel.vue?vue&type=template&id=865fb3c6&scoped=true&\"\nimport script from \"./app-side-panel.vue?vue&type=script&lang=js&\"\nexport * from \"./app-side-panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./app-side-panel.vue?vue&type=style&index=0&id=865fb3c6&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"865fb3c6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container>\n    <!-- 布局：头部 -->\n    <el-header height=60px>\n      \n    </el-header>\n\n    <!-- 布局：主体 -->\n      <!-- 右边 -->\n      <el-main>\n        <app-stage />\n      </el-main>\n      <el-footer height = \"110px\"></el-footer>\n  </el-container>\n</template>\n\n<script>\nimport AppHeader from './components/app-header'\nimport AppStage from './components/app-stage'\nimport AppSidePanel from './components/app-side-panel'\nimport { mapGetters, mapState } from 'vuex'\nexport default {\n  components: {\n    AppHeader,\n    AppStage,\n    AppSidePanel\n  },\n  created() {\n    this.$store.dispatch('sendUserEnter')\n  },\n  mounted(){\n    // document.body.addEventListener(\"touchmove\", this.defferScroll, {passive: false});\n    // document.body.addEventListener(\"wheel\", this.defferScroll, {passive: false});\n    // 禁用双击放大\n    var lastTouchEnd = 0;\n    document.documentElement.addEventListener('touchend', function (event) {\n      var now = Date.now();\n      if (now - lastTouchEnd <= 300) {\n          event.preventDefault();\n      }\n      lastTouchEnd = now;\n    },{\n      passive: false\n    });\n\n    // 禁用双指放大\n    // document.documentElement.addEventListener('touchstart', function (event) {\n    //   if (event.touches.length > 1) {\n    //       event.preventDefault();\n    //   }\n    // },{\n    //   passive: false\n    // });\n\n },\n  computed: {\n    ...mapState(['teacherphone', 'messages', 'holder']),\n    ...mapGetters(['isGameStarted'])\n  },\n  data(){\n    return{\n      message:\"\",\n       defferScroll: function (event) {\n            event.preventDefault()\n        }\n      // mymessages:[]\n    }\n  },\n  methods: {\n    sendMessage(){\n     if(this.message === \"\" || this.message.length == 0){\n       return\n     }\n     const message = {\n       teacherphone:localStorage.getItem('teacherphone'),\n       msg:this.message\n     }\n      this.$store.dispatch('sendMessage', message).then((result) => {\n        console.log(result)\n        // this.messages.push(result)\n        // this.message = \"\"\n      }).catch((err) => {\n        \n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-header{\n  background-color: #000000;\n  margin: 0;\n  padding: 0;\n}\n.el-main{\n  padding: 0;\n  margin: 0;\n  max-height: 700px;\n}\n.el-container{\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow-y: scroll;\n  // min-height: 94%;\n  // max-height: 94%;\n  // background-color: aqua;\n}\n\n.el-footer{\n  background-color: #000000;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7e3a3952&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7e3a3952&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e3a3952\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./app-header.vue?vue&type=style&index=0&id=33972631&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7e3a3952&lang=less&scoped=true&\""],"sourceRoot":""}