(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a0ce51b"],{"057f":function(e,t,n){var r=n("fc6a"),i=n("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return i(e)}catch(t){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?c(e):i(r(e))}},"0cb2":function(e,t,n){var r=n("7b0b"),i=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,s,l,u){var f=n+e.length,d=s.length,p=c;return void 0!==l&&(l=r(l),p=o),a.call(u,p,(function(r,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(f);case"<":o=l[a.slice(1,-1)];break;default:var c=+a;if(0===c)return r;if(c>d){var u=i(c/10);return 0===u?r:u<=d?void 0===s[u-1]?a.charAt(1):s[u-1]+a.charAt(1):r}o=s[c-1]}return void 0===o?"":o}))}},"107c":function(e,t,n){var r=n("d039");e.exports=r((function(){var e=RegExp("(?<a>b)","string".charAt(5));return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"14c3":function(e,t,n){var r=n("c6b6"),i=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},"159b":function(e,t,n){var r=n("da84"),i=n("fdbc"),a=n("17c2"),o=n("9112");for(var c in i){var s=r[c],l=s&&s.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(u){l.forEach=a}}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),a=i("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"3fce":function(e,t,n){"use strict";n("490e")},"490e":function(e,t,n){},5319:function(e,t,n){"use strict";var r=n("d784"),i=n("d039"),a=n("825a"),o=n("50c4"),c=n("a691"),s=n("1d80"),l=n("8aa5"),u=n("0cb2"),f=n("14c3"),d=n("b622"),p=d("replace"),g=Math.max,h=Math.min,v=function(e){return void 0===e?e:String(e)},b=function(){return"$0"==="a".replace(/./,"$0")}(),m=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),y=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));r("replace",(function(e,t,n){var r=m?"$":"$0";return[function(e,n){var r=s(this),i=void 0==e?void 0:e[p];return void 0!==i?i.call(e,r,n):t.call(String(r),e,n)},function(e,i){if("string"===typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var s=n(t,this,e,i);if(s.done)return s.value}var d=a(this),p=String(e),b="function"===typeof i;b||(i=String(i));var m=d.global;if(m){var y=d.unicode;d.lastIndex=0}var x=[];while(1){var w=f(d,p);if(null===w)break;if(x.push(w),!m)break;var O=String(w[0]);""===O&&(d.lastIndex=l(p,o(d.lastIndex),y))}for(var S="",j=0,k=0;k<x.length;k++){w=x[k];for(var E=String(w[0]),$=g(h(c(w.index),p.length),0),I=[],_=1;_<w.length;_++)I.push(v(w[_]));var N=w.groups;if(b){var D=[E].concat(I,$,p);void 0!==N&&D.push(N);var P=String(i.apply(void 0,D))}else P=u(E,p,$,I,N,i);$>=j&&(S+=p.slice(j,$)+P,j=$+E.length)}return S+p.slice(j)}]}),!y||!b||m)},"746f":function(e,t,n){var r=n("428f"),i=n("5135"),a=n("e538"),o=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},8290:function(e,t,n){},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9263:function(e,t,n){"use strict";var r=n("ad6d"),i=n("9f7f"),a=n("5692"),o=n("7c73"),c=n("69f3").get,s=n("fce3"),l=n("107c"),u=RegExp.prototype.exec,f=a("native-string-replace",String.prototype.replace),d=u,p=function(){var e=/a/,t=/b*/g;return u.call(e,"a"),u.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),g=i.UNSUPPORTED_Y||i.BROKEN_CARET,h=void 0!==/()??/.exec("")[1],v=p||h||g||s||l;v&&(d=function(e){var t,n,i,a,s,l,v,b=this,m=c(b),y=m.raw;if(y)return y.lastIndex=b.lastIndex,t=d.call(y,e),b.lastIndex=y.lastIndex,t;var x=m.groups,w=g&&b.sticky,O=r.call(b),S=b.source,j=0,k=e;if(w&&(O=O.replace("y",""),-1===O.indexOf("g")&&(O+="g"),k=String(e).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&"\n"!==e[b.lastIndex-1])&&(S="(?: "+S+")",k=" "+k,j++),n=new RegExp("^(?:"+S+")",O)),h&&(n=new RegExp("^"+S+"$(?!\\s)",O)),p&&(i=b.lastIndex),a=u.call(w?n:b,k),w?a?(a.input=a.input.slice(j),a[0]=a[0].slice(j),a.index=b.lastIndex,b.lastIndex+=a[0].length):b.lastIndex=0:p&&a&&(b.lastIndex=b.global?a.index+a[0].length:i),h&&a&&a.length>1&&f.call(a[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(a[s]=void 0)})),a&&x)for(a.groups=l=o(null),s=0;s<x.length;s++)v=x[s],l[v[0]]=a[v[1]];return a}),e.exports=d},9416:function(e,t,n){"use strict";n("f9a7")},"9f7f":function(e,t,n){var r=n("d039"),i=function(e,t){return RegExp(e,t)};t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a4d3:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("d066"),o=n("c430"),c=n("83ab"),s=n("4930"),l=n("fdbf"),u=n("d039"),f=n("5135"),d=n("e8b5"),p=n("861d"),g=n("825a"),h=n("7b0b"),v=n("fc6a"),b=n("c04e"),m=n("5c6c"),y=n("7c73"),x=n("df75"),w=n("241c"),O=n("057f"),S=n("7418"),j=n("06cf"),k=n("9bf2"),E=n("d1e7"),$=n("9112"),I=n("6eeb"),_=n("5692"),N=n("f772"),D=n("d012"),P=n("90e3"),H=n("b622"),G=n("e538"),R=n("746f"),A=n("d44e"),C=n("69f3"),V=n("b727").forEach,T=N("hidden"),U="Symbol",z="prototype",L=H("toPrimitive"),W=C.set,J=C.getterFor(U),Y=Object[z],M=i.Symbol,B=a("JSON","stringify"),F=j.f,K=k.f,X=O.f,Q=E.f,q=_("symbols"),Z=_("op-symbols"),ee=_("string-to-symbol-registry"),te=_("symbol-to-string-registry"),ne=_("wks"),re=i.QObject,ie=!re||!re[z]||!re[z].findChild,ae=c&&u((function(){return 7!=y(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=F(Y,t);r&&delete Y[t],K(e,t,n),r&&e!==Y&&K(Y,t,r)}:K,oe=function(e,t){var n=q[e]=y(M[z]);return W(n,{type:U,tag:e,description:t}),c||(n.description=t),n},ce=l?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof M},se=function(e,t,n){e===Y&&se(Z,t,n),g(e);var r=b(t,!0);return g(n),f(q,r)?(n.enumerable?(f(e,T)&&e[T][r]&&(e[T][r]=!1),n=y(n,{enumerable:m(0,!1)})):(f(e,T)||K(e,T,m(1,{})),e[T][r]=!0),ae(e,r,n)):K(e,r,n)},le=function(e,t){g(e);var n=v(t),r=x(n).concat(ge(n));return V(r,(function(t){c&&!fe.call(n,t)||se(e,t,n[t])})),e},ue=function(e,t){return void 0===t?y(e):le(y(e),t)},fe=function(e){var t=b(e,!0),n=Q.call(this,t);return!(this===Y&&f(q,t)&&!f(Z,t))&&(!(n||!f(this,t)||!f(q,t)||f(this,T)&&this[T][t])||n)},de=function(e,t){var n=v(e),r=b(t,!0);if(n!==Y||!f(q,r)||f(Z,r)){var i=F(n,r);return!i||!f(q,r)||f(n,T)&&n[T][r]||(i.enumerable=!0),i}},pe=function(e){var t=X(v(e)),n=[];return V(t,(function(e){f(q,e)||f(D,e)||n.push(e)})),n},ge=function(e){var t=e===Y,n=X(t?Z:v(e)),r=[];return V(n,(function(e){!f(q,e)||t&&!f(Y,e)||r.push(q[e])})),r};if(s||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=P(e),n=function(e){this===Y&&n.call(Z,e),f(this,T)&&f(this[T],t)&&(this[T][t]=!1),ae(this,t,m(1,e))};return c&&ie&&ae(Y,t,{configurable:!0,set:n}),oe(t,e)},I(M[z],"toString",(function(){return J(this).tag})),I(M,"withoutSetter",(function(e){return oe(P(e),e)})),E.f=fe,k.f=se,j.f=de,w.f=O.f=pe,S.f=ge,G.f=function(e){return oe(H(e),e)},c&&(K(M[z],"description",{configurable:!0,get:function(){return J(this).description}}),o||I(Y,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:M}),V(x(ne),(function(e){R(e)})),r({target:U,stat:!0,forced:!s},{for:function(e){var t=String(e);if(f(ee,t))return ee[t];var n=M(t);return ee[t]=n,te[n]=t,n},keyFor:function(e){if(!ce(e))throw TypeError(e+" is not a symbol");if(f(te,e))return te[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!c},{create:ue,defineProperty:se,defineProperties:le,getOwnPropertyDescriptor:de}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pe,getOwnPropertySymbols:ge}),r({target:"Object",stat:!0,forced:u((function(){S.f(1)}))},{getOwnPropertySymbols:function(e){return S.f(h(e))}}),B){var he=!s||u((function(){var e=M();return"[null]"!=B([e])||"{}"!=B({a:e})||"{}"!=B(Object(e))}));r({target:"JSON",stat:!0,forced:he},{stringify:function(e,t,n){var r,i=[e],a=1;while(arguments.length>a)i.push(arguments[a++]);if(r=t,(p(t)||void 0!==e)&&!ce(e))return d(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!ce(t))return t}),i[1]=t,B.apply(null,i)}})}M[z][L]||$(M[z],L,M[z].valueOf),A(M,U),D[T]=!0},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b64b:function(e,t,n){var r=n("23e7"),i=n("7b0b"),a=n("df75"),o=n("d039"),c=o((function(){a(1)}));r({target:"Object",stat:!0,forced:c},{keys:function(e){return a(i(e))}})},d2c4:function(e,t,n){"use strict";n("8290")},d784:function(e,t,n){"use strict";n("ac1f");var r=n("6eeb"),i=n("9263"),a=n("d039"),o=n("b622"),c=n("9112"),s=o("species"),l=RegExp.prototype;e.exports=function(e,t,n,u){var f=o(e),d=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),p=d&&!a((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[s]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!d||!p||n){var g=/./[f],h=t(f,""[e],(function(e,t,n,r,a){var o=t.exec;return o===i||o===l.exec?d&&!a?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));r(String.prototype,e,h[0]),r(l,f,h[1])}u&&c(l[f],"sham",!0)}},daca:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-header",{attrs:{height:"30"}},[n("app-header")],1),n("el-container",[n("el-aside",{staticClass:"left-panel",attrs:{width:"400px"}},[n("app-side-panel")],1),n("el-main",[n("app-stage")],1)],1)],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-header"},[e.connected?n("el-tag",{attrs:{type:"success"}},[e._v("服务已连接")]):n("el-tag",{attrs:{type:"danger"}},[e._v("服务未连接")]),e.isGameStarted?n("el-tag",{attrs:{type:"success"}},[e._v("游戏进行中")]):n("el-tag",{attrs:{type:"info"}},[e._v("游戏未开始")])],1)},o=[];n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=n("2f62"),f={computed:l(l({},Object(u["c"])(["connected"])),Object(u["b"])(["isGameStarted"]))},d=f,p=(n("d2c4"),n("2877")),g=Object(p["a"])(d,a,o,!1,null,"30a88f76",null),h=g.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{ref:"wrapper",attrs:{"body-style":{padding:0}}},[n("v-stage",{attrs:{config:e.stageConfig},on:{mousedown:e.mousedownHandler,mouseup:e.mouseupHandler,mousemove:e.mousemoveHandler}},[n("v-layer",e._l(e.lines,(function(e,t){return n("v-line",{key:t,attrs:{config:e}})})),1)],1)],1)},b=[],m=(n("99af"),{data:function(){return{stageConfig:{width:800,height:700},painting:!1,stroke:"#df4b26",strokeWidth:5}},computed:l(l({},Object(u["c"])(["lines"])),Object(u["b"])(["isGameStarted","isGameHolder"])),mounted:function(){this.stageConfig.width=this.$refs.wrapper.$el.offsetWidth},methods:{mousedownHandler:function(e){if(this.isGameHolder&&this.isGameHolder){this.painting=!0;var t={stroke:this.stroke,strokeWidth:this.strokeWidth,points:[e.evt.layerX,e.evt.layerY]};this.$store.commit("drawNewLine",t),this.$store.dispatch("sendDrawNewLine",t)}},mousemoveHandler:function(e){if(this.painting){var t=this.lines[this.lines.length-1];t.points=t.points.concat([e.evt.layerX,e.evt.layerY]),console.log(t),this.$store.commit("updateNewLine",t),this.$store.dispatch("sendUpdateNewLine",t)}},mouseupHandler:function(){this.painting=!1}}}),y=m,x=Object(p["a"])(y,v,b,!1,null,null,null),w=x.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",[n("div",{staticClass:"panel-area"},[n("ul",{staticClass:"participants"},e._l(e.nicknames,(function(t){return n("li",{key:t},[n("span",[e._v(e._s(t)+" "+e._s(t===e.nickname?"（我）":""))]),t===e.holder?n("el-tag",{attrs:{size:"mini"}},[e._v("主持")]):e._e()],1)})),0)]),n("div",{staticClass:"panel-area button-area"},[e.isGameStarted?e._e():n("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-edit"},on:{click:e.startGameHandler}},[e._v("主持游戏")]),e.isGameStarted&&e.nickname===e.holder?n("el-button",{attrs:{type:"warning",size:"small",icon:"el-icon-delete"},on:{click:e.stopGameHandler}},[e._v("终止游戏")]):e._e(),e.isGameStarted&&e.nickname!==e.holder?n("el-button",{attrs:{type:"success",size:"small",icon:"el-icon-magic-stick"},on:{click:e.answerGameHandler}},[e._v("猜答案")]):e._e(),n("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-switch-button"},on:{click:e.exitHandler}},[e._v("退出游戏")])],1),n("el-dialog",{attrs:{title:"请设置答案",visible:e.resultDialogVisible,width:"30%"},on:{"update:visible":function(t){e.resultDialogVisible=t}}},[n("el-input",{attrs:{placeholder:"请输入您的答案"},model:{value:e.expectImageName,callback:function(t){e.expectImageName=t},expression:"expectImageName"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.resultDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveDialogHandler}},[e._v("确 定")])],1)],1),n("el-dialog",{attrs:{title:"请填写答案",visible:e.answerDialogVisible,width:"30%"},on:{"update:visible":function(t){e.answerDialogVisible=t}}},[n("el-input",{attrs:{placeholder:"请输入您的答案"},model:{value:e.inputImageName,callback:function(t){e.inputImageName=t},expression:"inputImageName"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.answerDialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.saveAnswerDialogHandler}},[e._v("确 定")])],1)],1)],1)},S=[],j=(n("ac1f"),n("5319"),{data:function(){return{resultDialogVisible:!1,expectImageName:"",answerDialogVisible:!1,inputImageName:""}},computed:l(l({},Object(u["c"])(["nickname","nicknames","holder"])),Object(u["b"])(["isGameStarted"])),methods:{startGameHandler:function(){this.resultDialogVisible=!0,this.expectImageName=""},stopGameHandler:function(){var e=this;this.$confirm("确定要终止游戏吗?","温馨提示").then((function(){e.$store.dispatch("sendStopGame")})).catch((function(e){console.log(e)}))},answerGameHandler:function(){this.answerDialogVisible=!0,this.inputImageName=""},saveDialogHandler:function(){this.expectImageName?(this.$store.dispatch("sendStartGame",this.expectImageName),this.resultDialogVisible=!1):this.$message.error("答案不能为空哦!")},saveAnswerDialogHandler:function(){this.inputImageName?(this.$store.dispatch("sendAnswerGame",this.inputImageName),this.answerDialogVisible=!1):this.$message.error("答案不能为空")},exitHandler:function(){var e=this;this.$confirm("是否退出游戏","温馨提示").then((function(){e.$store.dispatch("sendUserLeave"),e.$router.replace("/login")})).catch((function(e){console.log(e)}))}}}),k=j,E=(n("3fce"),Object(p["a"])(k,O,S,!1,null,"8ae958ec",null)),$=E.exports,I={components:{AppHeader:h,AppStage:w,AppSidePanel:$},created:function(){this.$store.dispatch("sendUserEnter")},methods:{}},_=I,N=(n("9416"),Object(p["a"])(_,r,i,!1,null,"07685cae",null));t["default"]=N.exports},dbb4:function(e,t,n){var r=n("23e7"),i=n("83ab"),a=n("56ef"),o=n("fc6a"),c=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){var t,n,r=o(e),i=c.f,l=a(r),u={},f=0;while(l.length>f)n=i(r,t=l[f++]),void 0!==n&&s(u,t,n);return u}})},e439:function(e,t,n){var r=n("23e7"),i=n("d039"),a=n("fc6a"),o=n("06cf").f,c=n("83ab"),s=i((function(){o(1)})),l=!c||s;r({target:"Object",stat:!0,forced:l,sham:!c},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e538:function(e,t,n){var r=n("b622");t.f=r},f9a7:function(e,t,n){},fce3:function(e,t,n){var r=n("d039");e.exports=r((function(){var e=RegExp(".","string".charAt(0));return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-5a0ce51b.fa22dc4d.js.map