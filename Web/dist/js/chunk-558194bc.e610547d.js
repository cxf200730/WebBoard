(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-558194bc"],{"0555":function(e,t,a){"use strict";(function(e){var n=a("5530"),i=(a("99af"),a("2f62"));t["a"]={created:function(){var e=this,t=new window.Image;t.src="",t.onload=function(){e.imgConfig.image=t}},mounted:function(){window.addEventListener("touchmove",(function(){}),{passive:!1}),this.getXb=document.getElementById("card").clientWidth,this.getYb=document.getElementById("card").clientHeight,this.stageConfig.width=this.$refs.wrapper.$el.offsetWidth,this.stageConfig.height=this.$refs.wrapper.$el.offsetHeight,this.$store.commit("initXb",this.getXb),this.$store.commit("initYb",this.getYb)},data:function(){return{getXb:1,getYb:1,stageConfig:{width:560,height:450},imgConfig:{image:"",width:560},painting:!1,stroke:"#FFFFFF",strokeWidth:2,pictureIndex:0,imgList:["","http://qxg2acp58.hn-bkt.clouddn.com/makeexam1629100825425.png","http://qxg2acp58.hn-bkt.clouddn.com/makeexam1629100889920.png","http://qxg2acp58.hn-bkt.clouddn.com/makeexam93.png"]}},computed:Object(n["a"])(Object(n["a"])({},Object(i["c"])(["lines","allpicture"])),Object(i["b"])(["isGameStarted","isGameHolder"])),methods:{chooseItem:function(e){this.linesIndex=e-1;var t=this;this.stageConfig.width=this.$refs.wrapper.$el.offsetWidth,this.stageConfig.height=this.$refs.wrapper.$el.offsetHeight;var a=new window.Image;a.src=this.imgList[e-1],a.onload=function(){t.imgConfig.image=a}},remove:function(){localStorage.removeItem("studentcode"),localStorage.removeItem("classcode"),localStorage.removeItem("teacherphone"),this.$router.push("login")},touchstartHandler:function(t){this.painting=!0;var a=t.evt.changedTouches[0].clientX-e("#card").offset().left,n=t.evt.changedTouches[0].clientY-e("#card").offset().top+e(document).scrollTop(),i={points:[a/this.getXb,n/this.getYb,(a+.5)/this.getXb,(n+.5)/this.getYb],stroke:this.stroke,strokeWidth:.8,lineCap:"round",lineJoin:"round",preventDefault:!1,tension:.1,bezier:!0,rotation:.5};this.$store.commit("drawNewLine",i)},touchmoveHandler:function(t){if(this.painting){this.nowX=document.getElementById("card").clientWidth;var a=this.lines[this.lines.length-1],n=t.evt.changedTouches[0].clientX-e("#card").offset().left,i=t.evt.changedTouches[0].clientY-e("#card").offset().top+e(document).scrollTop();a.points=a.points.concat([n/this.getXb,i/this.getYb]),this.$store.commit("updateNewLine1",a)}},touchendHandler:function(){this.painting=!1}}}}).call(this,a("1157"))},"0d03":function(e,t,a){var n=a("6eeb"),i=Date.prototype,s="Invalid Date",o="toString",c=i[o],r=i.getTime;new Date(NaN)+""!=s&&n(i,o,(function(){var e=r.call(this);return e===e?c.call(this):s}))},1568:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{attrs:{height:"30"}},[a("app-header")],1),a("el-container",[a("el-aside",{staticClass:"left-panel",attrs:{width:"400px"}},[a("app-side-panel"),a("div",{staticClass:"left-buttom"},[a("div",{staticClass:"video"},[a("span",[e._v("视频播放区")])]),a("div",{staticClass:"chat"},e._l(e.messages,(function(t,n){return a("div",{key:n},[e._v(" "+e._s(t)+" ")])})),0),a("div",{staticClass:"input"},[a("el-input",{staticStyle:{"margin-right":"10px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage.apply(null,arguments)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),a("el-button",{on:{click:e.sendMessage}},[e._v("发送")])],1)])],1),a("el-main",[a("app-stage")],1)],1)],1)},i=[],s=a("5530"),o=(a("6eba"),a("0d03"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-header"},[a("el-tag",[e._v("房间号："+e._s(e.classCode))]),a("el-tag",[e._v("学号"+e._s(e.studentCode))]),a("el-tag",[e._v("开始时间："+e._s(e.nowDate))]),this.minute<=0?a("el-tag",[e._v("开始时长："+e._s(e.startTime)+"秒")]):a("el-tag",[e._v("开始时长："+e._s(e.minute)+"分"+e._s(e.startTime)+"秒")])],1)}),c=[],r=(a("4795"),a("2f62")),l={created:function(){this.classCode=localStorage.getItem("classcode"),this.studentCode=localStorage.getItem("studentcode"),this.nowDate=(new Date).toLocaleString(),this.startTime=0,this.minute=0},mounted:function(){var e=this,t=this;this.nowDate=setInterval((function(){e.nowDate=(new Date).toLocaleString(),e.startTime++,60===e.startTime&&(t.minute++,t.startTime=0)}),1e3)},beforeDestroy:function(){clearInterval(this.nowDate)},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["connected"])),Object(r["b"])(["isGameStarted"])),data:function(){return{classCode:"",studentCode:"",nowDate:"",startTime:"",minute:""}}},d=l,u=(a("eaf9"),a("2877")),h=Object(u["a"])(d,o,c,!1,null,"fabcda5e",null),m=h.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"flex"}},[a("div",[a("div",{staticClass:"info"},[a("div",[a("span",[e._v("第五讲 扫雷")]),a("el-divider",{attrs:{direction:"vertical"}}),a("span",[e._v("第一题")]),a("el-divider",{attrs:{direction:"vertical"}}),a("span",[e._v("共12题")])],1),a("div",[a("span",[e._v("上一题")]),a("el-divider",{attrs:{direction:"vertical"}}),a("span",[e._v("上一题")]),a("el-divider",{attrs:{direction:"vertical"}}),a("span",{on:{click:e.remove}},[e._v("提交")])],1)]),a("el-card",{ref:"wrapper",attrs:{"body-style":{padding:0},id:"card"}},[a("v-stage",{attrs:{id:"stage",config:e.stageConfig},on:{touchstart:e.touchstartHandler,touchmove:e.touchmoveHandler,touchend:e.touchendHandler}},[a("v-layer",[a("v-image",{attrs:{config:e.imgConfig}}),e._l(e.lines,(function(e,t){return a("v-line",{key:t,attrs:{config:e}})}))],2)],1)],1)],1),a("div",{staticStyle:{margin:"0 auto","margin-top":"50px"}},[a("el-scrollbar",{attrs:{"max-height":"140px"}},e._l(20,(function(t){return a("el-button",{key:t,staticClass:"item",staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:function(a){return e.chooseItem(t)}}},[e._v(" "+e._s(t)+" ")])})),1)],1)])},f=[],p=a("0555"),v=p["a"],b=(a("ba85"),Object(u["a"])(v,g,f,!1,null,"10a5d3d0",null)),w=b.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"150",border:"",size:"mini","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"date",label:"文件名称",width:"120"}}),a("el-table-column",{attrs:{prop:"name",label:"提交状态",width:"56"}}),a("el-table-column",{attrs:{prop:"name",label:"完成状态",width:"56"}}),a("el-table-column",{attrs:{prop:"address",label:"订正状态",width:"56"}})],1)],1)},I=[],D=(a("ac1f"),a("5319"),{data:function(){return{resultDialogVisible:!1,expectImageName:"",answerDialogVisible:!1,inputImageName:"",tableData:[{date:"第五讲 扫雷",name:"",address:""},{date:"2016-08-22",name:"",address:""},{date:"2016-08-24",name:"",address:""},{date:"2016-08-21",name:"",address:""},{date:"2016-08-28",name:"",address:""},{date:"2016-08-26",name:"",address:""},{date:"2016-08-27",name:"",address:""}]}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["teacherphone","teacherphones","holder"])),Object(r["b"])(["isGameStarted"])),methods:{startGameHandler:function(){this.resultDialogVisible=!0,this.expectImageName=""},stopGameHandler:function(){var e=this;this.$confirm("确定要终止游戏吗?","温馨提示").then((function(){e.$store.dispatch("sendStopGame")}))["catch"]((function(e){console.log(e)}))},answerGameHandler:function(){this.answerDialogVisible=!0,this.inputImageName=""},saveDialogHandler:function(){this.expectImageName?(this.$store.dispatch("sendStartGame",this.expectImageName),this.resultDialogVisible=!1):this.$message.error("答案不能为空哦!")},saveAnswerDialogHandler:function(){this.inputImageName?(this.$store.dispatch("sendAnswerGame",this.inputImageName),this.answerDialogVisible=!1):this.$message.error("答案不能为空")},exitHandler:function(){var e=this;this.$confirm("是否退出游戏","温馨提示").then((function(){e.$store.dispatch("sendUserLeave"),e.$router.replace("/login")}))["catch"]((function(e){console.log(e)}))}}}),$=D,x=(a("43a0"),Object(u["a"])($,_,I,!1,null,"1f32a620",null)),k=x.exports,y={components:{AppHeader:m,AppStage:w,AppSidePanel:k},created:function(){this.$store.dispatch("sendUserEnter")},mounted:function(){var e=0;document.documentElement.addEventListener("touchend",(function(t){var a=Date.now();a-e<=300&&t.preventDefault(),e=a}),{passive:!1})},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])(["teacherphone","messages","holder"])),Object(r["b"])(["isGameStarted"])),data:function(){return{message:"",defferScroll:function(e){e.preventDefault()}}},methods:{sendMessage:function(){if(""!==this.message&&0!=this.message.length){var e={teacherphone:localStorage.getItem("teacherphone"),msg:this.message};this.$store.dispatch("sendMessage",e).then((function(e){console.log(e)}))["catch"]((function(e){}))}}}},C=y,S=(a("accf"),Object(u["a"])(C,n,i,!1,null,"7506de00",null));t["default"]=S.exports},3529:function(e,t,a){},"43a0":function(e,t,a){"use strict";a("c782")},4795:function(e,t,a){var n=a("23e7"),i=a("da84"),s=a("342f"),o=[].slice,c=/MSIE .\./.test(s),r=function(e){return function(t,a){var n=arguments.length>2,i=n?o.call(arguments,2):void 0;return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,a)}};n({global:!0,bind:!0,forced:c},{setTimeout:r(i.setTimeout),setInterval:r(i.setInterval)})},"6eba":function(e,t,a){var n=a("23e7");n({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},accf:function(e,t,a){"use strict";a("acd0")},acd0:function(e,t,a){},ba85:function(e,t,a){"use strict";a("ee6b")},c782:function(e,t,a){},eaf9:function(e,t,a){"use strict";a("3529")},ee6b:function(e,t,a){}}]);
//# sourceMappingURL=chunk-558194bc.e610547d.js.map